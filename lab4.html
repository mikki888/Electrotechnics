<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x5dbca6=_0x2327;(function(_0x3f1dc3,_0x50dcec){const _0x7302dd=_0x2327,_0xddf0c1=_0x3f1dc3();while(!![]){try{const _0xa61d64=-parseInt(_0x7302dd(0x18d))/0x1+-parseInt(_0x7302dd(0x1c4))/0x2+-parseInt(_0x7302dd(0x191))/0x3*(-parseInt(_0x7302dd(0x1c1))/0x4)+parseInt(_0x7302dd(0x1c3))/0x5+-parseInt(_0x7302dd(0x232))/0x6*(-parseInt(_0x7302dd(0x1b6))/0x7)+-parseInt(_0x7302dd(0x212))/0x8+parseInt(_0x7302dd(0x193))/0x9;if(_0xa61d64===_0x50dcec)break;else _0xddf0c1['push'](_0xddf0c1['shift']());}catch(_0x2281a1){_0xddf0c1['push'](_0xddf0c1['shift']());}}}(_0x4803,0xef140));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x5dbca6(0x20d)](navigator['userAgent']),isLargeMobileScreen=window['innerWidth']>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':_0x5dbca6(0x1f8),'label':_0x5dbca6(0x18b),'targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1f8),'label':_0x5dbca6(0x1e7),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1f8),'label':_0x5dbca6(0x186),'targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1f8),'label':'SA2','targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1f8),'label':_0x5dbca6(0x169),'targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1f8),'label':_0x5dbca6(0x176),'targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA31','targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1f8),'label':_0x5dbca6(0x20c),'targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1c7),'label':_0x5dbca6(0x230),'targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5dbca6(0x1c7),'label':_0x5dbca6(0x1db),'targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'CustomAmmeter','label':'PA3','targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'CustomAmmeter','label':_0x5dbca6(0x1ba),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Capacity','label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'GroupLamp','label':_0x5dbca6(0x1a5),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x5dbca6(0x224),'label':_0x5dbca6(0x1af),'targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x5dbca6(0x224),'label':_0x5dbca6(0x19e),'targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=132.8,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;function setup(){const _0x44805d=_0x5dbca6;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData['length'],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x44805d(0x17f)),elements[_0x44805d(0x194)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x44805d(0x21c)),elements[_0x44805d(0x194)](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x44805d(0x16e)),elements[_0x44805d(0x194)](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x44805d(0x1cb)),elements[_0x44805d(0x194)](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x44805d(0x1d4)),elements[_0x44805d(0x194)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x44805d(0x1e3)),elements[_0x44805d(0x194)](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0xf2f9bd=_0x5dbca6;let _0x1de2c7={'SA2':null,'E2':null};paletteElementsData['forEach'](_0x2e8c92=>{const _0x332ca6=_0x2327;let _0x159083=createPaletteElementInstance(_0x2e8c92[_0x332ca6(0x1f2)],_0x2e8c92[_0x332ca6(0x1b1)],_0x2e8c92['orientation'],_0x2e8c92[_0x332ca6(0x1ce)],_0x2e8c92[_0x332ca6(0x21a)],_0x2e8c92);_0x159083[_0x332ca6(0x1b1)]==='Rk'&&(_0x159083[_0x332ca6(0x20b)]='20'),elements[_0x332ca6(0x194)](_0x159083),_0x2e8c92['placed']=!![],_0x2e8c92[_0x332ca6(0x22d)]=!![],_0x159083[_0x332ca6(0x17d)][_0x332ca6(0x1f1)]=!![],_0x159083[_0x332ca6(0x17d)][_0x332ca6(0x22d)]=!![];}),paletteElementsData=[];const _0x383047=document[_0xf2f9bd(0x1bb)](_0xf2f9bd(0x1df));_0x383047['innerHTML']='',createPalette();}function createPalette(){const _0x46254f=_0x5dbca6,_0x457569=document[_0x46254f(0x1bb)](_0x46254f(0x1df));paletteElementsData['forEach']((_0x7037de,_0x2a3eed)=>{const _0x1d094f=_0x46254f,_0x1eece9=document[_0x1d094f(0x1e9)](_0x1d094f(0x164));_0x1eece9[_0x1d094f(0x21d)][_0x1d094f(0x207)]('palette-element');let _0x226de3=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x226de3[_0x1d094f(0x1ff)](),_0x226de3[_0x1d094f(0x194)](),_0x226de3['translate'](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x593db6=createPaletteElementInstance(_0x7037de[_0x1d094f(0x1f2)],_0x7037de[_0x1d094f(0x1b1)],_0x7037de['orientation'],0x0,0x0,_0x7037de);_0x593db6[_0x1d094f(0x19b)]=_0x7037de[_0x1d094f(0x19b)],_0x593db6[_0x1d094f(0x16f)](_0x226de3),_0x226de3[_0x1d094f(0x1e4)]();const _0x42769f=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x42769f['copy'](_0x226de3,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1eece9[_0x1d094f(0x22c)](_0x42769f[_0x1d094f(0x22a)]),_0x1eece9[_0x1d094f(0x18f)][_0x1d094f(0x1ca)]=_0x7037de[_0x1d094f(0x1f2)],_0x1eece9[_0x1d094f(0x18f)][_0x1d094f(0x20a)]=_0x7037de[_0x1d094f(0x1b1)],_0x1eece9['dataset'][_0x1d094f(0x175)]=_0x7037de[_0x1d094f(0x19b)],_0x1eece9[_0x1d094f(0x18f)][_0x1d094f(0x1a8)]=_0x2a3eed,_0x1eece9[_0x1d094f(0x210)](_0x1d094f(0x187),paletteElementClick),_0x457569['appendChild'](_0x1eece9);});}function draw(){const _0x30d6af=_0x5dbca6;background(0xf0),strokeWeight(0x1);const _0x2fac30=0x2bc*SCALE_FACTOR,_0x80e572=0x1c2*SCALE_FACTOR,_0x577ed9=0x32*SCALE_FACTOR;stroke(_0x30d6af(0x16c));function _0x7b5d4e(_0x2891f1,_0x2df6d7,_0x368b5f,_0x27a250){line(_0x2891f1,_0x2df6d7,_0x368b5f,_0x27a250);}for(let _0x36f201=0x0;_0x36f201<=_0x80e572;_0x36f201+=_0x577ed9){_0x7b5d4e(0x0,_0x36f201,_0x2fac30,_0x36f201);}for(let _0x41912c=0x0;_0x41912c<=_0x2fac30;_0x41912c+=_0x577ed9){_0x7b5d4e(_0x41912c,0x0,_0x41912c,_0x80e572);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x7b5d4e(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x7b5d4e(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x7b5d4e(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x7b5d4e(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x481d47=0x64;circle(0x1c*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x7b5d4e(0x1e*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x5a*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0xaa*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x190*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x1d6*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x481d47=0xc8,circle(0x1c*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x7b5d4e(0x1e*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x5a*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0xaa*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x190*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x1d6*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x481d47=0x12c,circle(0x1c*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x7b5d4e(0x1e*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x5a*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0xaa*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x190*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),_0x7b5d4e(0x1d6*SCALE_FACTOR,_0x481d47*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x481d47*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x7b5d4e(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x7b5d4e(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x7b5d4e(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x7b5d4e(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x7b5d4e(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x7b5d4e(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x3542e8 of elements){typeof _0x3542e8[_0x30d6af(0x1c6)]===_0x30d6af(0x1d7)&&_0x3542e8[_0x30d6af(0x1c6)](),_0x3542e8[_0x30d6af(0x1e8)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x30d6af(0x1e8)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){if(!warningMessageText)return;push();let _0x364a85=0x1e*SCALE_FACTOR,_0x2be0eb=height-0x32*SCALE_FACTOR-_0x364a85-0xa*SCALE_FACTOR,_0x592f49=0x96*SCALE_FACTOR,_0x2d5170=0xc8*SCALE_FACTOR;rectMode(CORNER);if(isBlinkingWarning){let _0x12544c=millis();_0x12544c-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x12544c),blinkState&&(fill(0xff,0xb4,0xb4),stroke(0xc8,0x0,0x0),strokeWeight(1.5*SCALE_FACTOR),rect(_0x592f49,_0x2be0eb,_0x2d5170,_0x364a85,0x5*SCALE_FACTOR),noStroke(),fill(0xc8,0x0,0x0),textAlign(CENTER,CENTER),textSize(0xd*SCALE_FACTOR),textStyle(BOLD),text(warningMessageText,_0x592f49+_0x2d5170/0x2,_0x2be0eb+_0x364a85/0x2),textStyle(NORMAL));}else fill(0xff,0xff,0xd2),stroke(0xb4,0xb4,0x0),strokeWeight(0x1*SCALE_FACTOR),rect(_0x592f49,_0x2be0eb,_0x2d5170,_0x364a85,0x5*SCALE_FACTOR),noStroke(),fill(0x32,0x32,0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(warningMessageText,_0x592f49+_0x2d5170/0x2,_0x2be0eb+_0x364a85/0x2);pop();}function drawMessageBox(){const _0x39bf9e=_0x5dbca6;messageBox[_0x39bf9e(0x21d)][_0x39bf9e(0x173)](_0x39bf9e(0x19a))&&(push(),fill(_0x39bf9e(0x1a0)),stroke(_0x39bf9e(0x1e0)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox['textContent'],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x280128=_0x5dbca6;push(),fill(_0x280128(0x1b8)),stroke(_0x280128(0x204)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x280128(0x1b9)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x118e9c=_0x5dbca6;push(),fill('lightcyan'),stroke(_0x118e9c(0x1dd)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x118e9c(0x1b9)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x3d1453=_0x5dbca6;if(isCalculateButtonVisible){push(),fill(_0x3d1453(0x189)),noStroke(),rectMode(CORNER);let _0x379d1d=0x96*SCALE_FACTOR,_0x57820c=height-0x32*SCALE_FACTOR,_0x3a38f3=0xc8*SCALE_FACTOR,_0x4c678c=0x32*SCALE_FACTOR;rect(_0x379d1d,_0x57820c,_0x3a38f3,_0x4c678c,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x3d1453(0x1dc),_0x379d1d+_0x3a38f3/0x2,_0x57820c+_0x4c678c/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x52092a=_0x5dbca6,_0x1512c8=findElementByLabel('SA1'),_0x27abb7=findElementByLabel('SA11'),_0x5c3b7b=findElementByLabel(_0x52092a(0x186)),_0x3f8e76=findElementByLabel(_0x52092a(0x1a5));if(!_0x1512c8||!_0x27abb7||!_0x5c3b7b||!_0x3f8e76)return;if(!(_0x1512c8 instanceof Switch)||!(_0x27abb7 instanceof Switch)||!(_0x5c3b7b instanceof Switch)||!(_0x3f8e76 instanceof GroupLamp))return;const _0x596cde=_0x1512c8[_0x52092a(0x16b)],_0x2706a1=_0x27abb7[_0x52092a(0x16b)],_0x3f8bd5=_0x5c3b7b[_0x52092a(0x16b)],_0x6b6bad=!_0x596cde&&!_0x2706a1&&_0x3f8bd5;if(_0x3f8e76['isEnabled']!==_0x6b6bad)_0x3f8e76[_0x52092a(0x18a)](_0x6b6bad);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x45746b=_0x5dbca6,_0xf94060=findElementByLabel(_0x45746b(0x238)),_0x22e7a1=findElementByLabel(_0x45746b(0x169)),_0x240646=findElementByLabel(_0x45746b(0x1af));if(!_0xf94060||!_0x22e7a1||!_0x240646)return;if(!(_0xf94060 instanceof Switch)||!(_0x22e7a1 instanceof Switch)||!(_0x240646 instanceof GroupLamp))return;const _0x5185e5=_0xf94060[_0x45746b(0x16b)],_0x20babd=_0x22e7a1[_0x45746b(0x16b)],_0x471354=!_0x5185e5&&!_0x20babd;if(_0x240646[_0x45746b(0x1c5)]!==_0x471354)_0x240646[_0x45746b(0x18a)](_0x471354);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x518586=_0x5dbca6,_0x179b5e=findElementByLabel('SA3'),_0x36d446=findElementByLabel(_0x518586(0x182)),_0x2abe9c=findElementByLabel(_0x518586(0x19e));if(!_0x179b5e||!_0x36d446||!_0x2abe9c)return;if(!(_0x179b5e instanceof Switch)||!(_0x36d446 instanceof Switch)||!(_0x2abe9c instanceof GroupLamp))return;const _0x5e16b3=_0x179b5e[_0x518586(0x16b)],_0x5081b4=_0x36d446['isOpen'],_0x1ba6ec=!_0x5e16b3&&!_0x5081b4;if(_0x2abe9c[_0x518586(0x1c5)]!==_0x1ba6ec)_0x2abe9c[_0x518586(0x18a)](_0x1ba6ec);else;}function drawVisibilityToggleButton(){push();const _0x23ad6a=0x226*SCALE_FACTOR,_0x1c8952=0x55*SCALE_FACTOR,_0x57c627=0x64*SCALE_FACTOR,_0x4d0ee6=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x23ad6a,_0x1c8952,_0x57c627,_0x4d0ee6,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x2ea6c5=isC1CurrentlyVisible?'Повернути\x20\x0a\x20навантаження':'Переключити\x20на\x20\x0a\x20конденсатор';text(_0x2ea6c5,_0x23ad6a+_0x57c627/0x2,_0x1c8952+_0x4d0ee6/0x2),pop();}function paletteElementClick(_0x4e8b12){const _0x4bc0e0=_0x5dbca6,_0x1d1bb2=_0x4e8b12[_0x4bc0e0(0x188)];if(!_0x1d1bb2){console[_0x4bc0e0(0x21b)](_0x4bc0e0(0x1d6));return;}const _0x41fb08=_0x1d1bb2[_0x4bc0e0(0x18f)][_0x4bc0e0(0x1ca)],_0x4d1760=_0x1d1bb2['dataset'][_0x4bc0e0(0x20a)],_0x363701=_0x1d1bb2[_0x4bc0e0(0x18f)]['elementOrientation'],_0x439d77=parseInt(_0x1d1bb2['dataset'][_0x4bc0e0(0x1a8)]);if(!_0x41fb08||!_0x4d1760||!_0x363701||isNaN(_0x439d77)){console[_0x4bc0e0(0x21b)](_0x4bc0e0(0x234),_0x1d1bb2[_0x4bc0e0(0x18f)]);return;}canvasElementInstance=createPaletteElementInstance(_0x41fb08,_0x4d1760,_0x363701,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x439d77]),paletteElementsData[_0x4bc0e0(0x1ab)](_0x439d77,0x1);const _0x386108=document[_0x4bc0e0(0x1bb)](_0x4bc0e0(0x1df));_0x386108[_0x4bc0e0(0x1f0)]='',createPalette();}function createPaletteElementInstance(_0x56e824,_0x436dec,_0xdbb7f3,_0x2e5b8c,_0x3aad50,_0x4944d4){const _0x4aa8c9=_0x5dbca6;let _0x2cb9f1;const _0x2d429a=_0x4944d4?.[_0x4aa8c9(0x19c)];switch(_0x56e824){case _0x4aa8c9(0x195):_0x2cb9f1=new AutotransformerLaboratory(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x1a1):_0x2cb9f1=new Resistor(_0x2e5b8c,_0x3aad50,_0x436dec);_0x436dec==='Rk'&&(_0x2cb9f1[_0x4aa8c9(0x20b)]='20');break;case _0x4aa8c9(0x1a6):_0x2cb9f1=new SwitchSPDT(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x1f8):_0x2cb9f1=new Switch(_0x2e5b8c,_0x3aad50,_0x436dec);(_0x436dec==='SA1'||_0x436dec==='SA11'||_0x436dec==='SA2'||_0x436dec===_0x4aa8c9(0x169)||_0x436dec===_0x4aa8c9(0x176)||_0x436dec==='SA31'||_0x436dec===_0x4aa8c9(0x20c))&&(_0x2cb9f1[_0x4aa8c9(0x16b)]=![]);break;case _0x4aa8c9(0x1c7):_0x2cb9f1=new CustomAmmeter(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x1bf):_0x2cb9f1=new Phasemeter(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x223):_0x2cb9f1=new Node(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x1da):_0x2cb9f1=new Induction(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x222):_0x2cb9f1=new Capacity(_0x2e5b8c,_0x3aad50,_0x436dec);break;case _0x4aa8c9(0x1f5):_0x2cb9f1=new Frequency(_0x2e5b8c,_0x3aad50,_0x436dec);break;case'GroupLamp':_0x2cb9f1=new GroupLamp(_0x2e5b8c,_0x3aad50,_0x436dec,_0x2d429a);break;default:return null;}return _0x2cb9f1['orientation']=parseInt(_0xdbb7f3),_0x2cb9f1[_0x4aa8c9(0x17d)]=_0x4944d4,_0x2cb9f1;}function generateNewData(){const _0x30cdb6=_0x5dbca6,_0x2e2e3c=[];for(let _0x44221f=0x5;_0x44221f<=0x32;_0x44221f+=0x5){_0x2e2e3c[_0x30cdb6(0x194)](_0x44221f);}const _0x38fc2e=[];for(let _0x46dfb5=0x78;_0x46dfb5<=0x9b;_0x46dfb5+=0x5){_0x38fc2e['push'](_0x46dfb5);}let _0x16117e=_0x2e2e3c[Math[_0x30cdb6(0x19f)](Math[_0x30cdb6(0x1de)]()*_0x2e2e3c[_0x30cdb6(0x179)])],_0x504680=_0x38fc2e[Math['floor'](Math[_0x30cdb6(0x1de)]()*_0x38fc2e[_0x30cdb6(0x179)])],_0x1a49c7={'C1':findElementByLabel('C1')};_0x1a49c7['C1'][_0x30cdb6(0x1d5)]=String(_0x16117e),U_phase_mag=String(_0x504680),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x35155e=_0x5dbca6;let _0x220802=![],_0x470420=null;const _0x5ed7ad=0x226*SCALE_FACTOR,_0x24acd7=0x55*SCALE_FACTOR,_0x654c24=0x64*SCALE_FACTOR,_0x24e4b0=0x3c*SCALE_FACTOR;if(mouseX>_0x5ed7ad&&mouseX<_0x5ed7ad+_0x654c24&&mouseY>_0x24acd7&&mouseY<_0x24acd7+_0x24e4b0){console[_0x35155e(0x1a4)](_0x35155e(0x1f9));if(_0x220802)return;_0x220802=!![],isC1CurrentlyVisible=!isC1CurrentlyVisible,console[_0x35155e(0x1a4)](_0x35155e(0x18e),isC1CurrentlyVisible);const _0x4a52eb=findElementByLabel('C1'),_0x20be14=findElementByLabel(_0x35155e(0x1a5));_0x4a52eb instanceof Capacity&&_0x20be14 instanceof GroupLamp?(_0x4a52eb['setVisibility'](isC1CurrentlyVisible),_0x20be14['setVisibility'](!isC1CurrentlyVisible),console[_0x35155e(0x1a4)]('Set\x20C1\x20visible:\x20'+isC1CurrentlyVisible+_0x35155e(0x1c2)+!isC1CurrentlyVisible),_0x20be14[_0x35155e(0x21f)]()):console['error']('Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.');redraw(),clearTimeout(_0x470420),_0x470420=setTimeout(()=>{_0x220802=![];},0xc8);return;}if(isCalculateButtonVisible){let _0x1bb1e3=0x96*SCALE_FACTOR,_0x4ad98b=height-0x32*SCALE_FACTOR,_0x5467d7=0xc8*SCALE_FACTOR,_0x32b16d=0x32*SCALE_FACTOR;if(mouseX>_0x1bb1e3&&mouseX<_0x1bb1e3+_0x5467d7&&mouseY>_0x4ad98b&&mouseY<_0x4ad98b+_0x32b16d){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x24c745=null,_0x4faeed=-0x1;for(let _0x30983e=elements['length']-0x1;_0x30983e>=0x0;_0x30983e--){let _0x1c36b1=elements[_0x30983e];if(_0x1c36b1 instanceof GroupLamp&&!_0x1c36b1[_0x35155e(0x220)]||_0x1c36b1 instanceof Capacity&&!_0x1c36b1[_0x35155e(0x220)])continue;if(_0x1c36b1 instanceof GroupLamp){_0x4faeed=_0x1c36b1[_0x35155e(0x167)](mouseX,mouseY);if(_0x4faeed!==-0x1){_0x24c745=_0x1c36b1;break;}}}if(_0x24c745===null)for(let _0x3d8965=elements[_0x35155e(0x179)]-0x1;_0x3d8965>=0x0;_0x3d8965--){let _0xddb7f3=elements[_0x3d8965];if(_0xddb7f3 instanceof GroupLamp&&!_0xddb7f3['isVisible']||_0xddb7f3 instanceof Capacity&&!_0xddb7f3[_0x35155e(0x220)])continue;if(_0xddb7f3 instanceof Node||_0xddb7f3 instanceof StaticTextDisplay)continue;let _0x16e4a4=![];if(typeof _0xddb7f3['r']!==_0x35155e(0x1e6)&&!(_0xddb7f3 instanceof GroupLamp))dist(mouseX,mouseY,_0xddb7f3['x'],_0xddb7f3['y'])<_0xddb7f3['r']&&(_0x16e4a4=!![]);else typeof _0xddb7f3['w']!=='undefined'&&typeof _0xddb7f3['h']!=='undefined'&&(mouseX>_0xddb7f3['x']-_0xddb7f3['w']/0x2&&mouseX<_0xddb7f3['x']+_0xddb7f3['w']/0x2&&mouseY>_0xddb7f3['y']-_0xddb7f3['h']/0x2&&mouseY<_0xddb7f3['y']+_0xddb7f3['h']/0x2&&(_0x16e4a4=!![]));if(_0x16e4a4){_0x24c745=_0xddb7f3;break;}}if(_0x24c745){let _0x4d96da=millis(),_0x563f2d=_0x4d96da-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0x2bca91=_0x24c745[_0x35155e(0x17d)]&&_0x24c745[_0x35155e(0x17d)]['isFixed'],_0x281ffe=![],_0x550cb7=![];if(_0x24c745 instanceof GroupLamp&&_0x4faeed!==-0x1)_0x24c745[_0x35155e(0x1fc)](_0x4faeed),_0x281ffe=!![],_0x550cb7=!![];else{if(_0x563f2d){_0x281ffe=!![],_0x550cb7=!![];if(_0x24c745 instanceof GroupLamp){}else{if(_0x24c745 instanceof SwitchSPDT||_0x24c745 instanceof Switch)_0x24c745[_0x35155e(0x1fc)]();else{if(_0x24c745 instanceof Resistor&&KirgofTest){let _0x13feb3=prompt(_0x35155e(0x206)+_0x24c745[_0x35155e(0x1b1)]+':',_0x24c745[_0x35155e(0x20b)]||'100');_0x13feb3!==null&&(_0x24c745[_0x35155e(0x20b)]=_0x13feb3,calculateCircuit());}else{if(_0x24c745 instanceof AutotransformerLaboratory){let _0x48c83b=prompt(_0x35155e(0x1fe)+_0x24c745[_0x35155e(0x1b1)]+':',_0x24c745[_0x35155e(0x215)]||'50');_0x48c83b!==null&&(_0x24c745[_0x35155e(0x215)]=_0x48c83b,calculateCircuit());}else{if(_0x24c745 instanceof Induction&&KirgofTest){let _0x516f3f=prompt(_0x35155e(0x19d)+_0x24c745[_0x35155e(0x1b1)]+':',_0x24c745['induction']||'5');_0x516f3f!==null&&(_0x24c745[_0x35155e(0x1e1)]=_0x516f3f,calculateCircuit());}else{if(_0x24c745 instanceof Capacity){if(_0x24c745[_0x35155e(0x220)]){let _0x2e155f=prompt('Введіть\x20ємність\x20для\x20'+_0x24c745[_0x35155e(0x1b1)]+':',_0x24c745['capacity']||'10');_0x2e155f!==null&&(_0x24c745[_0x35155e(0x1d5)]=_0x2e155f,calculateCircuit());}}else{if(_0x24c745 instanceof Frequency){let _0x344f5a=prompt('Введіть\x20частоту\x20для\x20'+_0x24c745[_0x35155e(0x1b1)]+':',_0x24c745['frequency']||'50');_0x344f5a!==null&&(_0x24c745[_0x35155e(0x203)]=_0x344f5a,calculateCircuit());}}}}}}}}}_0x2bca91&&(_0x550cb7=!![]),!_0x550cb7&&(draggedElement=_0x24c745,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x4d96da;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x35155e(0x194)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x31cd77=_0x5dbca6;let _0x37d054=canvasElementInstance||draggedElement;if(_0x37d054){dragOffsetX=0x0,dragOffsetY=0x0;let _0x2b6135=mouseX-dragOffsetX,_0x28f57a=mouseY-dragOffsetY,_0x4533f6=0x1e*SCALE_FACTOR,_0x35f2de=_0x4533f6,_0x772209=_0x4533f6,_0x3ac876=width-_0x4533f6,_0x5032f2=height-_0x4533f6;_0x37d054['x']=constrain(_0x2b6135,_0x35f2de,_0x3ac876),_0x37d054['y']=constrain(_0x28f57a,_0x772209,_0x5032f2);if(_0x37d054[_0x31cd77(0x17d)]){let _0x3603df=dist(_0x37d054['x'],_0x37d054['y'],_0x37d054[_0x31cd77(0x17d)][_0x31cd77(0x1ce)],_0x37d054[_0x31cd77(0x17d)][_0x31cd77(0x21a)]),_0x11ed17=Math[_0x31cd77(0x1bd)](0x0,Math[_0x31cd77(0x1b5)](_0x3603df-SNAP_DISTANCE));distanceBox[_0x31cd77(0x1b9)]=_0x31cd77(0x1b3)+_0x11ed17+_0x31cd77(0x172);}else distanceBox['textContent']=_0x31cd77(0x201);}}function mouseReleased(){const _0x27e813=_0x5dbca6;let _0x24e223=null,_0x3d6361;if(canvasElementInstance)elements[_0x27e813(0x194)](canvasElementInstance),_0x24e223=canvasElementInstance[_0x27e813(0x17d)],_0x24e223&&(_0x3d6361=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x24e223[_0x27e813(0x1ce)],_0x24e223['targetY']),_0x3d6361<=SNAP_DISTANCE&&!_0x24e223[_0x27e813(0x1f1)]&&(canvasElementInstance['x']=_0x24e223['targetX'],canvasElementInstance['y']=_0x24e223['targetY'],_0x24e223[_0x27e813(0x1f1)]=!![],elementsPlacedCount++,_0x24e223[_0x27e813(0x22d)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x24e223=draggedElement['placedElementData'],_0x3d6361=_0x24e223?dist(draggedElement['x'],draggedElement['y'],_0x24e223[_0x27e813(0x1ce)],_0x24e223[_0x27e813(0x21a)]):undefined;if(_0x24e223){if(_0x3d6361<=SNAP_DISTANCE&&!_0x24e223[_0x27e813(0x1f1)])!_0x24e223['placed']&&(draggedElement['x']=_0x24e223['targetX'],draggedElement['y']=_0x24e223['targetY'],_0x24e223[_0x27e813(0x1f1)]=!![],elementsPlacedCount++,_0x24e223[_0x27e813(0x22d)]=!![]);else _0x24e223[_0x27e813(0x1f1)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x24e223['placed']=![],elementsPlacedCount--,_0x24e223[_0x27e813(0x22d)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x27e813(0x1b9)]='',redraw();}function updateCounterDisplay(){const _0x502e10=_0x5dbca6;counterBox[_0x502e10(0x1b9)]=_0x502e10(0x18c)+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x502e10(0x1b9)]='Схему\x20зібрано!',isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x16c2ec=findElementByLabel('C1'),_0x20b488=findElementByLabel('HLG1');_0x16c2ec instanceof Capacity&&_0x20b488 instanceof GroupLamp&&(_0x16c2ec[_0x502e10(0x231)](isC1CurrentlyVisible),_0x20b488[_0x502e10(0x231)](!isC1CurrentlyVisible),_0x20b488[_0x502e10(0x21f)](),console[_0x502e10(0x1a4)](_0x502e10(0x168)+isC1CurrentlyVisible+_0x502e10(0x1f7)+!isC1CurrentlyVisible)),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x3d8de6=findElementByLabel(_0x502e10(0x1a5));_0x3d8de6 instanceof GroupLamp&&_0x3d8de6[_0x502e10(0x18a)](![]);const _0x391b98=findElementByLabel('C1');if(_0x391b98 instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x2c18cc=_0x5dbca6;messageBox[_0x2c18cc(0x1b9)]='Correctly\x20placed!',messageBox[_0x2c18cc(0x21d)]['add'](_0x2c18cc(0x19a)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x5a13f3=_0x2c18cc;messageBox[_0x5a13f3(0x21d)][_0x5a13f3(0x184)](_0x5a13f3(0x19a));},0x7d0);}function polarToRect(_0x40422e,_0x147026){const _0x534388=_0x5dbca6,_0xa0ebd8=_0x147026*Math['PI']/0xb4;return{'re':_0x40422e*Math[_0x534388(0x200)](_0xa0ebd8),'im':_0x40422e*Math[_0x534388(0x225)](_0xa0ebd8)};}function rectToPolar(_0x1fbb51,_0x3273d8){const _0x431a90=_0x5dbca6,_0x2ee7d8=Math[_0x431a90(0x219)](_0x1fbb51*_0x1fbb51+_0x3273d8*_0x3273d8);let _0x49850e=Math[_0x431a90(0x226)](_0x3273d8,_0x1fbb51),_0x48bcb2=_0x49850e*0xb4/Math['PI'];return{'mag':_0x2ee7d8,'ang':_0x48bcb2};}function addPhasors(_0x365ad5,_0x466649){return{'re':_0x365ad5['re']+_0x466649['re'],'im':_0x365ad5['im']+_0x466649['im']};}function subtractPhasors(_0x2af5ef,_0x104af9){return{'re':_0x2af5ef['re']-_0x104af9['re'],'im':_0x2af5ef['im']-_0x104af9['im']};}function multiplyPhasors(_0x111d3b,_0x286e49){return{'re':_0x111d3b['re']*_0x286e49['re']-_0x111d3b['im']*_0x286e49['im'],'im':_0x111d3b['re']*_0x286e49['im']+_0x111d3b['im']*_0x286e49['re']};}function dividePhasors(_0x3a47b5,_0x56f680){const _0x384fbf=_0x5dbca6,_0x493b69=_0x56f680['re']*_0x56f680['re']+_0x56f680['im']*_0x56f680['im'];if(Math[_0x384fbf(0x1bc)](_0x493b69)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0x3a47b5['re']*_0x56f680['re']+_0x3a47b5['im']*_0x56f680['im'])/_0x493b69,'im':(_0x3a47b5['im']*_0x56f680['re']-_0x3a47b5['re']*_0x56f680['im'])/_0x493b69};}function _0x4803(){const _0x33b62d=['Цільова\x20точка\x20не\x20знайдена','text','frequency','orange','arc','Введіть\x20опір\x20для\x20','add','Switch\x20','currentAmplitude','elementLabel','resistance','SA4','test','drawWaveforms','waveformColorVoltage','addEventListener','forEach','5063664DsAugA','offsetY','originalY','voltage','Помилка:\x20Елемент\x20не\x20знайдено','stroke','Ua\x20=\x20','sqrt','targetY','error','Ubc\x20=','classList','textSize','calculateTotalPower','isVisible','\x20Гц','Capacity','Node','GroupLamp','sin','atan2','Напруга','Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!','updateWaveform','canvas','angle','appendChild','isFixed','angleMode','noStroke','PA1','setVisibility','4122efLCHh','connectors','Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!','bottom','Ia\x20=\x20','tapPosition','SA2','width','updateConnectors','Ua\x20=\x200.0\x20V','\x20Вт','div','Uca\x20=\x20','top','getClickedLampIndex','Initial\x20visibility\x20set:\x20C1=','SA21','rotationAngle','isOpen','lightgray','\x20\x20мГн','Uca\x20=','displayPalette','Нейтральний\x20провід\x20відімкнуто!','boolean','\x20px','contains','Uc\x20=\x200.0\x20V','elementOrientation','SA3','fill','strokeWeight','length','isActive','P:\x20','drawingContext','placedElementData','total_power','Uab\x20=','startsWith','numLamps','SA31','\x20Ом','remove','originalX','SA12','click','currentTarget','#4CAF50','setEnabled','SA1','Потрібно\x20поставити\x20елементів:\x20','859449suFzye','isC1CurrentlyVisible\x20is\x20now:','dataset','mag','184965yBQXNa','line','30882789kJrfzU','push','AutotransformerLaboratory','power','0.0\x20','ang','lampRadius','show','orientation','powerPerLamp','Введіть\x20індуктивність\x20для\x20','HLG3','floor','lightgreen','Resistor','state','phaseAngleDeg','log','HLG1','SwitchSPDT','100','paletteIndex','Uab\x20=\x200.0\x20V','\x20toggled.\x20Now\x20isOpen:\x20','splice','PA3','setText','voltageAmplitude','HLG2','circle','label','height','Відстань\x20до\x20точки:\x20','rect','round','1939KQkKae','textAlign','lightyellow','textContent','PA4','getElementById','abs','max','lamps','Phasemeter','toggleTimer','16LqHbCk',',\x20HLG1\x20visible:\x20','2457495oMjNaE','3776336edZEYu','isEnabled','update','CustomAmmeter','Uca\x20=\x200.0\x20V','noFill','elementType','Ua\x20=','find','Ub\x20=\x20','targetX','Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.','offsetX','isDragging','calculationDisplayValue','lampSpacing','Ub\x20=','capacity','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','function','Л\x20А\x20Т\x20Р','_previousLampStates','Induction','PA2','Дослідні\x20дані','blue','random','palette','green','induction','rectMode','Uc\x20=','pop','postDisplay','undefined','SA11','display','createElement','Ub\x20=\x200.0\x20V','frequencyHz','Ib\x20=\x20','updateConnectorPositions','toFixed','isTogglingLamp','innerHTML','placed','type','setLineDash','Uc\x20=\x20','Frequency','waveformColorCurrent',',\x20HLG1=','Switch','Toggle\x20Visibility\x20Button\x20Clicked!','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','voltageDrop','toggleState','\x20мкФ','Введіть\x20напругу\x20для\x20','clear','cos'];_0x4803=function(){return _0x33b62d;};return _0x4803();}function invertPhasorRect(_0xe316f1){const _0x3bb38a=_0x5dbca6,_0x68b430=_0xe316f1['re']*_0xe316f1['re']+_0xe316f1['im']*_0xe316f1['im'];if(Math[_0x3bb38a(0x1bc)](_0x68b430)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0xe316f1['re']/_0x68b430,'im':-_0xe316f1['im']/_0x68b430};}function calculateCircuit(){const _0x2011b7=_0x5dbca6;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();const _0x393049=findElementByLabel(_0x2011b7(0x17f)),_0xcd9f9a=findElementByLabel(_0x2011b7(0x21c)),_0x4be933=findElementByLabel(_0x2011b7(0x16e)),_0x1df83a=findElementByLabel(_0x2011b7(0x1cb)),_0x9c9c5a=findElementByLabel(_0x2011b7(0x1d4)),_0x146ba1=findElementByLabel(_0x2011b7(0x1e3));if(_0x393049)_0x393049[_0x2011b7(0x1ad)](_0x2011b7(0x1a9));if(_0xcd9f9a)_0xcd9f9a['setText']('Ubc\x20=\x200.0\x20V');if(_0x4be933)_0x4be933['setText'](_0x2011b7(0x1c8));if(_0x1df83a)_0x1df83a[_0x2011b7(0x1ad)](_0x2011b7(0x23b));if(_0x9c9c5a)_0x9c9c5a[_0x2011b7(0x1ad)](_0x2011b7(0x1ea));if(_0x146ba1)_0x146ba1[_0x2011b7(0x1ad)](_0x2011b7(0x174));const _0x122aac=findElementByLabel(_0x2011b7(0x230)),_0x59306f=findElementByLabel(_0x2011b7(0x1db)),_0x41b40e=findElementByLabel(_0x2011b7(0x1ac)),_0x48d2be=findElementByLabel(_0x2011b7(0x1ba));if(_0x122aac)displayCalculationValue(_0x122aac,null,'bottom');if(_0x59306f)displayCalculationValue(_0x59306f,null,_0x2011b7(0x235));if(_0x41b40e)displayCalculationValue(_0x41b40e,null,_0x2011b7(0x235));if(_0x48d2be)displayCalculationValue(_0x48d2be,null,_0x2011b7(0x235));return;}const _0x53d879=0xe6,_0x3e13cc=0x32,_0x2b0d0f=0x2*Math['PI']*_0x3e13cc,_0x4d33ae=0xe6,_0x4937af=parseFloat(U_phase_mag)||_0x4d33ae/Math[_0x2011b7(0x219)](0x3),_0x537482={'mag':_0x4937af,'ang':0x0},_0x5c3e00={'mag':_0x4937af,'ang':-0x78},_0x3ffd7e={'mag':_0x4937af,'ang':0x78},_0x1eb5c0=polarToRect(_0x537482['mag'],_0x537482[_0x2011b7(0x198)]),_0x5e5115=polarToRect(_0x5c3e00[_0x2011b7(0x190)],_0x5c3e00[_0x2011b7(0x198)]),_0x207536=polarToRect(_0x3ffd7e[_0x2011b7(0x190)],_0x3ffd7e[_0x2011b7(0x198)]),_0x34309d=findElementByLabel(_0x2011b7(0x1a5)),_0x3f698d=findElementByLabel('HLG2'),_0x562b19=findElementByLabel(_0x2011b7(0x19e)),_0x206f84=findElementByLabel('C1'),_0x46b85d=findElementByLabel(_0x2011b7(0x18b)),_0x59c0b5=findElementByLabel(_0x2011b7(0x238)),_0x5e4678=findElementByLabel(_0x2011b7(0x176)),_0x171608=findElementByLabel(_0x2011b7(0x1e7)),_0xea3be8=findElementByLabel(_0x2011b7(0x186)),_0x15da75=findElementByLabel(_0x2011b7(0x169)),_0x18b475=findElementByLabel(_0x2011b7(0x182)),_0xae2fa1=findElementByLabel(_0x2011b7(0x20c)),_0x1663d7=findElementByLabel(_0x2011b7(0x230)),_0x4282f6=findElementByLabel(_0x2011b7(0x1db)),_0x55e72d=findElementByLabel(_0x2011b7(0x1ac)),_0x5ce3d8=findElementByLabel(_0x2011b7(0x1ba)),_0x54824a=findElementByLabel('Uab\x20='),_0x555780=findElementByLabel(_0x2011b7(0x21c)),_0x396dab=findElementByLabel(_0x2011b7(0x16e)),_0x2262c3=findElementByLabel(_0x2011b7(0x1cb)),_0x5a224c=findElementByLabel(_0x2011b7(0x1d4)),_0x269e59=findElementByLabel(_0x2011b7(0x1e3));if(!_0x34309d||!_0x3f698d||!_0x562b19||!_0x206f84||!_0x46b85d||!_0x59c0b5||!_0x5e4678||!_0x171608||!_0xea3be8||!_0x15da75||!_0x18b475||!_0xae2fa1||!_0x1663d7||!_0x4282f6||!_0x55e72d||!_0x5ce3d8||!_0x54824a||!_0x555780||!_0x396dab||!_0x2262c3||!_0x5a224c||!_0x269e59){console[_0x2011b7(0x21b)](_0x2011b7(0x1cf)),warningMessageText=_0x2011b7(0x216),isBlinkingWarning=!![],hideCalculationValues();return;}hideCalculationValues();let _0x3c4e05={'re':Infinity,'im':0x0},_0x5461dd={'re':Infinity,'im':0x0},_0x4236bb={'re':Infinity,'im':0x0};const _0x1f2afc=0.01,_0x4e5c99=_0x330075=>{const _0x13c69c=_0x2011b7;if(!_0x330075||!_0x330075[_0x13c69c(0x220)]||!_0x330075[_0x13c69c(0x1c5)])return Infinity;const _0x2da5d5=_0x330075[_0x13c69c(0x19c)];if(_0x2da5d5<=0x0)return Infinity;let _0x484314=0x0;for(const _0x22aba9 of _0x330075[_0x13c69c(0x1be)]){if(_0x22aba9[_0x13c69c(0x17a)])_0x484314++;}if(_0x484314===0x0)return Infinity;const _0x116d28=_0x53d879*_0x53d879/_0x2da5d5;return _0x116d28/_0x484314;};if(!_0x46b85d['isOpen']&&!_0x171608[_0x2011b7(0x16b)]){if(!_0xea3be8['isOpen'])_0x3c4e05={'re':_0x1f2afc,'im':0x0},_0x34309d[_0x2011b7(0x1c5)]&&_0x34309d[_0x2011b7(0x18a)](![]);else{const _0x5e840b=_0x4e5c99(_0x34309d);if(_0x34309d['isVisible']&&_0x34309d[_0x2011b7(0x1c5)]&&_0x5e840b!==Infinity)_0x3c4e05={'re':_0x5e840b,'im':0x0};else{if(_0x206f84[_0x2011b7(0x220)]){const _0xa548e9=parseFloat(_0x206f84[_0x2011b7(0x1d5)])/0xf4240;_0xa548e9>0x0&&_0x2b0d0f>0x0&&(_0x3c4e05={'re':0x0,'im':-0x1/(_0x2b0d0f*_0xa548e9)});}}}}if(!_0x59c0b5['isOpen']&&!_0x15da75[_0x2011b7(0x16b)]){const _0x3400c0=_0x4e5c99(_0x3f698d);_0x3f698d[_0x2011b7(0x220)]&&_0x3f698d['isEnabled']&&_0x3400c0!==Infinity&&(_0x5461dd={'re':_0x3400c0,'im':0x0});}if(!_0x5e4678['isOpen']&&!_0x18b475[_0x2011b7(0x16b)]){const _0x5711f9=_0x4e5c99(_0x562b19);_0x562b19[_0x2011b7(0x220)]&&_0x562b19[_0x2011b7(0x1c5)]&&_0x5711f9!==Infinity&&(_0x4236bb={'re':_0x5711f9,'im':0x0});}let _0xc14608={'re':0x0,'im':0x0},_0x4ecc73={'re':0x0,'im':0x0},_0x1a42a6={'re':0x0,'im':0x0},_0x4a958a={'re':0x0,'im':0x0},_0x4d88e0={'re':0x0,'im':0x0},_0x4ea0ed={'re':0x0,'im':0x0},_0xcf26a3={'re':0x0,'im':0x0},_0x3b7919={'re':0x0,'im':0x0},_0x1e7781={'re':0x0,'im':0x0},_0x29bff8={'re':0x0,'im':0x0};const _0x2939d0=!_0xae2fa1[_0x2011b7(0x16b)],_0x115495=_0x3c4e05['re']!==Infinity||_0x3c4e05['im']!==0x0?invertPhasorRect(_0x3c4e05):{'re':0x0,'im':0x0},_0x41ac70=_0x5461dd['re']!==Infinity||_0x5461dd['im']!==0x0?invertPhasorRect(_0x5461dd):{'re':0x0,'im':0x0},_0x27a11e=_0x4236bb['re']!==Infinity||_0x4236bb['im']!==0x0?invertPhasorRect(_0x4236bb):{'re':0x0,'im':0x0},_0x38aee6=addPhasors(_0x115495,addPhasors(_0x41ac70,_0x27a11e));let _0x11e0e6={'re':0x0,'im':0x0};if(!_0x2939d0&&(Math['abs'](_0x38aee6['re'])>1e-9||Math[_0x2011b7(0x1bc)](_0x38aee6['im'])>1e-9)){const _0x14d0d0=multiplyPhasors(_0x1eb5c0,_0x115495),_0x2535c8=multiplyPhasors(_0x5e5115,_0x41ac70),_0x3d03dd=multiplyPhasors(_0x207536,_0x27a11e),_0x4affb9=addPhasors(_0x14d0d0,addPhasors(_0x2535c8,_0x3d03dd));_0x11e0e6=dividePhasors(_0x4affb9,_0x38aee6);}_0x2939d0?(_0x4d88e0=_0x3c4e05['re']!==Infinity||_0x3c4e05['im']!==0x0?_0x1eb5c0:{'re':0x0,'im':0x0},_0x4ea0ed=_0x5461dd['re']!==Infinity||_0x5461dd['im']!==0x0?_0x5e5115:{'re':0x0,'im':0x0},_0xcf26a3=_0x4236bb['re']!==Infinity||_0x4236bb['im']!==0x0?_0x207536:{'re':0x0,'im':0x0},_0x3b7919=_0x4d88e0,_0x1e7781=_0x4ea0ed,_0x29bff8=_0xcf26a3):(_0x4d88e0=!_0x46b85d['isOpen']&&(_0x3c4e05['re']!==Infinity||_0x3c4e05['im']!==0x0)?subtractPhasors(_0x1eb5c0,_0x11e0e6):{'re':0x0,'im':0x0},_0x4ea0ed=!_0x59c0b5[_0x2011b7(0x16b)]&&(_0x5461dd['re']!==Infinity||_0x5461dd['im']!==0x0)?subtractPhasors(_0x5e5115,_0x11e0e6):{'re':0x0,'im':0x0},_0xcf26a3=!_0x5e4678[_0x2011b7(0x16b)]&&(_0x4236bb['re']!==Infinity||_0x4236bb['im']!==0x0)?subtractPhasors(_0x207536,_0x11e0e6):{'re':0x0,'im':0x0},_0x3b7919=_0x46b85d['isOpen']?{'re':0x0,'im':0x0}:_0x171608[_0x2011b7(0x16b)]?subtractPhasors(_0x1eb5c0,_0x11e0e6):_0x4d88e0,_0x1e7781=_0x59c0b5[_0x2011b7(0x16b)]?{'re':0x0,'im':0x0}:_0x15da75['isOpen']?subtractPhasors(_0x5e5115,_0x11e0e6):_0x4ea0ed,_0x29bff8=_0x5e4678[_0x2011b7(0x16b)]?{'re':0x0,'im':0x0}:_0x18b475[_0x2011b7(0x16b)]?subtractPhasors(_0x207536,_0x11e0e6):_0xcf26a3);_0xc14608=multiplyPhasors(_0x4d88e0,_0x115495),_0x4ecc73=multiplyPhasors(_0x4ea0ed,_0x41ac70),_0x1a42a6=multiplyPhasors(_0xcf26a3,_0x27a11e),_0x4a958a=addPhasors(_0xc14608,addPhasors(_0x4ecc73,_0x1a42a6));!_0x2939d0&&(_0x4a958a={'re':0x0,'im':0x0});const _0x382a85=!_0xea3be8[_0x2011b7(0x16b)]&&!_0x46b85d['isOpen']&&!_0x171608[_0x2011b7(0x16b)];if(_0x382a85&&_0x2939d0)warningMessageText=_0x2011b7(0x228),isBlinkingWarning=!![],(!blinkState||millis()-lastBlinkTime>BLINK_INTERVAL*0x2)&&(blinkState=!![],lastBlinkTime=millis());else!_0x2939d0?(warningMessageText=_0x2011b7(0x170),isBlinkingWarning=![]):(warningMessageText=null,isBlinkingWarning=![]);const _0x446603=subtractPhasors(_0x1eb5c0,_0x5e5115),_0x30c3d2=subtractPhasors(_0x5e5115,_0x207536),_0x3d62be=subtractPhasors(_0x207536,_0x1eb5c0),_0x25a90d=rectToPolar(_0x446603['re'],_0x446603['im']),_0x25e248=rectToPolar(_0x30c3d2['re'],_0x30c3d2['im']),_0x320fe8=rectToPolar(_0x3d62be['re'],_0x3d62be['im']),_0x142f15=rectToPolar(_0x3b7919['re'],_0x3b7919['im']),_0x1ad633=rectToPolar(_0x1e7781['re'],_0x1e7781['im']),_0x665ab7=rectToPolar(_0x29bff8['re'],_0x29bff8['im']),_0x10dc2e=rectToPolar(_0xc14608['re'],_0xc14608['im']),_0x54111f=rectToPolar(_0x4ecc73['re'],_0x4ecc73['im']),_0xdc591f=rectToPolar(_0x1a42a6['re'],_0x1a42a6['im']),_0x2860fe=rectToPolar(_0x4a958a['re'],_0x4a958a['im']),_0x30322a=(_0x49edee,_0x3b17b7,_0x1fd3a2=0x1)=>{const _0x7de788=_0x2011b7;if(isNaN(_0x49edee)||!isFinite(_0x49edee))return _0x7de788(0x197)+_0x3b17b7;if(_0x3b17b7==='A'){if(Math['abs'](_0x49edee)>0x270f)return'>9999\x20A';if(Math[_0x7de788(0x1bc)](_0x49edee)<0.005)_0x49edee=0x0;_0x1fd3a2=0x2;}return _0x49edee[_0x7de788(0x1ee)](_0x1fd3a2)+'\x20'+_0x3b17b7;};displayCalculationValue(_0x1663d7,_0x2011b7(0x236)+_0x30322a(_0x10dc2e[_0x2011b7(0x190)],'A'),_0x2011b7(0x235)),displayCalculationValue(_0x4282f6,_0x2011b7(0x1ec)+_0x30322a(_0x54111f['mag'],'A'),_0x2011b7(0x235)),displayCalculationValue(_0x55e72d,'Ic\x20=\x20'+_0x30322a(_0xdc591f[_0x2011b7(0x190)],'A'),_0x2011b7(0x235)),displayCalculationValue(_0x5ce3d8,'In\x20=\x20'+_0x30322a(_0x2860fe[_0x2011b7(0x190)],'A'),_0x2011b7(0x235));let _0x3e47bc=NaN,_0x141bbf=NaN,_0x215bc4=NaN;if(_0x2939d0)_0x3e47bc=!_0x46b85d[_0x2011b7(0x16b)]&&!_0x59c0b5[_0x2011b7(0x16b)]?_0x25a90d[_0x2011b7(0x190)]:NaN,_0x141bbf=!_0x59c0b5[_0x2011b7(0x16b)]&&!_0x5e4678[_0x2011b7(0x16b)]?_0x25e248[_0x2011b7(0x190)]:NaN,_0x215bc4=!_0x5e4678[_0x2011b7(0x16b)]&&!_0x46b85d[_0x2011b7(0x16b)]?_0x320fe8[_0x2011b7(0x190)]:NaN;else{if(!_0x46b85d[_0x2011b7(0x16b)]&&!_0x59c0b5['isOpen'])_0x3e47bc=_0x25a90d[_0x2011b7(0x190)];if(!_0x59c0b5[_0x2011b7(0x16b)]&&!_0x5e4678[_0x2011b7(0x16b)])_0x141bbf=_0x25e248[_0x2011b7(0x190)];if(!_0x5e4678['isOpen']&&!_0x46b85d[_0x2011b7(0x16b)])_0x215bc4=_0x320fe8[_0x2011b7(0x190)];if(_0x46b85d[_0x2011b7(0x16b)]&&!_0x59c0b5['isOpen']&&!_0x5e4678[_0x2011b7(0x16b)])_0x3e47bc=_0x1ad633[_0x2011b7(0x190)],_0x215bc4=_0x665ab7[_0x2011b7(0x190)];else{if(_0x59c0b5['isOpen']&&!_0x46b85d[_0x2011b7(0x16b)]&&!_0x5e4678[_0x2011b7(0x16b)])_0x141bbf=_0x665ab7[_0x2011b7(0x190)],_0x3e47bc=_0x142f15['mag'];else _0x5e4678['isOpen']&&!_0x46b85d[_0x2011b7(0x16b)]&&!_0x59c0b5[_0x2011b7(0x16b)]&&(_0x215bc4=_0x142f15['mag'],_0x141bbf=_0x1ad633[_0x2011b7(0x190)]);}}_0x54824a[_0x2011b7(0x1ad)]('Uab\x20=\x20'+_0x30322a(_0x3e47bc,'V')),_0x555780[_0x2011b7(0x1ad)]('Ubc\x20=\x20'+_0x30322a(_0x141bbf,'V')),_0x396dab[_0x2011b7(0x1ad)](_0x2011b7(0x165)+_0x30322a(_0x215bc4,'V')),_0x2262c3[_0x2011b7(0x1ad)](_0x2011b7(0x218)+_0x30322a(_0x142f15[_0x2011b7(0x190)],'V')),_0x5a224c[_0x2011b7(0x1ad)](_0x2011b7(0x1cd)+_0x30322a(_0x1ad633[_0x2011b7(0x190)],'V')),_0x269e59[_0x2011b7(0x1ad)](_0x2011b7(0x1f4)+_0x30322a(_0x665ab7[_0x2011b7(0x190)],'V'));}function _0x2327(_0x28cba4,_0x374486){const _0x480382=_0x4803();return _0x2327=function(_0x2327b1,_0x27ee26){_0x2327b1=_0x2327b1-0x164;let _0x489f2d=_0x480382[_0x2327b1];return _0x489f2d;},_0x2327(_0x28cba4,_0x374486);}function findElementByLabel(_0x4dc88d){const _0x503f82=_0x5dbca6;for(const _0x8c256a of elements){if(_0x8c256a[_0x503f82(0x1b1)]===_0x4dc88d)return _0x8c256a;}if(_0x4dc88d===_0x503f82(0x17f))return elements[_0x503f82(0x1cc)](_0x20f4f6=>_0x20f4f6 instanceof StaticTextDisplay&&_0x20f4f6['text'][_0x503f82(0x180)](_0x503f82(0x17f)));if(_0x4dc88d===_0x503f82(0x21c))return elements['find'](_0x148a6b=>_0x148a6b instanceof StaticTextDisplay&&_0x148a6b[_0x503f82(0x202)]['startsWith'](_0x503f82(0x21c)));if(_0x4dc88d===_0x503f82(0x16e))return elements[_0x503f82(0x1cc)](_0x13458c=>_0x13458c instanceof StaticTextDisplay&&_0x13458c[_0x503f82(0x202)]['startsWith'](_0x503f82(0x16e)));if(_0x4dc88d==='Ua\x20=')return elements[_0x503f82(0x1cc)](_0x4d3b7d=>_0x4d3b7d instanceof StaticTextDisplay&&_0x4d3b7d[_0x503f82(0x202)][_0x503f82(0x180)](_0x503f82(0x1cb)));if(_0x4dc88d===_0x503f82(0x1d4))return elements[_0x503f82(0x1cc)](_0x429bc8=>_0x429bc8 instanceof StaticTextDisplay&&_0x429bc8[_0x503f82(0x202)][_0x503f82(0x180)]('Ub\x20='));if(_0x4dc88d===_0x503f82(0x1e3))return elements['find'](_0x5ab94f=>_0x5ab94f instanceof StaticTextDisplay&&_0x5ab94f[_0x503f82(0x202)][_0x503f82(0x180)](_0x503f82(0x1e3)));return null;}function displayCalculationValue(_0x464ff9,_0x77af42,_0x4c2f5c){const _0x16d1de=_0x5dbca6;if(!_0x464ff9||typeof _0x464ff9['x']===_0x16d1de(0x1e6)||typeof _0x464ff9['y']===_0x16d1de(0x1e6)){console[_0x16d1de(0x21b)](_0x16d1de(0x1fa),_0x464ff9);return;}push(),translate(_0x464ff9['x'],_0x464ff9['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x4c2f5c===_0x16d1de(0x235)?TOP:BOTTOM);let _0x373a20=0x0;if(_0x464ff9 instanceof CustomAmmeter||_0x464ff9 instanceof Frequency)_0x373a20=(_0x4c2f5c===_0x16d1de(0x235)?_0x464ff9['r']+0xa:-_0x464ff9['r']-0x19)*SCALE_FACTOR;else{if(_0x464ff9 instanceof Phasemeter)_0x373a20=(_0x4c2f5c==='bottom'?_0x464ff9['r']+0xa:-_0x464ff9['r']-0x19)*SCALE_FACTOR;else{if(_0x464ff9 instanceof Resistor)_0x373a20=(_0x4c2f5c===_0x16d1de(0x166)?-_0x464ff9['h']/0x2-0xf:_0x464ff9['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x464ff9 instanceof AutotransformerLaboratory)_0x373a20=(_0x4c2f5c===_0x16d1de(0x166)?-_0x464ff9['h']/0x2-0x23:_0x464ff9['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x464ff9 instanceof Induction)_0x373a20=(_0x4c2f5c==='top'?-_0x464ff9['h']/0x2-0xf:_0x464ff9['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x464ff9 instanceof Capacity)_0x373a20=(_0x4c2f5c==='top'?-_0x464ff9['h']/0x2-0xf:_0x464ff9['h']/0x2+0x14)*SCALE_FACTOR;else _0x464ff9 instanceof Lamp&&(_0x373a20=(_0x4c2f5c==='top'?-_0x464ff9['h']/0x2-0xf:_0x464ff9['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x77af42,0x0,_0x373a20),pop(),_0x464ff9['calculationDisplayValue']=_0x77af42;}function hideCalculationValues(){const _0x3473db=_0x5dbca6;redraw(),elements[_0x3473db(0x211)](_0x45b38d=>{const _0xa21ac6=_0x3473db;_0x45b38d[_0xa21ac6(0x1d2)]=null;});}class CircuitElement{constructor(_0x2806a3,_0x52b760){const _0x541ceb=_0x5dbca6;this['x']=_0x2806a3,this['y']=_0x52b760,this[_0x541ceb(0x19b)]=0x1,this['connectors']=[],this[_0x541ceb(0x1d1)]=![],this['placedElementData']=null,this['calculationDisplayValue']=null;}[_0x5dbca6(0x1c6)](){}[_0x5dbca6(0x1e8)](){const _0x277c20=_0x5dbca6;push(),translate(this['x'],this['y']);let _0x14b57a=0x0;switch(this[_0x277c20(0x19b)]){case 0x2:_0x14b57a=PI/0x2;break;case 0x3:_0x14b57a=PI;break;case 0x4:_0x14b57a=0x3*PI/0x2;break;default:_0x14b57a=0x0;}rotate(_0x14b57a);if(this[_0x277c20(0x1d2)]!==null){stroke(_0x277c20(0x16c)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x5e2cae=textWidth(this[_0x277c20(0x1d2)]);rectMode(CENTER);let _0x365556=-0xa*SCALE_FACTOR,_0x1c56da=0x28*SCALE_FACTOR,_0x451219=0x2*SCALE_FACTOR,_0x4dd82a=0x2*SCALE_FACTOR;rect(_0x365556,_0x1c56da,_0x5e2cae+_0x451219*0x2,0x14*SCALE_FACTOR+_0x4dd82a*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x277c20(0x1d2)],_0x365556,_0x1c56da);}}[_0x5dbca6(0x1e5)](){rotate(0x0),pop();}[_0x5dbca6(0x23a)](){const _0x4f80a9=_0x5dbca6;this[_0x4f80a9(0x233)][_0x4f80a9(0x211)](_0x545eaa=>{const _0x4d90b1=_0x4f80a9;_0x545eaa['x']=this['x']+cos(this[_0x4d90b1(0x16a)]())*_0x545eaa['originalX']-sin(this[_0x4d90b1(0x16a)]())*_0x545eaa[_0x4d90b1(0x214)],_0x545eaa['y']=this['y']+sin(this[_0x4d90b1(0x16a)]())*_0x545eaa[_0x4d90b1(0x185)]+cos(this['rotationAngle']())*_0x545eaa[_0x4d90b1(0x214)];});}[_0x5dbca6(0x16a)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x98d857,_0x548ec1,_0x427683){const _0x181e0e=_0x5dbca6;super(_0x98d857,_0x548ec1),this['r']=0x14*SCALE_FACTOR,this['label']=_0x427683,this[_0x181e0e(0x215)]='12',this[_0x181e0e(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x181e0e(0x233)][_0x181e0e(0x211)](_0x2ead1b=>{const _0x16a40c=_0x181e0e;_0x2ead1b[_0x16a40c(0x185)]*=SCALE_FACTOR;}),this['isActive']=![];}[_0x5dbca6(0x16f)](_0x2001d4){const _0xe61073=_0x5dbca6;_0x2001d4[_0xe61073(0x178)](0x1*SCALE_FACTOR),_0x2001d4[_0xe61073(0x217)](0x0),_0x2001d4[_0xe61073(0x177)](0xff),_0x2001d4[_0xe61073(0x1b0)](0x0,0x0,this['r']*1.5),_0x2001d4['line'](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x2001d4[_0xe61073(0x192)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x2001d4['line'](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x2001d4[_0xe61073(0x22f)](),_0x2001d4[_0xe61073(0x177)](0x0),_0x2001d4[_0xe61073(0x1b7)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x2001d4[_0xe61073(0x202)](this['label'],0x0,this['r']*1.3);}[_0x5dbca6(0x1e8)](){const _0x1292d4=_0x5dbca6;super['display']();let _0x3ea97f=0x1*SCALE_FACTOR,_0x6e2166=0x2*_0x3ea97f;this[_0x1292d4(0x17a)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x6e2166),fill(0xff)):(stroke(0x0),strokeWeight(_0x3ea97f),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x1292d4(0x17a)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x1292d4(0x1b1)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this[_0x1292d4(0x215)]+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x1292d4(0x1e5)](),this[_0x1292d4(0x23a)]();}[_0x5dbca6(0x16a)](){const _0x96b53d=_0x5dbca6;switch(this[_0x96b53d(0x19b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x2d8f19,_0x385bf4,_0x25f2d5){const _0x4b34f9=_0x5dbca6;super(_0x2d8f19,_0x385bf4),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x4b34f9(0x1b1)]=_0x25f2d5,this['resistance']=_0x4b34f9(0x1a7),this[_0x4b34f9(0x1fb)]=0x0,this[_0x4b34f9(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x4b34f9(0x233)][_0x4b34f9(0x211)](_0x4b81d1=>{const _0x25dc73=_0x4b34f9;_0x4b81d1[_0x25dc73(0x185)]*=SCALE_FACTOR;});}[_0x5dbca6(0x16f)](_0x244a80){const _0x2f5437=_0x5dbca6;_0x244a80[_0x2f5437(0x178)](0x1*SCALE_FACTOR),_0x244a80[_0x2f5437(0x217)](0x0),_0x244a80[_0x2f5437(0x177)](0xc8,0x96,0x64),_0x244a80['rectMode'](CENTER),_0x244a80[_0x2f5437(0x1b4)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x244a80[_0x2f5437(0x22f)](),_0x244a80[_0x2f5437(0x177)](0x0),_0x244a80[_0x2f5437(0x1b7)](CENTER,CENTER),_0x244a80[_0x2f5437(0x21e)](0x8*SCALE_FACTOR),_0x244a80[_0x2f5437(0x202)](this[_0x2f5437(0x1b1)],0x0,0x0);}['display'](){const _0x17bd30=_0x5dbca6;super[_0x17bd30(0x1e8)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x17bd30(0x20b)]+_0x17bd30(0x183),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super[_0x17bd30(0x1e5)](),this[_0x17bd30(0x23a)]();}[_0x5dbca6(0x23a)](){const _0x5a4800=_0x5dbca6;this[_0x5a4800(0x233)][_0x5a4800(0x211)](_0x5471f5=>{const _0x26f4ae=_0x5a4800;_0x5471f5['x']=this['x']+cos(this[_0x26f4ae(0x16a)]())*_0x5471f5[_0x26f4ae(0x185)]-sin(this['rotationAngle']())*_0x5471f5['originalY'],_0x5471f5['y']=this['y']+sin(this[_0x26f4ae(0x16a)]())*_0x5471f5['originalX']+cos(this[_0x26f4ae(0x16a)]())*_0x5471f5[_0x26f4ae(0x214)];});}[_0x5dbca6(0x16a)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x465dbf,_0x320722,_0x148c8b){const _0x4ead33=_0x5dbca6;super(_0x465dbf,_0x320722),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x4ead33(0x1bd)](this['w'],this['h'])/0x2,this[_0x4ead33(0x1b1)]=_0x148c8b,this[_0x4ead33(0x1d5)]='9',this[_0x4ead33(0x220)]=!![],this[_0x4ead33(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x4ead33(0x233)][_0x4ead33(0x211)](_0x5225f9=>{const _0x2e3758=_0x4ead33;_0x5225f9[_0x2e3758(0x185)]*=SCALE_FACTOR;});}[_0x5dbca6(0x231)](_0x145f88){const _0x498c1a=_0x5dbca6;if(_0x145f88===this[_0x498c1a(0x220)])return;this[_0x498c1a(0x220)]=_0x145f88,redraw();}['displayPalette'](_0xbc802a){const _0x332f6e=_0x5dbca6;_0xbc802a[_0x332f6e(0x178)](0x1*SCALE_FACTOR),_0xbc802a['stroke'](0x0),_0xbc802a[_0x332f6e(0x192)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0xbc802a['line'](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0xbc802a[_0x332f6e(0x192)](this['w']/0x5,0x0,this['w'],0x0),_0xbc802a[_0x332f6e(0x192)](-this['w']/0x5,0x0,-this['w'],0x0),_0xbc802a[_0x332f6e(0x22f)](),_0xbc802a[_0x332f6e(0x177)](0x0),_0xbc802a[_0x332f6e(0x1b7)](CENTER,CENTER),_0xbc802a[_0x332f6e(0x21e)](0x8*SCALE_FACTOR),_0xbc802a[_0x332f6e(0x202)](this[_0x332f6e(0x1b1)],-this['w']/0x2,-this['h']*0.5);}[_0x5dbca6(0x1e8)](){const _0x3bdcb9=_0x5dbca6;if(!this[_0x3bdcb9(0x220)])return;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x3bdcb9(0x1b1)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x3bdcb9(0x1d5)]+_0x3bdcb9(0x1fd),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x3bdcb9(0x1e5)](),this['updateConnectors']();}['updateConnectors'](){const _0x545ff2=_0x5dbca6;this[_0x545ff2(0x233)][_0x545ff2(0x211)](_0x4d582e=>{const _0x47b9bd=_0x545ff2;_0x4d582e['x']=this['x']+cos(this[_0x47b9bd(0x16a)]())*_0x4d582e[_0x47b9bd(0x185)]-sin(this[_0x47b9bd(0x16a)]())*_0x4d582e[_0x47b9bd(0x214)],_0x4d582e['y']=this['y']+sin(this['rotationAngle']())*_0x4d582e[_0x47b9bd(0x185)]+cos(this['rotationAngle']())*_0x4d582e[_0x47b9bd(0x214)];});}[_0x5dbca6(0x16a)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x267060,_0x16194c,_0x217529){const _0x1d9c4f=_0x5dbca6;super(_0x267060,_0x16194c),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this[_0x1d9c4f(0x1b1)]=_0x217529,this[_0x1d9c4f(0x203)]='50',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x1d9c4f(0x233)]['forEach'](_0xbf05b9=>{const _0x4d39e3=_0x1d9c4f;_0xbf05b9[_0x4d39e3(0x185)]*=SCALE_FACTOR;});}[_0x5dbca6(0x16f)](_0x2f4406){const _0x49df70=_0x5dbca6;_0x2f4406[_0x49df70(0x178)](0x1*SCALE_FACTOR),_0x2f4406[_0x49df70(0x217)](0x0),_0x2f4406[_0x49df70(0x177)](0xdc),_0x2f4406[_0x49df70(0x1b0)](0x0,0x0,this['r']*1.5),_0x2f4406[_0x49df70(0x22f)](),_0x2f4406[_0x49df70(0x177)](0x0),_0x2f4406[_0x49df70(0x1b7)](CENTER,CENTER),_0x2f4406[_0x49df70(0x21e)](0x8*SCALE_FACTOR),_0x2f4406[_0x49df70(0x202)](this[_0x49df70(0x1b1)],this['r']*0.6,this['r']*1.3);}[_0x5dbca6(0x1e8)](){const _0x917179=_0x5dbca6;super[_0x917179(0x1e8)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['frequency']+_0x917179(0x221),0x0,this['r']+0x3*SCALE_FACTOR),super['postDisplay'](),this[_0x917179(0x23a)]();}[_0x5dbca6(0x23a)](){const _0x355210=_0x5dbca6;this[_0x355210(0x233)][_0x355210(0x211)](_0x566b21=>{const _0x5ab170=_0x355210;_0x566b21['x']=this['x']+cos(this[_0x5ab170(0x16a)]())*_0x566b21['originalX']-sin(this[_0x5ab170(0x16a)]())*_0x566b21[_0x5ab170(0x214)],_0x566b21['y']=this['y']+sin(this[_0x5ab170(0x16a)]())*_0x566b21[_0x5ab170(0x185)]+cos(this[_0x5ab170(0x16a)]())*_0x566b21[_0x5ab170(0x214)];});}['rotationAngle'](){const _0x67490e=_0x5dbca6;switch(this[_0x67490e(0x19b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x4bed12,_0x16c901,_0x9035a8){const _0x2311cf=_0x5dbca6;super(_0x4bed12,_0x16c901),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x2311cf(0x1bd)](this['w'],this['h'])/0x2,this['label']=_0x9035a8,this['induction']='440',this[_0x2311cf(0x1fb)]=0x0,this[_0x2311cf(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x2311cf(0x233)][_0x2311cf(0x211)](_0x144558=>{const _0x5905f8=_0x2311cf;_0x144558[_0x5905f8(0x185)]*=SCALE_FACTOR;});}['displayPalette'](_0x3626c3){const _0x190658=_0x5dbca6;_0x3626c3[_0x190658(0x178)](0x1*SCALE_FACTOR),_0x3626c3[_0x190658(0x217)](0x0);let _0x357408=this['h']*0.25,_0x4681a6=this['w']*0.6,_0x2f6d13=-_0x4681a6/0x2,_0xaf239a=0x0,_0xbd4020=_0x4681a6/0x3;_0x3626c3[_0x190658(0x1c9)]();const _0xfaa735=0x3;for(let _0x3ad382=0x0;_0x3ad382<_0xfaa735;_0x3ad382++){let _0x2e45f7=_0x2f6d13+_0x3ad382*_0xbd4020;_0x3626c3[_0x190658(0x205)](_0x2e45f7+_0xbd4020/0x2,_0xaf239a,_0xbd4020,_0x357408,PI,0x0);}_0x3626c3[_0x190658(0x192)](_0x2f6d13,0x0,_0x2f6d13-0xa,0x0),_0x3626c3[_0x190658(0x192)](_0x4681a6/0x2,0x0,_0x4681a6/0x2+0xa,0x0),_0x3626c3['noStroke'](),_0x3626c3[_0x190658(0x177)](0x0),_0x3626c3[_0x190658(0x1b7)](CENTER,CENTER),_0x3626c3[_0x190658(0x21e)](0x8*SCALE_FACTOR),_0x3626c3[_0x190658(0x202)](this['label'],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x5dbca6(0x1e8)](){const _0x4f28bd=_0x5dbca6;super[_0x4f28bd(0x1e8)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x447818=this['h']*0.25,_0xfc8e43=this['w']*0.6,_0x3a8530=-_0xfc8e43/0x2,_0x122510=0x0,_0x3e2eb0=_0xfc8e43/0x3;noFill();const _0x49c046=0x3;for(let _0x41f45a=0x0;_0x41f45a<_0x49c046;_0x41f45a++){let _0x169ea2=_0x3a8530+_0x41f45a*_0x3e2eb0;arc(_0x169ea2+_0x3e2eb0/0x2,_0x122510,_0x3e2eb0,_0x447818,PI,0x0);}line(_0x3a8530,0x0,_0x3a8530-_0xfc8e43/0x3,0x0),line(_0xfc8e43/0x2,0x0,_0xfc8e43*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x4f28bd(0x1b1)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x4f28bd(0x1e1)]+_0x4f28bd(0x16d),0x0,this['h']/0xa)),super[_0x4f28bd(0x1e5)](),this['updateConnectors']();}['updateConnectors'](){const _0x2d65bd=_0x5dbca6;this['connectors'][_0x2d65bd(0x211)](_0x572671=>{const _0x5571d0=_0x2d65bd;_0x572671['x']=this['x']+cos(this[_0x5571d0(0x16a)]())*_0x572671['originalX']-sin(this[_0x5571d0(0x16a)]())*_0x572671[_0x5571d0(0x214)],_0x572671['y']=this['y']+sin(this[_0x5571d0(0x16a)]())*_0x572671[_0x5571d0(0x185)]+cos(this['rotationAngle']())*_0x572671[_0x5571d0(0x214)];});}[_0x5dbca6(0x16a)](){const _0x38e1e2=_0x5dbca6;switch(this[_0x38e1e2(0x19b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x11e656,_0x506da1,_0x13e492){const _0x23c291=_0x5dbca6;super(_0x11e656,_0x506da1),this['r']=0x11*SCALE_FACTOR,this[_0x23c291(0x1b1)]=_0x13e492,this['current']=0x0,this[_0x23c291(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors']['forEach'](_0x9355ff=>{const _0x2cb3bc=_0x23c291;_0x9355ff[_0x2cb3bc(0x185)]*=SCALE_FACTOR;});}[_0x5dbca6(0x16f)](_0x293312){const _0xae1729=_0x5dbca6;_0x293312['strokeWeight'](0x1*SCALE_FACTOR),_0x293312[_0xae1729(0x217)](0x0),_0x293312[_0xae1729(0x177)](0xdc),_0x293312[_0xae1729(0x1b0)](0x0,0x0,this['r']*1.5),_0x293312[_0xae1729(0x22f)](),_0x293312[_0xae1729(0x177)](0x0),_0x293312[_0xae1729(0x1b7)](CENTER,CENTER),_0x293312[_0xae1729(0x21e)](0x8*SCALE_FACTOR),_0x293312[_0xae1729(0x202)](this[_0xae1729(0x1b1)],this['r']*0.6,this['r']*1.3);}[_0x5dbca6(0x1e8)](){const _0x4dc460=_0x5dbca6;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x4dc460(0x1b1)],0x0,0x0),super[_0x4dc460(0x1e5)](),this[_0x4dc460(0x23a)]();}[_0x5dbca6(0x23a)](){const _0x1269ba=_0x5dbca6;this['connectors'][_0x1269ba(0x211)](_0x245604=>{const _0x1c6a88=_0x1269ba;_0x245604['x']=this['x']+cos(this[_0x1c6a88(0x16a)]())*_0x245604['originalX']-sin(this[_0x1c6a88(0x16a)]())*_0x245604[_0x1c6a88(0x214)],_0x245604['y']=this['y']+sin(this[_0x1c6a88(0x16a)]())*_0x245604[_0x1c6a88(0x185)]+cos(this['rotationAngle']())*_0x245604[_0x1c6a88(0x214)];});}[_0x5dbca6(0x16a)](){const _0x1e727b=_0x5dbca6;switch(this[_0x1e727b(0x19b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x22fe0c,_0x2db701,_0x46f4e1){const _0x278756=_0x5dbca6;super(_0x22fe0c,_0x2db701),this['r']=0x11*SCALE_FACTOR,this[_0x278756(0x1b1)]=_0x46f4e1,this['phase']=0x0,this[_0x278756(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x278756(0x233)]['forEach'](_0x4dee68=>{const _0x4c0bb=_0x278756;_0x4dee68[_0x4c0bb(0x185)]*=SCALE_FACTOR;});}[_0x5dbca6(0x16f)](_0x36d5b7){const _0x5791e9=_0x5dbca6;_0x36d5b7[_0x5791e9(0x178)](0x1*SCALE_FACTOR),_0x36d5b7[_0x5791e9(0x217)](0x0),_0x36d5b7[_0x5791e9(0x177)](0xdc),_0x36d5b7[_0x5791e9(0x1b0)](0x0,0x0,this['r']*0x1);const _0x3720d2=0.8;_0x36d5b7[_0x5791e9(0x192)](-this['r']*_0x3720d2,0x0,this['r']*_0x3720d2,0x0),_0x36d5b7['line'](0x0,-this['r']*_0x3720d2,0x0,this['r']*_0x3720d2),_0x36d5b7['line'](0x0,-this['r']*_0x3720d2,-this['r']*_0x3720d2,-this['r']*_0x3720d2),_0x36d5b7['line'](-this['r']*_0x3720d2,-this['r']*_0x3720d2,-this['r']*_0x3720d2,0x0),_0x36d5b7[_0x5791e9(0x177)](0x0),_0x36d5b7[_0x5791e9(0x1b0)](0x0,this['r']*_0x3720d2,this['r']*0.2),_0x36d5b7[_0x5791e9(0x1b0)](-this['r']*_0x3720d2,0x0,this['r']*0.2),_0x36d5b7['circle'](0x0,-this['r']*_0x3720d2,this['r']*0.2),_0x36d5b7['noStroke'](),_0x36d5b7[_0x5791e9(0x177)](0x0),_0x36d5b7[_0x5791e9(0x1b7)](CENTER,CENTER),_0x36d5b7[_0x5791e9(0x21e)](0xa*SCALE_FACTOR),_0x36d5b7[_0x5791e9(0x202)](this['label'],this['r']*_0x3720d2,-this['r']*_0x3720d2);}[_0x5dbca6(0x1e8)](){const _0x52012b=_0x5dbca6;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this[_0x52012b(0x1b1)],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x52012b(0x1e5)](),this[_0x52012b(0x23a)]();}[_0x5dbca6(0x23a)](){const _0x183190=_0x5dbca6;this['connectors'][_0x183190(0x211)](_0x572376=>{const _0x52095b=_0x183190;_0x572376['x']=this['x']+cos(this['rotationAngle']())*_0x572376[_0x52095b(0x185)]-sin(this['rotationAngle']())*_0x572376['originalY'],_0x572376['y']=this['y']+sin(this[_0x52095b(0x16a)]())*_0x572376[_0x52095b(0x185)]+cos(this[_0x52095b(0x16a)]())*_0x572376[_0x52095b(0x214)];});}[_0x5dbca6(0x16a)](){const _0x88bba9=_0x5dbca6;switch(this[_0x88bba9(0x19b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x521d8f,_0x2fd709,_0xe871ea=''){const _0x504864=_0x5dbca6;super(_0x521d8f,_0x2fd709),this['r']=0x14*SCALE_FACTOR,this[_0x504864(0x1b1)]=_0xe871ea,this[_0x504864(0x22e)]=0x3,this[_0x504864(0x233)]=this[_0x504864(0x1ed)]();}[_0x5dbca6(0x1ed)](){const _0x2839d1=_0x5dbca6;let _0x49c120=[];switch(this[_0x2839d1(0x22e)]){case 0x1:_0x49c120=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x49c120=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x49c120=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x49c120=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x49c120=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x49c120[_0x2839d1(0x211)](_0x516595=>{const _0x10a5a1=_0x2839d1;_0x516595[_0x10a5a1(0x185)]*=SCALE_FACTOR,_0x516595[_0x10a5a1(0x214)]*=SCALE_FACTOR;}),_0x49c120;}[_0x5dbca6(0x16f)](_0x6d8d1d){const _0x367bfe=_0x5dbca6;_0x6d8d1d[_0x367bfe(0x178)](1.5*SCALE_FACTOR),_0x6d8d1d[_0x367bfe(0x217)](0x0);let _0x25627d=this['r']*0.75;_0x6d8d1d[_0x367bfe(0x192)](0x0,-_0x25627d,0x0,_0x25627d),_0x6d8d1d[_0x367bfe(0x192)](-_0x25627d,0x0,_0x25627d,0x0);}['display'](){const _0x4e7c2d=_0x5dbca6;super[_0x4e7c2d(0x1e8)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x455cab=this['r']*1.5;switch(this[_0x4e7c2d(0x22e)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x455cab,0x0,0x0),line(-_0x455cab,0x0,_0x455cab,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4e7c2d(0x1b1)],0x0,_0x455cab+0x5*SCALE_FACTOR),super['postDisplay'](),this[_0x4e7c2d(0x23a)]();}[_0x5dbca6(0x1c6)](){const _0x1b8c42=_0x5dbca6;this[_0x1b8c42(0x22e)]=Math['round'](this[_0x1b8c42(0x22b)]),this['connectors']=this[_0x1b8c42(0x1ed)]();}['updateConnectors'](){const _0x411deb=_0x5dbca6;this[_0x411deb(0x233)][_0x411deb(0x211)](_0x41e4e8=>{const _0xc5b1c2=_0x411deb;_0x41e4e8['x']=this['x']+cos(this[_0xc5b1c2(0x16a)]())*_0x41e4e8[_0xc5b1c2(0x185)]-sin(this[_0xc5b1c2(0x16a)]())*_0x41e4e8[_0xc5b1c2(0x214)],_0x41e4e8['y']=this['y']+sin(this['rotationAngle']())*_0x41e4e8[_0xc5b1c2(0x185)]+cos(this[_0xc5b1c2(0x16a)]())*_0x41e4e8[_0xc5b1c2(0x214)];});}[_0x5dbca6(0x16a)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x10feac,_0x2442db,_0x167c70){const _0x29a0f4=_0x5dbca6;super(_0x10feac,_0x2442db),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x29a0f4(0x1b1)]=_0x167c70,this[_0x29a0f4(0x1a2)]=0x2,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x29a0f4(0x233)][_0x29a0f4(0x211)](_0x45eac3=>{const _0x4bc118=_0x29a0f4;_0x45eac3[_0x4bc118(0x185)]*=SCALE_FACTOR,_0x45eac3[_0x4bc118(0x214)]*=SCALE_FACTOR;});}[_0x5dbca6(0x16f)](_0x9be82b){const _0x19f707=_0x5dbca6;_0x9be82b['strokeWeight'](1.5*SCALE_FACTOR),_0x9be82b[_0x19f707(0x217)](0x0),_0x9be82b['noFill'](),_0x9be82b[_0x19f707(0x1e2)](CENTER),_0x9be82b[_0x19f707(0x1b4)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x9be82b[_0x19f707(0x192)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x9be82b['line'](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x9be82b[_0x19f707(0x192)](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x9be82b[_0x19f707(0x192)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x9be82b['noStroke'](),_0x9be82b['fill'](0x0),_0x9be82b[_0x19f707(0x1b7)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x9be82b['text'](this[_0x19f707(0x1b1)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x5dbca6(0x1e8)](){const _0x53bc3e=_0x5dbca6;super[_0x53bc3e(0x1e8)](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this['state']===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this[_0x53bc3e(0x1a2)]===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this[_0x53bc3e(0x1a2)]===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x53bc3e(0x1e5)](),this['updateConnectors']();}[_0x5dbca6(0x1fc)](){const _0x5345b6=_0x5dbca6;this['state']=this[_0x5345b6(0x1a2)]===0x1?0x2:0x1;if(this['label']==='SA1'){let _0x3a53bc=findElementByLabel('E1');_0x3a53bc&&(_0x3a53bc[_0x5345b6(0x17a)]=this[_0x5345b6(0x1a2)]===0x2);}else{if(this[_0x5345b6(0x1b1)]==='SA2'){let _0x2f2460=findElementByLabel('E2');_0x2f2460&&(_0x2f2460['isActive']=this[_0x5345b6(0x1a2)]===0x1);}}redraw(),calculateCircuit();}['updateConnectors'](){const _0x59134c=_0x5dbca6;this[_0x59134c(0x233)][_0x59134c(0x211)](_0x13c594=>{const _0x6cec48=_0x59134c;_0x13c594['x']=this['x']+cos(this[_0x6cec48(0x16a)]())*_0x13c594[_0x6cec48(0x185)]-sin(this[_0x6cec48(0x16a)]())*_0x13c594[_0x6cec48(0x214)],_0x13c594['y']=this['y']+sin(this[_0x6cec48(0x16a)]())*_0x13c594['originalX']+cos(this[_0x6cec48(0x16a)]())*_0x13c594['originalY'];});}[_0x5dbca6(0x16a)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x3503b3,_0x5cbe64,_0x160f86){const _0x5d4a34=_0x5dbca6;super(_0x3503b3,_0x5cbe64),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x5d4a34(0x1b1)]=_0x160f86,this[_0x5d4a34(0x16b)]=!![],this[_0x5d4a34(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x5d4a34(0x211)](_0x4b1d46=>{const _0x2d178f=_0x5d4a34;_0x4b1d46[_0x2d178f(0x185)]*=SCALE_FACTOR;});}[_0x5dbca6(0x16f)](_0x67348c){const _0x2debdc=_0x5dbca6;_0x67348c[_0x2debdc(0x178)](1.5*SCALE_FACTOR),_0x67348c[_0x2debdc(0x217)](0x0),_0x67348c[_0x2debdc(0x192)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x67348c['line'](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x67348c[_0x2debdc(0x192)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x67348c[_0x2debdc(0x1c9)](),_0x67348c[_0x2debdc(0x1e2)](CENTER),_0x67348c[_0x2debdc(0x1b4)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x67348c['noStroke'](),_0x67348c[_0x2debdc(0x177)](0x0),_0x67348c['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x67348c[_0x2debdc(0x202)](this[_0x2debdc(0x1b1)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x5dbca6(0x1e8)](){const _0x579f0c=_0x5dbca6;super[_0x579f0c(0x1e8)](),strokeWeight(1.5*SCALE_FACTOR),this['isOpen']?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x579f0c(0x16b)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x579f0c(0x1e5)](),this['updateConnectors']();}[_0x5dbca6(0x1fc)](){const _0x51f861=_0x5dbca6;this[_0x51f861(0x16b)]=!this[_0x51f861(0x16b)],console['log'](_0x51f861(0x208)+this[_0x51f861(0x1b1)]+_0x51f861(0x1aa)+this['isOpen']),updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0x5dbca6(0x23a)](){const _0x1d51b6=_0x5dbca6;this[_0x1d51b6(0x233)][_0x1d51b6(0x211)](_0x4cc317=>{const _0x27cafe=_0x1d51b6;_0x4cc317['x']=this['x']+cos(this[_0x27cafe(0x16a)]())*_0x4cc317[_0x27cafe(0x185)]-sin(this['rotationAngle']())*_0x4cc317[_0x27cafe(0x214)],_0x4cc317['y']=this['y']+sin(this[_0x27cafe(0x16a)]())*_0x4cc317[_0x27cafe(0x185)]+cos(this[_0x27cafe(0x16a)]())*_0x4cc317['originalY'];});}['rotationAngle'](){const _0x48d54d=_0x5dbca6;switch(this[_0x48d54d(0x19b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x49a021,_0x1fd17d,_0x15b61c){this['x']=_0x49a021,this['y']=_0x1fd17d,this['text']=_0x15b61c;}[_0x5dbca6(0x1ad)](_0x68ff65){this['text']=_0x68ff65;}['display'](){const _0x4299d9=_0x5dbca6;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x4299d9(0x16c)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x37d3a1=textWidth(this['text']);rectMode(CENTER);let _0xcaf245=0x0,_0x5d69d9=0x0,_0x7084e3=0x2*SCALE_FACTOR,_0x1edcd8=0x2*SCALE_FACTOR;this[_0x4299d9(0x202)]&&rect(_0xcaf245,_0x5d69d9,_0x37d3a1+_0x7084e3*0x2,0x14*SCALE_FACTOR+_0x1edcd8*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x4299d9(0x202)],_0xcaf245,_0x5d69d9),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x41188c,_0x1b144a,_0x5bdfa2){const _0x1a2954=_0x5dbca6;super(_0x41188c,_0x1b144a),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x1a2954(0x1bd)](this['w'],this['h'])/0x2,this['label']=_0x5bdfa2,this[_0x1a2954(0x237)]=0.5,this[_0x1a2954(0x215)]='50',this[_0x1a2954(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}[_0x5dbca6(0x1e8)](){const _0x3fbd03=_0x5dbca6;super[_0x3fbd03(0x1e8)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x3776d2=this['h'],_0x88432=this['w'];let _0x3dccb4=_0x3776d2*1.2,_0x57945b=_0x88432*0.35,_0x4890cf=-_0x3dccb4/0x2,_0x4936ee=_0x3dccb4/0x2,_0x9f3141=-_0x88432*0.1;drawingContext[_0x3fbd03(0x1f3)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x9f3141-_0x57945b,-_0x3776d2*1.4,_0x57945b*0x2,2.8*_0x3776d2),drawingContext[_0x3fbd03(0x1f3)]([]),noFill();const _0x976664=0x3,_0x29cff7=_0x3dccb4/_0x976664;for(let _0x57bb2b=0x0;_0x57bb2b<_0x976664;_0x57bb2b++){let _0x59a7a8=_0x4890cf+_0x57bb2b*_0x29cff7;arc(_0x9f3141-_0x3776d2/0xa*2.2,_0x59a7a8+_0x29cff7/0x2,_0x57945b,_0x29cff7,-PI/0x2,PI/0x2);}line(_0x9f3141-_0x57945b/0x2-0x3,_0x4890cf-_0x3776d2/0xa,_0x9f3141-_0x57945b/0x2-0x3,_0x4890cf),line(_0x9f3141-_0x57945b/0x2-0x3,_0x4890cf-_0x3776d2/0xa,_0x9f3141-_0x57945b*1.5,_0x4890cf-_0x3776d2/0xa),line(_0x9f3141-_0x57945b/0x2-0x3,_0x4936ee,_0x9f3141-_0x57945b/0x2-0x3,_0x4936ee+_0x3776d2*0.4),line(_0x9f3141-_0x57945b*1.5,_0x4936ee+_0x3776d2*0.4,_0x9f3141-_0x57945b/0x2-0x3,_0x4936ee+_0x3776d2*0.4);let _0x7552ae=lerp(_0x4890cf,_0x4936ee,this[_0x3fbd03(0x237)]);line(_0x9f3141+_0x57945b/0x3,_0x7552ae,_0x9f3141+_0x57945b/0x4+0x19*SCALE_FACTOR,_0x7552ae),fill(0x0),triangle(_0x3776d2/0x14,-_0x3776d2/0x14,-_0x3776d2/0xa,0x0,_0x3776d2/0x14,_0x3776d2/0x14),circle(_0x9f3141-_0x57945b/0x2-0x3,_0x4936ee+_0x3776d2*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x3fbd03(0x1d8),-_0x88432/0xa,-_0x3776d2*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',-_0x88432/0xa,_0x3776d2*1.6),super['postDisplay']();}[_0x5dbca6(0x16f)](_0x51eef5){const _0x322ab6=_0x5dbca6;_0x51eef5['strokeWeight'](0x1*SCALE_FACTOR),_0x51eef5['stroke'](0x0);let _0x3123a3=this['h']*0.6,_0x3562b7=this['w']*0.25,_0x33b061=-_0x3123a3/0x2,_0x337b86=_0x3123a3/0x2,_0x366367=-this['w']*0.1;_0x51eef5[_0x322ab6(0x17c)][_0x322ab6(0x1f3)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x51eef5[_0x322ab6(0x1b4)](_0x366367-_0x3562b7,_0x33b061-_0x3123a3/0x2,_0x3562b7+0xf,_0x3123a3*0x2),_0x51eef5['drawingContext'][_0x322ab6(0x1f3)]([]),_0x51eef5[_0x322ab6(0x1c9)]();const _0x22bced=0x3,_0x26867b=_0x3123a3/_0x22bced;for(let _0x26c9d6=0x0;_0x26c9d6<_0x22bced;_0x26c9d6++){let _0x36ad99=_0x33b061+_0x26c9d6*_0x26867b;_0x51eef5[_0x322ab6(0x205)](_0x366367-0xf,_0x36ad99+_0x26867b/0x2,_0x3562b7,_0x26867b,-PI/0x2,PI/0x2);}_0x51eef5['line'](_0x366367-_0x3562b7/0x2-0x3,_0x33b061-0xa,_0x366367-_0x3562b7/0x2-0x3,_0x33b061),_0x51eef5['line'](_0x366367-_0x3562b7/0x2-0x3,_0x33b061-0xa,_0x366367-_0x3562b7*1.5,_0x33b061-0xa),_0x51eef5['line'](_0x366367-_0x3562b7/0x2-0x3,_0x337b86,_0x366367-_0x3562b7/0x2-0x3,_0x337b86+0xa),_0x51eef5['line'](_0x366367-_0x3562b7*1.5,_0x337b86+0xa,_0x366367-_0x3562b7/0x2-0x3,_0x337b86+0xa);let _0xc2e5e7=lerp(_0x33b061,_0x337b86,this['tapPosition']);_0x51eef5['line'](_0x366367+_0x3562b7/0x4,_0xc2e5e7,_0x366367+_0x3562b7/0x4+0xc*SCALE_FACTOR,_0xc2e5e7),_0x51eef5[_0x322ab6(0x177)](0x0),_0x51eef5['triangle'](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x51eef5[_0x322ab6(0x177)](0x0),_0x51eef5[_0x322ab6(0x22f)](),_0x51eef5['textSize'](0xa*SCALE_FACTOR),_0x51eef5[_0x322ab6(0x1b7)](CENTER,BOTTOM),_0x51eef5['text'](_0x322ab6(0x1d8),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x39e433,_0x2fd070,_0x3ed497,_0x32b9ff){const _0x59d7b6=_0x5dbca6;super(_0x39e433,_0x2fd070),this[_0x59d7b6(0x239)]=_0x3ed497,this[_0x59d7b6(0x1b2)]=_0x32b9ff,this['waveformColorCurrent']=color(0x0,0xff,0x0),this[_0x59d7b6(0x20f)]=color(0x0,0x94,0xff),this[_0x59d7b6(0x209)]=0x0,this[_0x59d7b6(0x1ae)]=0x0,this['frequencyHz']=0x32,this[_0x59d7b6(0x1a3)]=0x0;}[_0x5dbca6(0x229)](_0x3c7825,_0x5426b4,_0x55db5d,_0x3cf645){const _0x464ffa=_0x5dbca6;this[_0x464ffa(0x209)]=_0x3c7825,this[_0x464ffa(0x1ae)]=_0x5426b4,this[_0x464ffa(0x1eb)]=_0x55db5d,this[_0x464ffa(0x1a3)]=_0x3cf645;}[_0x5dbca6(0x1e8)](){const _0x368a24=_0x5dbca6;push(),translate(this['x'],this['y']),stroke(_0x368a24(0x16c)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x368a24(0x239)],this['height']),drawingContext[_0x368a24(0x1f3)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this['height']/0x2,this[_0x368a24(0x239)],this[_0x368a24(0x1b2)]/0x2),line(this[_0x368a24(0x239)]/0x2,0x0,this[_0x368a24(0x239)]/0x2,this[_0x368a24(0x1b2)]),drawingContext[_0x368a24(0x1f3)]([]),stroke(this['waveformColorVoltage']),fill(this[_0x368a24(0x20f)]),rect(0x0,this[_0x368a24(0x1b2)]*0.7,this[_0x368a24(0x239)]/0x3,this['height']/0x8),stroke(this[_0x368a24(0x1f6)]),fill(this[_0x368a24(0x1f6)]),rect(0x0,this[_0x368a24(0x1b2)]*0.85,this[_0x368a24(0x239)]/0x3,this['height']/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x368a24(0x227),this[_0x368a24(0x239)]/0x6,this[_0x368a24(0x1b2)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Струм',this[_0x368a24(0x239)]/0x6,this[_0x368a24(0x1b2)]*0.97),(this[_0x368a24(0x209)]>0x0||this[_0x368a24(0x1ae)]>0x0)&&this[_0x368a24(0x20e)](),pop();}[_0x5dbca6(0x20e)](){const _0x1d7de4=_0x5dbca6;push(),translate(0x14*SCALE_FACTOR,this[_0x1d7de4(0x1b2)]/0x2);const _0x5a70c5=0x96,_0x19fc10=0x3*PI/_0x5a70c5,_0x4ebf3f=this[_0x1d7de4(0x1b2)]/0x4;stroke(this[_0x1d7de4(0x1f6)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x5be30b=this[_0x1d7de4(0x1a3)]*PI/0xb4;for(let _0x215077=0x0;_0x215077<=_0x5a70c5;_0x215077++){const _0x283fab=_0x215077*_0x19fc10,_0x5967d4=sin(_0x283fab-_0x5be30b)*this[_0x1d7de4(0x1b2)]*0.25;vertex(_0x215077*this['width']/_0x5a70c5-0x14*SCALE_FACTOR,-_0x5967d4);}endShape(),stroke(this[_0x1d7de4(0x20f)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x1f5747=0x0;_0x1f5747<=_0x5a70c5;_0x1f5747++){const _0x587f6f=_0x1f5747*_0x19fc10,_0x5079ad=sin(_0x587f6f)*this[_0x1d7de4(0x1b2)]*0.45;vertex(_0x1f5747*this[_0x1d7de4(0x239)]/_0x5a70c5-0x14*SCALE_FACTOR,-_0x5079ad);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x19d8da,_0x127a5,_0x130e45){const _0x20d3a1=_0x5dbca6;super(_0x19d8da,_0x127a5),this['r']=0xf*SCALE_FACTOR,this[_0x20d3a1(0x1b1)]=_0x130e45,this['power']='30',this[_0x20d3a1(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x20d3a1(0x211)](_0x41d791=>{_0x41d791['originalX']*=SCALE_FACTOR;}),this[_0x20d3a1(0x17a)]=![];}[_0x5dbca6(0x16f)](_0x2be8c1){const _0x54c9af=_0x5dbca6;_0x2be8c1[_0x54c9af(0x178)](0x1*SCALE_FACTOR),_0x2be8c1['stroke'](0x0),_0x2be8c1[_0x54c9af(0x177)](0xff),_0x2be8c1[_0x54c9af(0x1b0)](0x0,0x0,this['r']*1.5);const _0x530234=this['r']*0.707106781*0.75;_0x2be8c1[_0x54c9af(0x192)](-_0x530234,_0x530234,_0x530234,-_0x530234),_0x2be8c1[_0x54c9af(0x192)](-_0x530234,-_0x530234,_0x530234,_0x530234),_0x2be8c1[_0x54c9af(0x22f)](),_0x2be8c1['fill'](0x0),_0x2be8c1[_0x54c9af(0x1b7)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x2be8c1[_0x54c9af(0x202)](this[_0x54c9af(0x1b1)],0x0,this['r']*1.3);}[_0x5dbca6(0x1e8)](){const _0x31ddfd=_0x5dbca6;super[_0x31ddfd(0x1e8)]();let _0x4a4edf=0x1*SCALE_FACTOR,_0x1f3163=0x2*_0x4a4edf;this[_0x31ddfd(0x17a)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0x1f3163),fill(0xff)):(stroke(0x0),strokeWeight(_0x4a4edf),fill(0xff));const _0x2e7cb2=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x2e7cb2,_0x2e7cb2,_0x2e7cb2,-_0x2e7cb2),line(-_0x2e7cb2,-_0x2e7cb2,_0x2e7cb2,_0x2e7cb2);if(this[_0x31ddfd(0x17a)])for(let _0xd7df8a=0x0;_0xd7df8a<0x168;_0xd7df8a+=0x1e){const _0x3601bf=_0xd7df8a*(Math['PI']/0xb4),_0x335b0f=1.15*this['r'],_0x81e576=1.4*this['r'],_0x185198=_0x81e576*Math['cos'](_0x3601bf),_0x321507=_0x81e576*Math[_0x31ddfd(0x225)](_0x3601bf),_0x6337a8=_0x335b0f*Math[_0x31ddfd(0x200)](_0x3601bf),_0x467ae5=_0x335b0f*Math['sin'](_0x3601bf);line(_0x6337a8,_0x467ae5,_0x185198,_0x321507);}rotate(0x0),this[_0x31ddfd(0x17a)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x31ddfd(0x1b1)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this[_0x31ddfd(0x196)]+_0x31ddfd(0x23c),0x0,this['r']*1.2),super[_0x31ddfd(0x1e5)](),this[_0x31ddfd(0x23a)]();}[_0x5dbca6(0x1fc)](){const _0x5c1019=_0x5dbca6;this[_0x5c1019(0x17a)]?this[_0x5c1019(0x17a)]=![]:this[_0x5c1019(0x17a)]=!![];}[_0x5dbca6(0x16a)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x20d414,_0x4fbff1,_0x35d30b,_0x3bf60d=0x1e){const _0x20d527=_0x5dbca6;super(_0x20d414,_0x4fbff1),this[_0x20d527(0x181)]=0x5,this[_0x20d527(0x199)]=0xf*SCALE_FACTOR,this['lampSpacing']=this['lampRadius']*0x2+0xa*SCALE_FACTOR,this['label']=_0x35d30b,this['powerPerLamp']=parseFloat(_0x3bf60d)||0x1e,this[_0x20d527(0x17e)]=0x0,this['isVisible']=!![],this[_0x20d527(0x1c5)]=!![],this[_0x20d527(0x1d9)]=[],this['w']=this['numLamps']*this[_0x20d527(0x199)]*0x2+(this[_0x20d527(0x181)]-0x1)*(this[_0x20d527(0x1d3)]-this[_0x20d527(0x199)]*0x2),this['h']=this[_0x20d527(0x199)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this['lamps']=[];const _0x266c3a=-(this['w']/0x2)+this[_0x20d527(0x199)];for(let _0x266519=0x0;_0x266519<this[_0x20d527(0x181)];_0x266519++){const _0x32a99b=!![];this['lamps'][_0x20d527(0x194)]({'isActive':_0x32a99b,'offsetX':_0x266c3a+_0x266519*this[_0x20d527(0x1d3)],'offsetY':0x0}),this[_0x20d527(0x1d9)][_0x20d527(0x194)](_0x32a99b);}this[_0x20d527(0x233)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x20d527(0x21f)](),this[_0x20d527(0x1ef)]=![],this[_0x20d527(0x1c0)]=null;}[_0x5dbca6(0x231)](_0x5d167e){const _0x1d807b=_0x5dbca6;if(_0x5d167e===this[_0x1d807b(0x220)])return;this[_0x1d807b(0x220)]=_0x5d167e,this['calculateTotalPower'](),redraw();}['setEnabled'](_0x33c39d){const _0x541df8=_0x5dbca6;if(_0x33c39d===this[_0x541df8(0x1c5)])return;this[_0x541df8(0x1c5)]=_0x33c39d;if(!this[_0x541df8(0x1c5)]){for(let _0x31afdd=0x0;_0x31afdd<this[_0x541df8(0x181)];_0x31afdd++){this[_0x541df8(0x1d9)][_0x31afdd]=this[_0x541df8(0x1be)][_0x31afdd][_0x541df8(0x17a)];}for(let _0x2407df of this[_0x541df8(0x1be)]){_0x2407df[_0x541df8(0x17a)]=![];}}else for(let _0x10698d=0x0;_0x10698d<this[_0x541df8(0x181)];_0x10698d++){this[_0x541df8(0x1be)][_0x10698d][_0x541df8(0x17a)]=typeof this['_previousLampStates'][_0x10698d]===_0x541df8(0x171)?this[_0x541df8(0x1d9)][_0x10698d]:![];}this[_0x541df8(0x21f)](),redraw();}[_0x5dbca6(0x1fc)](_0x137836){const _0x18227e=_0x5dbca6;if(!this[_0x18227e(0x1c5)]||!this[_0x18227e(0x220)])return;if(this[_0x18227e(0x1ef)])return;_0x137836>=0x0&&_0x137836<this[_0x18227e(0x181)]&&(this['isTogglingLamp']=!![],this[_0x18227e(0x1be)][_0x137836][_0x18227e(0x17a)]=!this[_0x18227e(0x1be)][_0x137836][_0x18227e(0x17a)],this[_0x18227e(0x1d9)][_0x137836]=this[_0x18227e(0x1be)][_0x137836]['isActive'],this[_0x18227e(0x21f)](),clearTimeout(this[_0x18227e(0x1c0)]),this['toggleTimer']=setTimeout(()=>{const _0x142c20=_0x18227e;this[_0x142c20(0x1ef)]=![],redraw();},0xc8));}[_0x5dbca6(0x21f)](){const _0x66390c=_0x5dbca6;if(!this[_0x66390c(0x1c5)]||!this[_0x66390c(0x220)]){this[_0x66390c(0x17e)]=0x0;return;}let _0x5d63d3=0x0;for(const _0x3aa4f6 of this[_0x66390c(0x1be)]){_0x3aa4f6['isActive']&&(_0x5d63d3+=this[_0x66390c(0x19c)]);}this[_0x66390c(0x17e)]=_0x5d63d3;}[_0x5dbca6(0x167)](_0x8d44c6,_0x107fd2){const _0xc3d5d=_0x5dbca6;if(!this[_0xc3d5d(0x220)])return-0x1;for(let _0x3d67df=0x0;_0x3d67df<this[_0xc3d5d(0x181)];_0x3d67df++){const _0x4f1377=this[_0xc3d5d(0x1be)][_0x3d67df],_0x4932eb=this['x']+_0x4f1377[_0xc3d5d(0x1d0)],_0x3124f4=this['y']+_0x4f1377[_0xc3d5d(0x213)],_0x1ec131=dist(_0x8d44c6,_0x107fd2,_0x4932eb,_0x3124f4);if(_0x1ec131<this[_0xc3d5d(0x199)])return _0x3d67df;}return-0x1;}[_0x5dbca6(0x16f)](_0x2479d1){const _0x5b7c53=_0x5dbca6;_0x2479d1[_0x5b7c53(0x178)](0x1*SCALE_FACTOR),_0x2479d1['stroke'](0x0);const _0x520b9d=this[_0x5b7c53(0x199)]*0.5,_0x2d0fd2=_0x520b9d*0x2+0x2*SCALE_FACTOR,_0x3037af=this[_0x5b7c53(0x181)]*_0x520b9d*0x2+(this[_0x5b7c53(0x181)]-0x1)*0x2*SCALE_FACTOR,_0x5ed82c=-_0x3037af/0x2+_0x520b9d;for(let _0x273019=0x0;_0x273019<this['numLamps'];_0x273019++){_0x2479d1['fill'](0xff),_0x2479d1[_0x5b7c53(0x1b0)](_0x5ed82c+_0x273019*_0x2d0fd2,0x0,_0x520b9d*0x2);const _0x292c1d=_0x520b9d*0.707;_0x2479d1[_0x5b7c53(0x192)](_0x5ed82c+_0x273019*_0x2d0fd2-_0x292c1d,_0x292c1d,_0x5ed82c+_0x273019*_0x2d0fd2+_0x292c1d,-_0x292c1d),_0x2479d1['line'](_0x5ed82c+_0x273019*_0x2d0fd2-_0x292c1d,-_0x292c1d,_0x5ed82c+_0x273019*_0x2d0fd2+_0x292c1d,_0x292c1d);}_0x2479d1[_0x5b7c53(0x22f)](),_0x2479d1[_0x5b7c53(0x177)](0x0),_0x2479d1[_0x5b7c53(0x1b7)](CENTER,BOTTOM),_0x2479d1[_0x5b7c53(0x21e)](0x8*SCALE_FACTOR),_0x2479d1['text'](this['label'],0x0,_0x520b9d+0xa*SCALE_FACTOR);}['display'](){const _0x3f903a=_0x5dbca6;if(!this[_0x3f903a(0x220)])return;push(),translate(this['x'],this['y']);for(let _0x4b88b6=0x0;_0x4b88b6<this['numLamps'];_0x4b88b6++){const _0x4ba5dc=this[_0x3f903a(0x1be)][_0x4b88b6];push(),translate(_0x4ba5dc['offsetX'],_0x4ba5dc[_0x3f903a(0x213)]);let _0x40ea9c=0x1*SCALE_FACTOR,_0x468529=0x2*_0x40ea9c,_0x39da4b=color(0xff),_0x25d9de=color(0x0);_0x4ba5dc[_0x3f903a(0x17a)]?(_0x25d9de=color(0xff,0xd8,0x0),strokeWeight(_0x468529),_0x39da4b=color(0xff,0xff,0xc8)):strokeWeight(_0x40ea9c);!this[_0x3f903a(0x1c5)]&&(_0x25d9de=color(0x96),_0x39da4b=color(0xdc),strokeWeight(_0x40ea9c));stroke(_0x25d9de),fill(_0x39da4b),circle(0x0,0x0,this[_0x3f903a(0x199)]*0x2);const _0x5e1dcb=this[_0x3f903a(0x199)]*0.707;line(-_0x5e1dcb,_0x5e1dcb,_0x5e1dcb,-_0x5e1dcb),line(-_0x5e1dcb,-_0x5e1dcb,_0x5e1dcb,_0x5e1dcb),line(-1.3*this[_0x3f903a(0x199)],0x0,-this[_0x3f903a(0x199)],0x0),line(1.3*this[_0x3f903a(0x199)],0x0,this[_0x3f903a(0x199)],0x0);if(_0x4ba5dc[_0x3f903a(0x17a)]&&this[_0x3f903a(0x1c5)]){stroke(_0x25d9de),strokeWeight(0x1*SCALE_FACTOR);for(let _0xf39cc7=0x0;_0xf39cc7<0x168;_0xf39cc7+=0x2d){const _0x3ce0cc=radians(_0xf39cc7),_0x4e929b=1.15*this[_0x3f903a(0x199)],_0x44739c=1.4*this[_0x3f903a(0x199)];line(_0x4e929b*cos(_0x3ce0cc),_0x4e929b*sin(_0x3ce0cc),_0x44739c*cos(_0x3ce0cc),_0x44739c*sin(_0x3ce0cc));}}pop();}noStroke(),fill(this[_0x3f903a(0x1c5)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this[_0x3f903a(0x199)]-0x5*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this['total_power']>0x0&&text(_0x3f903a(0x17b)+this[_0x3f903a(0x17e)][_0x3f903a(0x1ee)](0x0)+_0x3f903a(0x23c),0x0,this[_0x3f903a(0x199)]+0x5*SCALE_FACTOR),pop(),this[_0x3f903a(0x23a)]();}[_0x5dbca6(0x23a)](){const _0x133caf=_0x5dbca6,_0x1bc63f=this['rotationAngle']();this[_0x133caf(0x233)]['forEach'](_0x393b3b=>{const _0x404fa2=_0x133caf;_0x393b3b['x']=this['x']+cos(_0x1bc63f)*_0x393b3b[_0x404fa2(0x185)]-sin(_0x1bc63f)*_0x393b3b[_0x404fa2(0x214)],_0x393b3b['y']=this['y']+sin(_0x1bc63f)*_0x393b3b[_0x404fa2(0x185)]+cos(_0x1bc63f)*_0x393b3b[_0x404fa2(0x214)];});}[_0x5dbca6(0x16a)](){return 0x0;}}


        </script>

</body>
</html>