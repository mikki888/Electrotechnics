<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x7a1a90=_0xa0fc;(function(_0x2dd648,_0xa356a7){const _0x1b8bc9=_0xa0fc,_0x19e42d=_0x2dd648();while(!![]){try{const _0x3b6981=-parseInt(_0x1b8bc9(0x1aa))/0x1+-parseInt(_0x1b8bc9(0x1e2))/0x2*(parseInt(_0x1b8bc9(0x1ae))/0x3)+-parseInt(_0x1b8bc9(0x201))/0x4+-parseInt(_0x1b8bc9(0x20d))/0x5*(parseInt(_0x1b8bc9(0x1f3))/0x6)+parseInt(_0x1b8bc9(0x1db))/0x7+-parseInt(_0x1b8bc9(0x1be))/0x8*(-parseInt(_0x1b8bc9(0x161))/0x9)+parseInt(_0x1b8bc9(0x169))/0xa;if(_0x3b6981===_0xa356a7)break;else _0x19e42d['push'](_0x19e42d['shift']());}catch(_0x39ed1d){_0x19e42d['push'](_0x19e42d['shift']());}}}(_0x14ee,0xb00ec));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x7a1a90(0x1b7)](navigator[_0x7a1a90(0x225)]),isLargeMobileScreen=window[_0x7a1a90(0x211)]>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':_0x7a1a90(0x155),'label':_0x7a1a90(0x217),'targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x7a1a90(0x1fd),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x155),'label':_0x7a1a90(0x1a5),'targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x155),'label':_0x7a1a90(0x199),'targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x155),'label':'SA21','targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x155),'label':_0x7a1a90(0x1e8),'targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x7a1a90(0x185),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x155),'label':_0x7a1a90(0x165),'targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x21d),'label':'PA1','targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x21d),'label':'PA2','targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x21d),'label':_0x7a1a90(0x1d2),'targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x21d),'label':_0x7a1a90(0x1e4),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x7a1a90(0x1fb),'label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'GroupLamp','label':_0x7a1a90(0x1b2),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x7a1a90(0x1e1),'label':'HLG2','targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':'GroupLamp','label':_0x7a1a90(0x1ec),'targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=0x7f;function setup(){const _0x3863bc=_0x7a1a90;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData['length'],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x3863bc(0x195)),elements['push'](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x3863bc(0x178)),elements['push'](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x3863bc(0x197)),elements['push'](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x3863bc(0x1ed)),elements[_0x3863bc(0x18f)](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x3863bc(0x1b4)),elements[_0x3863bc(0x18f)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x3863bc(0x18c)),elements['push'](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x4cae7d=_0x7a1a90;let _0x54bf59={'SA2':null,'E2':null};paletteElementsData[_0x4cae7d(0x1e0)](_0x33bb90=>{const _0x5886a7=_0x4cae7d;let _0x43236b=createPaletteElementInstance(_0x33bb90[_0x5886a7(0x17c)],_0x33bb90[_0x5886a7(0x221)],_0x33bb90[_0x5886a7(0x1c8)],_0x33bb90[_0x5886a7(0x222)],_0x33bb90[_0x5886a7(0x1bb)],_0x33bb90);_0x43236b['label']==='Rk'&&(_0x43236b[_0x5886a7(0x1a3)]='20'),elements['push'](_0x43236b),_0x33bb90['placed']=!![],_0x33bb90['isFixed']=!![],_0x43236b[_0x5886a7(0x1d3)][_0x5886a7(0x1f5)]=!![],_0x43236b[_0x5886a7(0x1d3)]['isFixed']=!![];}),paletteElementsData=[];const _0x5cf2b0=document[_0x4cae7d(0x16c)]('palette');_0x5cf2b0[_0x4cae7d(0x1cf)]='',createPalette();}function createPalette(){const _0xefe00c=_0x7a1a90,_0x36cc9e=document['getElementById'](_0xefe00c(0x1eb));paletteElementsData[_0xefe00c(0x1e0)]((_0x12ddb0,_0x4b60e1)=>{const _0x59eba9=_0xefe00c,_0xfa9200=document[_0x59eba9(0x1ff)](_0x59eba9(0x174));_0xfa9200[_0x59eba9(0x1ef)][_0x59eba9(0x1ea)](_0x59eba9(0x1af));let _0x15fba6=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x15fba6['clear'](),_0x15fba6[_0x59eba9(0x18f)](),_0x15fba6['translate'](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x49bac4=createPaletteElementInstance(_0x12ddb0[_0x59eba9(0x17c)],_0x12ddb0['label'],_0x12ddb0[_0x59eba9(0x1c8)],0x0,0x0,_0x12ddb0);_0x49bac4[_0x59eba9(0x1c8)]=_0x12ddb0[_0x59eba9(0x1c8)],_0x49bac4[_0x59eba9(0x1f6)](_0x15fba6),_0x15fba6[_0x59eba9(0x1fc)]();const _0x3b887e=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x3b887e[_0x59eba9(0x187)](_0x15fba6,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0xfa9200[_0x59eba9(0x15c)](_0x3b887e[_0x59eba9(0x1c0)]),_0xfa9200[_0x59eba9(0x1d5)][_0x59eba9(0x14a)]=_0x12ddb0[_0x59eba9(0x17c)],_0xfa9200[_0x59eba9(0x1d5)][_0x59eba9(0x191)]=_0x12ddb0[_0x59eba9(0x221)],_0xfa9200[_0x59eba9(0x1d5)][_0x59eba9(0x1d0)]=_0x12ddb0[_0x59eba9(0x1c8)],_0xfa9200[_0x59eba9(0x1d5)]['paletteIndex']=_0x4b60e1,_0xfa9200[_0x59eba9(0x154)](_0x59eba9(0x20a),paletteElementClick),_0x36cc9e['appendChild'](_0xfa9200);});}function draw(){const _0x44dace=_0x7a1a90;background(0xf0),strokeWeight(0x1);const _0x2ddf36=0x2bc*SCALE_FACTOR,_0x48e360=0x1c2*SCALE_FACTOR,_0x4c8f8e=0x32*SCALE_FACTOR;stroke('lightgray');function _0x143e2d(_0xf7fd02,_0x572449,_0x21ecdd,_0x398b55){line(_0xf7fd02,_0x572449,_0x21ecdd,_0x398b55);}for(let _0x257502=0x0;_0x257502<=_0x48e360;_0x257502+=_0x4c8f8e){_0x143e2d(0x0,_0x257502,_0x2ddf36,_0x257502);}for(let _0x216d2e=0x0;_0x216d2e<=_0x2ddf36;_0x216d2e+=_0x4c8f8e){_0x143e2d(_0x216d2e,0x0,_0x216d2e,_0x48e360);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x143e2d(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x143e2d(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x143e2d(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x143e2d(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x520720=0x64;circle(0x1c*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x143e2d(0x1e*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x5a*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0xaa*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x190*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x1d6*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x520720=0xc8,circle(0x1c*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x143e2d(0x1e*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x5a*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0xaa*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x190*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x1d6*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x520720=0x12c,circle(0x1c*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x143e2d(0x1e*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x5a*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0xaa*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x190*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x520720*SCALE_FACTOR),_0x143e2d(0x1d6*SCALE_FACTOR,_0x520720*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x520720*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x143e2d(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x143e2d(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x143e2d(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x143e2d(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x143e2d(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x143e2d(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x529cf2 of elements){typeof _0x529cf2[_0x44dace(0x17e)]===_0x44dace(0x202)&&_0x529cf2['update'](),_0x529cf2[_0x44dace(0x186)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x44dace(0x186)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton();}function drawMessageBox(){const _0x70d7da=_0x7a1a90;messageBox[_0x70d7da(0x1ef)][_0x70d7da(0x203)](_0x70d7da(0x17f))&&(push(),fill(_0x70d7da(0x1e7)),stroke(_0x70d7da(0x14e)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox['textContent'],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x37f7ed=_0x7a1a90;push(),fill(_0x37f7ed(0x153)),stroke(_0x37f7ed(0x14b)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x37f7ed(0x205)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function _0xa0fc(_0x3a69a9,_0x47a276){const _0x14ee38=_0x14ee();return _0xa0fc=function(_0xa0fc0d,_0x610cd1){_0xa0fc0d=_0xa0fc0d-0x149;let _0x30d53a=_0x14ee38[_0xa0fc0d];return _0x30d53a;},_0xa0fc(_0x3a69a9,_0x47a276);}function drawDistanceBox(){const _0x193604=_0x7a1a90;push(),fill(_0x193604(0x1ce)),stroke('blue'),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x193604(0x205)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x51b589=_0x7a1a90;if(isCalculateButtonVisible){push(),fill(_0x51b589(0x1b6)),noStroke(),rectMode(CORNER);let _0x3673fe=0x96*SCALE_FACTOR,_0x5cb587=height-0x32*SCALE_FACTOR,_0xfb9d04=0xc8*SCALE_FACTOR,_0x132f23=0x32*SCALE_FACTOR;rect(_0x3673fe,_0x5cb587,_0xfb9d04,_0x132f23,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text('Дослідні\x20дані',_0x3673fe+_0xfb9d04/0x2,_0x5cb587+_0x132f23/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x560eb3=_0x7a1a90,_0x5e8265=findElementByLabel(_0x560eb3(0x217)),_0x205877=findElementByLabel(_0x560eb3(0x1fd)),_0x5272dd=findElementByLabel(_0x560eb3(0x1a5)),_0x41fc9e=findElementByLabel(_0x560eb3(0x1b2));if(!_0x5e8265||!_0x205877||!_0x5272dd||!_0x41fc9e)return;if(!(_0x5e8265 instanceof Switch)||!(_0x205877 instanceof Switch)||!(_0x5272dd instanceof Switch)||!(_0x41fc9e instanceof GroupLamp))return;const _0x2b34c5=_0x5e8265[_0x560eb3(0x1b9)],_0x1c6870=_0x205877[_0x560eb3(0x1b9)],_0x32d2b3=_0x5272dd['isOpen'],_0x2713a6=!_0x2b34c5&&!_0x1c6870&&_0x32d2b3;if(_0x41fc9e[_0x560eb3(0x1e6)]!==_0x2713a6)_0x41fc9e[_0x560eb3(0x204)](_0x2713a6);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x2719a6=_0x7a1a90,_0x9807f3=findElementByLabel(_0x2719a6(0x199)),_0x48ed62=findElementByLabel(_0x2719a6(0x182)),_0x3a6b72=findElementByLabel(_0x2719a6(0x1a8));if(!_0x9807f3||!_0x48ed62||!_0x3a6b72)return;if(!(_0x9807f3 instanceof Switch)||!(_0x48ed62 instanceof Switch)||!(_0x3a6b72 instanceof GroupLamp))return;const _0x3ca329=_0x9807f3[_0x2719a6(0x1b9)],_0x78e2a6=_0x48ed62['isOpen'],_0x236145=!_0x3ca329&&!_0x78e2a6;if(_0x3a6b72['isEnabled']!==_0x236145)_0x3a6b72[_0x2719a6(0x204)](_0x236145);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x20305a=_0x7a1a90,_0x4a4809=findElementByLabel(_0x20305a(0x1e8)),_0x4a3ec2=findElementByLabel('SA31'),_0x262a6d=findElementByLabel(_0x20305a(0x1ec));if(!_0x4a4809||!_0x4a3ec2||!_0x262a6d)return;if(!(_0x4a4809 instanceof Switch)||!(_0x4a3ec2 instanceof Switch)||!(_0x262a6d instanceof GroupLamp))return;const _0x3ec816=_0x4a4809[_0x20305a(0x1b9)],_0x25f0f2=_0x4a3ec2[_0x20305a(0x1b9)],_0x380e88=!_0x3ec816&&!_0x25f0f2;if(_0x262a6d[_0x20305a(0x1e6)]!==_0x380e88)_0x262a6d[_0x20305a(0x204)](_0x380e88);else;}function drawVisibilityToggleButton(){const _0x7829c2=_0x7a1a90;push();const _0x3e8bc5=0x226*SCALE_FACTOR,_0x14da66=0x55*SCALE_FACTOR,_0x2d5a3d=0x64*SCALE_FACTOR,_0x2143b5=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x3e8bc5,_0x14da66,_0x2d5a3d,_0x2143b5,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x749c3a=isC1CurrentlyVisible?_0x7829c2(0x218):_0x7829c2(0x14d);text(_0x749c3a,_0x3e8bc5+_0x2d5a3d/0x2,_0x14da66+_0x2143b5/0x2),pop();}function paletteElementClick(_0x55ba8e){const _0x16ad26=_0x7a1a90,_0x4cca68=_0x55ba8e[_0x16ad26(0x157)];if(!_0x4cca68){console[_0x16ad26(0x163)](_0x16ad26(0x183));return;}const _0x2b0a84=_0x4cca68[_0x16ad26(0x1d5)]['elementType'],_0x46bb98=_0x4cca68[_0x16ad26(0x1d5)][_0x16ad26(0x191)],_0x4458b4=_0x4cca68[_0x16ad26(0x1d5)][_0x16ad26(0x1d0)],_0x2249ad=parseInt(_0x4cca68[_0x16ad26(0x1d5)][_0x16ad26(0x1f9)]);if(!_0x2b0a84||!_0x46bb98||!_0x4458b4||isNaN(_0x2249ad)){console[_0x16ad26(0x163)](_0x16ad26(0x189),_0x4cca68[_0x16ad26(0x1d5)]);return;}canvasElementInstance=createPaletteElementInstance(_0x2b0a84,_0x46bb98,_0x4458b4,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x2249ad]),paletteElementsData['splice'](_0x2249ad,0x1);const _0x516831=document[_0x16ad26(0x16c)](_0x16ad26(0x1eb));_0x516831['innerHTML']='',createPalette();}function createPaletteElementInstance(_0x164727,_0x1d2c67,_0x3790ee,_0x31a666,_0x12044a,_0x26b650){const _0x15ae9f=_0x7a1a90;let _0x4a4af4;const _0x75986b=_0x26b650?.['powerPerLamp'];switch(_0x164727){case _0x15ae9f(0x20f):_0x4a4af4=new AutotransformerLaboratory(_0x31a666,_0x12044a,_0x1d2c67);break;case _0x15ae9f(0x1bc):_0x4a4af4=new Resistor(_0x31a666,_0x12044a,_0x1d2c67);_0x1d2c67==='Rk'&&(_0x4a4af4['resistance']='20');break;case _0x15ae9f(0x15f):_0x4a4af4=new SwitchSPDT(_0x31a666,_0x12044a,_0x1d2c67);break;case'Switch':_0x4a4af4=new Switch(_0x31a666,_0x12044a,_0x1d2c67);(_0x1d2c67===_0x15ae9f(0x217)||_0x1d2c67===_0x15ae9f(0x1fd)||_0x1d2c67===_0x15ae9f(0x199)||_0x1d2c67===_0x15ae9f(0x182)||_0x1d2c67===_0x15ae9f(0x1e8)||_0x1d2c67===_0x15ae9f(0x185)||_0x1d2c67==='SA4')&&(_0x4a4af4[_0x15ae9f(0x1b9)]=![]);break;case _0x15ae9f(0x21d):_0x4a4af4=new CustomAmmeter(_0x31a666,_0x12044a,_0x1d2c67);break;case _0x15ae9f(0x20e):_0x4a4af4=new Phasemeter(_0x31a666,_0x12044a,_0x1d2c67);break;case'Node':_0x4a4af4=new Node(_0x31a666,_0x12044a,_0x1d2c67);break;case _0x15ae9f(0x1cc):_0x4a4af4=new Induction(_0x31a666,_0x12044a,_0x1d2c67);break;case _0x15ae9f(0x1fb):_0x4a4af4=new Capacity(_0x31a666,_0x12044a,_0x1d2c67);break;case _0x15ae9f(0x19a):_0x4a4af4=new Frequency(_0x31a666,_0x12044a,_0x1d2c67);break;case'GroupLamp':_0x4a4af4=new GroupLamp(_0x31a666,_0x12044a,_0x1d2c67,_0x75986b);break;default:return null;}return _0x4a4af4[_0x15ae9f(0x1c8)]=parseInt(_0x3790ee),_0x4a4af4[_0x15ae9f(0x1d3)]=_0x26b650,_0x4a4af4;}function generateNewData(){const _0x3b7d84=_0x7a1a90,_0x45d7fe=[];for(let _0x3463c6=0x5;_0x3463c6<=0x32;_0x3463c6+=0x5){_0x45d7fe['push'](_0x3463c6);}const _0x23b13c=[];for(let _0x4e4ce5=0x78;_0x4e4ce5<=0x9b;_0x4e4ce5+=0x5){_0x23b13c[_0x3b7d84(0x18f)](_0x4e4ce5);}let _0xac05eb=_0x45d7fe[Math['floor'](Math[_0x3b7d84(0x196)]()*_0x45d7fe[_0x3b7d84(0x21e)])],_0x178bee=_0x23b13c[Math['floor'](Math['random']()*_0x23b13c['length'])],_0x1bcf6e={'C1':findElementByLabel('C1')};_0x1bcf6e['C1'][_0x3b7d84(0x188)]=String(_0xac05eb),U_phase_mag=String(_0x178bee),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x201876=_0x7a1a90,_0x2afb66=0x1f4*SCALE_FACTOR,_0x1dfc8a=0x46*SCALE_FACTOR,_0x8748e6=0xb4*SCALE_FACTOR,_0x130286=0x32*SCALE_FACTOR;if(mouseX>_0x2afb66&&mouseX<_0x2afb66+_0x8748e6&&mouseY>_0x1dfc8a&&mouseY<_0x1dfc8a+_0x130286){console[_0x201876(0x1a2)]('Toggle\x20Visibility\x20Button\x20Clicked!'),isC1CurrentlyVisible=!isC1CurrentlyVisible,console[_0x201876(0x1a2)](_0x201876(0x1ee),isC1CurrentlyVisible);const _0x24486d=findElementByLabel('C1'),_0x1d1449=findElementByLabel(_0x201876(0x1b2));_0x24486d instanceof Capacity&&_0x1d1449 instanceof GroupLamp?(_0x24486d[_0x201876(0x1a9)](isC1CurrentlyVisible),_0x1d1449['setVisibility'](!isC1CurrentlyVisible),console[_0x201876(0x1a2)](_0x201876(0x1fe)+isC1CurrentlyVisible+',\x20HLG1\x20visible:\x20'+!isC1CurrentlyVisible),_0x1d1449[_0x201876(0x1c7)]()):console[_0x201876(0x163)]('Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.');redraw();return;}if(isCalculateButtonVisible){let _0x256ef9=0x96*SCALE_FACTOR,_0x3faa91=height-0x32*SCALE_FACTOR,_0x171a8d=0xc8*SCALE_FACTOR,_0x13a45b=0x32*SCALE_FACTOR;if(mouseX>_0x256ef9&&mouseX<_0x256ef9+_0x171a8d&&mouseY>_0x3faa91&&mouseY<_0x3faa91+_0x13a45b){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x5d6200=null,_0x2d9b28=-0x1;for(let _0x3523a9=elements[_0x201876(0x21e)]-0x1;_0x3523a9>=0x0;_0x3523a9--){let _0x1b313c=elements[_0x3523a9];if(_0x1b313c instanceof GroupLamp&&!_0x1b313c[_0x201876(0x18b)]||_0x1b313c instanceof Capacity&&!_0x1b313c[_0x201876(0x18b)])continue;if(_0x1b313c instanceof GroupLamp){_0x2d9b28=_0x1b313c[_0x201876(0x16b)](mouseX,mouseY);if(_0x2d9b28!==-0x1){_0x5d6200=_0x1b313c;break;}}}if(_0x5d6200===null)for(let _0x70bf7c=elements[_0x201876(0x21e)]-0x1;_0x70bf7c>=0x0;_0x70bf7c--){let _0x1955db=elements[_0x70bf7c];if(_0x1955db instanceof GroupLamp&&!_0x1955db[_0x201876(0x18b)]||_0x1955db instanceof Capacity&&!_0x1955db[_0x201876(0x18b)])continue;if(_0x1955db instanceof Node||_0x1955db instanceof StaticTextDisplay)continue;let _0x62f850=![];if(typeof _0x1955db['r']!=='undefined'&&!(_0x1955db instanceof GroupLamp))dist(mouseX,mouseY,_0x1955db['x'],_0x1955db['y'])<_0x1955db['r']&&(_0x62f850=!![]);else typeof _0x1955db['w']!==_0x201876(0x173)&&typeof _0x1955db['h']!=='undefined'&&(mouseX>_0x1955db['x']-_0x1955db['w']/0x2&&mouseX<_0x1955db['x']+_0x1955db['w']/0x2&&mouseY>_0x1955db['y']-_0x1955db['h']/0x2&&mouseY<_0x1955db['y']+_0x1955db['h']/0x2&&(_0x62f850=!![]));if(_0x62f850){_0x5d6200=_0x1955db;break;}}if(_0x5d6200){let _0x183263=millis(),_0x2463bd=_0x183263-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0xc073f6=_0x5d6200[_0x201876(0x1d3)]&&_0x5d6200['placedElementData'][_0x201876(0x20c)],_0x38f900=![],_0x4f7fe7=![];if(_0x5d6200 instanceof GroupLamp&&_0x2d9b28!==-0x1)_0x5d6200['toggleState'](_0x2d9b28),_0x38f900=!![],_0x4f7fe7=!![];else{if(_0x2463bd){_0x38f900=!![],_0x4f7fe7=!![];if(_0x5d6200 instanceof GroupLamp){}else{if(_0x5d6200 instanceof SwitchSPDT||_0x5d6200 instanceof Switch)_0x5d6200[_0x201876(0x170)]();else{if(_0x5d6200 instanceof Resistor&&KirgofTest){let _0x43fce6=prompt(_0x201876(0x18a)+_0x5d6200[_0x201876(0x221)]+':',_0x5d6200[_0x201876(0x1a3)]||'100');_0x43fce6!==null&&(_0x5d6200[_0x201876(0x1a3)]=_0x43fce6,calculateCircuit());}else{if(_0x5d6200 instanceof AutotransformerLaboratory){let _0x3e457d=prompt(_0x201876(0x19d)+_0x5d6200[_0x201876(0x221)]+':',_0x5d6200['voltage']||'50');_0x3e457d!==null&&(_0x5d6200[_0x201876(0x16e)]=_0x3e457d,calculateCircuit());}else{if(_0x5d6200 instanceof Induction&&KirgofTest){let _0x3e7e51=prompt(_0x201876(0x16f)+_0x5d6200[_0x201876(0x221)]+':',_0x5d6200['induction']||'5');_0x3e7e51!==null&&(_0x5d6200[_0x201876(0x1d1)]=_0x3e7e51,calculateCircuit());}else{if(_0x5d6200 instanceof Capacity){if(_0x5d6200['isVisible']){let _0x683755=prompt(_0x201876(0x1b0)+_0x5d6200[_0x201876(0x221)]+':',_0x5d6200[_0x201876(0x188)]||'10');_0x683755!==null&&(_0x5d6200[_0x201876(0x188)]=_0x683755,calculateCircuit());}}else{if(_0x5d6200 instanceof Frequency){let _0x36e370=prompt(_0x201876(0x19c)+_0x5d6200[_0x201876(0x221)]+':',_0x5d6200[_0x201876(0x168)]||'50');_0x36e370!==null&&(_0x5d6200[_0x201876(0x168)]=_0x36e370,calculateCircuit());}}}}}}}}}_0xc073f6&&(_0x4f7fe7=!![]),!_0x4f7fe7&&(draggedElement=_0x5d6200,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x183263;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements['push'](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x54232e=_0x7a1a90;let _0x3e0f60=canvasElementInstance||draggedElement;if(_0x3e0f60){dragOffsetX=0x0,dragOffsetY=0x0;let _0x16af3b=mouseX-dragOffsetX,_0x54c58c=mouseY-dragOffsetY,_0x80607a=0x1e*SCALE_FACTOR,_0x1ec346=_0x80607a,_0x16563c=_0x80607a,_0x33ed23=width-_0x80607a,_0x1e93a1=height-_0x80607a;_0x3e0f60['x']=constrain(_0x16af3b,_0x1ec346,_0x33ed23),_0x3e0f60['y']=constrain(_0x54c58c,_0x16563c,_0x1e93a1);if(_0x3e0f60[_0x54232e(0x1d3)]){let _0x186510=dist(_0x3e0f60['x'],_0x3e0f60['y'],_0x3e0f60[_0x54232e(0x1d3)][_0x54232e(0x222)],_0x3e0f60[_0x54232e(0x1d3)][_0x54232e(0x1bb)]),_0x577b44=Math['max'](0x0,Math[_0x54232e(0x156)](_0x186510-SNAP_DISTANCE));distanceBox[_0x54232e(0x205)]=_0x54232e(0x166)+_0x577b44+_0x54232e(0x15b);}else distanceBox[_0x54232e(0x205)]='Цільова\x20точка\x20не\x20знайдена';}}function mouseReleased(){const _0x4a5719=_0x7a1a90;let _0x2d1d6c=null,_0x2172b0;if(canvasElementInstance)elements[_0x4a5719(0x18f)](canvasElementInstance),_0x2d1d6c=canvasElementInstance[_0x4a5719(0x1d3)],_0x2d1d6c&&(_0x2172b0=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x2d1d6c[_0x4a5719(0x222)],_0x2d1d6c[_0x4a5719(0x1bb)]),_0x2172b0<=SNAP_DISTANCE&&!_0x2d1d6c[_0x4a5719(0x1f5)]&&(canvasElementInstance['x']=_0x2d1d6c[_0x4a5719(0x222)],canvasElementInstance['y']=_0x2d1d6c['targetY'],_0x2d1d6c[_0x4a5719(0x1f5)]=!![],elementsPlacedCount++,_0x2d1d6c['isFixed']=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x2d1d6c=draggedElement[_0x4a5719(0x1d3)],_0x2172b0=_0x2d1d6c?dist(draggedElement['x'],draggedElement['y'],_0x2d1d6c[_0x4a5719(0x222)],_0x2d1d6c[_0x4a5719(0x1bb)]):undefined;if(_0x2d1d6c){if(_0x2172b0<=SNAP_DISTANCE&&!_0x2d1d6c[_0x4a5719(0x1f5)])!_0x2d1d6c[_0x4a5719(0x1f5)]&&(draggedElement['x']=_0x2d1d6c[_0x4a5719(0x222)],draggedElement['y']=_0x2d1d6c[_0x4a5719(0x1bb)],_0x2d1d6c[_0x4a5719(0x1f5)]=!![],elementsPlacedCount++,_0x2d1d6c['isFixed']=!![]);else _0x2d1d6c[_0x4a5719(0x1f5)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x2d1d6c['placed']=![],elementsPlacedCount--,_0x2d1d6c[_0x4a5719(0x20c)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x4a5719(0x205)]='',redraw();}function updateCounterDisplay(){const _0x9fb647=_0x7a1a90;counterBox[_0x9fb647(0x205)]=_0x9fb647(0x1a7)+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x9fb647(0x205)]='Схему\x20зібрано!',isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x46aa08=findElementByLabel('C1'),_0xe2fe02=findElementByLabel(_0x9fb647(0x1b2));_0x46aa08 instanceof Capacity&&_0xe2fe02 instanceof GroupLamp&&(_0x46aa08[_0x9fb647(0x1a9)](isC1CurrentlyVisible),_0xe2fe02[_0x9fb647(0x1a9)](!isC1CurrentlyVisible),_0xe2fe02[_0x9fb647(0x1c7)](),console['log'](_0x9fb647(0x21f)+isC1CurrentlyVisible+_0x9fb647(0x17a)+!isC1CurrentlyVisible)),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x5246d4=findElementByLabel(_0x9fb647(0x1b2));_0x5246d4 instanceof GroupLamp&&_0x5246d4[_0x9fb647(0x204)](![]);const _0x2a735f=findElementByLabel('C1');if(_0x2a735f instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x4eeeb8=_0x7a1a90;messageBox[_0x4eeeb8(0x205)]=_0x4eeeb8(0x1f4),messageBox['classList'][_0x4eeeb8(0x1ea)](_0x4eeeb8(0x17f)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x3babe8=_0x4eeeb8;messageBox[_0x3babe8(0x1ef)][_0x3babe8(0x1b5)]('show');},0x7d0);}function polarToRect(_0x47eb3d,_0x4fe54c){const _0x51170a=_0x7a1a90,_0x2e3d1e=_0x4fe54c*Math['PI']/0xb4;return{'re':_0x47eb3d*Math[_0x51170a(0x15e)](_0x2e3d1e),'im':_0x47eb3d*Math[_0x51170a(0x219)](_0x2e3d1e)};}function rectToPolar(_0x5ed3c6,_0x1c945e){const _0x25a058=_0x7a1a90,_0x542ad2=Math[_0x25a058(0x1c3)](_0x5ed3c6*_0x5ed3c6+_0x1c945e*_0x1c945e);let _0x320400=Math['atan2'](_0x1c945e,_0x5ed3c6),_0x47f8e5=_0x320400*0xb4/Math['PI'];return{'mag':_0x542ad2,'ang':_0x47f8e5};}function addPhasors(_0x15f1fa,_0x2f7ddd){return{'re':_0x15f1fa['re']+_0x2f7ddd['re'],'im':_0x15f1fa['im']+_0x2f7ddd['im']};}function subtractPhasors(_0xc5ed64,_0x5e30de){return{'re':_0xc5ed64['re']-_0x5e30de['re'],'im':_0xc5ed64['im']-_0x5e30de['im']};}function multiplyPhasors(_0xa862f5,_0x3e44fa){return{'re':_0xa862f5['re']*_0x3e44fa['re']-_0xa862f5['im']*_0x3e44fa['im'],'im':_0xa862f5['re']*_0x3e44fa['im']+_0xa862f5['im']*_0x3e44fa['re']};}function dividePhasors(_0xcf5850,_0x143737){const _0x4d1f79=_0x7a1a90,_0x25ed30=_0x143737['re']*_0x143737['re']+_0x143737['im']*_0x143737['im'];if(Math[_0x4d1f79(0x20b)](_0x25ed30)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0xcf5850['re']*_0x143737['re']+_0xcf5850['im']*_0x143737['im'])/_0x25ed30,'im':(_0xcf5850['im']*_0x143737['re']-_0xcf5850['re']*_0x143737['im'])/_0x25ed30};}function invertPhasorRect(_0x200b3e){const _0x53539d=_0x200b3e['re']*_0x200b3e['re']+_0x200b3e['im']*_0x200b3e['im'];if(Math['abs'](_0x53539d)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0x200b3e['re']/_0x53539d,'im':-_0x200b3e['im']/_0x53539d};}function calculateCircuit(){const _0x22a309=_0x7a1a90;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest)return;const _0x3709ff=0xdc,_0x56b5de=0x32,_0x348b1c=0x2*Math['PI']*_0x56b5de,_0x14ef41={'mag':U_phase_mag,'ang':0x0},_0x3a8906={'mag':U_phase_mag,'ang':-0x78},_0x12137d={'mag':U_phase_mag,'ang':0x78},_0x597ee8=polarToRect(_0x14ef41[_0x22a309(0x1c2)],_0x14ef41[_0x22a309(0x164)]),_0x5cfe82=polarToRect(_0x3a8906['mag'],_0x3a8906[_0x22a309(0x164)]),_0x24389e=polarToRect(_0x12137d[_0x22a309(0x1c2)],_0x12137d[_0x22a309(0x164)]),_0xa5e96a=findElementByLabel(_0x22a309(0x1b2)),_0x381113=findElementByLabel(_0x22a309(0x1a8)),_0x1d07a8=findElementByLabel('HLG3'),_0x259a5e=findElementByLabel('C1'),_0x5ed7b0=findElementByLabel(_0x22a309(0x217)),_0x57334d=findElementByLabel(_0x22a309(0x199)),_0x56d3cd=findElementByLabel(_0x22a309(0x1e8)),_0x46503d=findElementByLabel(_0x22a309(0x1fd)),_0x586a92=findElementByLabel(_0x22a309(0x1a5)),_0x114604=findElementByLabel(_0x22a309(0x182)),_0x5ba8f1=findElementByLabel(_0x22a309(0x185)),_0x123f73=findElementByLabel(_0x22a309(0x165)),_0x135e79=findElementByLabel(_0x22a309(0x207)),_0x30781a=findElementByLabel(_0x22a309(0x159)),_0x5ef41b=findElementByLabel(_0x22a309(0x1d2)),_0x460d7c=findElementByLabel(_0x22a309(0x1e4)),_0x242c2f=findElementByLabel('Uab\x20='),_0x5241a5=findElementByLabel(_0x22a309(0x178)),_0x39dba6=findElementByLabel(_0x22a309(0x197)),_0x2f4ccb=findElementByLabel('Ua\x20='),_0x37cbd5=findElementByLabel('Ub\x20='),_0x4d1272=findElementByLabel(_0x22a309(0x18c));if(!_0xa5e96a||!_0x381113||!_0x1d07a8||!_0x259a5e||!_0x5ed7b0||!_0x57334d||!_0x56d3cd||!_0x46503d||!_0x586a92||!_0x114604||!_0x5ba8f1||!_0x123f73||!_0x135e79||!_0x30781a||!_0x5ef41b||!_0x460d7c||!_0x242c2f||!_0x5241a5||!_0x39dba6||!_0x2f4ccb||!_0x37cbd5||!_0x4d1272){console['error'](_0x22a309(0x1a6)),hideCalculationValues();if(_0x242c2f)_0x242c2f[_0x22a309(0x1e3)](_0x22a309(0x223));if(_0x5241a5)_0x5241a5[_0x22a309(0x1e3)](_0x22a309(0x1b3));if(_0x39dba6)_0x39dba6[_0x22a309(0x1e3)](_0x22a309(0x1da));if(_0x2f4ccb)_0x2f4ccb['setText'](_0x22a309(0x212));if(_0x37cbd5)_0x37cbd5[_0x22a309(0x1e3)](_0x22a309(0x210));if(_0x4d1272)_0x4d1272[_0x22a309(0x1e3)](_0x22a309(0x1e5));if(_0x135e79)displayCalculationValue(_0x135e79,_0x22a309(0x194),_0x22a309(0x1f1));if(_0x30781a)displayCalculationValue(_0x30781a,'Ib\x20=\x20---\x20A','bottom');if(_0x5ef41b)displayCalculationValue(_0x5ef41b,_0x22a309(0x18e),'bottom');if(_0x460d7c)displayCalculationValue(_0x460d7c,_0x22a309(0x14c),_0x22a309(0x1f1));return;}hideCalculationValues();let _0x10e04b={'re':Infinity,'im':0x0},_0x3f994a={'re':Infinity,'im':0x0},_0x349955={'re':Infinity,'im':0x0};const _0x516075=0.01;if(!_0x5ed7b0[_0x22a309(0x1b9)]&&!_0x46503d[_0x22a309(0x1b9)]){if(!_0x586a92[_0x22a309(0x1b9)])_0x10e04b={'re':_0x516075,'im':0x0},_0xa5e96a[_0x22a309(0x1e6)]&&_0xa5e96a[_0x22a309(0x204)](![]);else{if(_0xa5e96a[_0x22a309(0x18b)]&&_0xa5e96a[_0x22a309(0x1e6)]){const _0x291f51=_0xa5e96a[_0x22a309(0x171)];if(_0x291f51>0x0){const _0x79955c=U_phase_mag*U_phase_mag/_0x291f51;_0x10e04b={'re':_0x79955c,'im':0x0};}else _0x10e04b={'re':Infinity,'im':0x0};}else{if(_0x259a5e[_0x22a309(0x18b)]){const _0x37f6f6=parseFloat(_0x259a5e['capacity'])/0xf4240;if(_0x37f6f6>0x0&&_0x348b1c>0x0){const _0x1e4c7a=0x1/(_0x348b1c*_0x37f6f6);_0x10e04b={'re':0x0,'im':-_0x1e4c7a};}else _0x10e04b={'re':Infinity,'im':0x0};}}}}if(!_0x57334d[_0x22a309(0x1b9)]&&!_0x114604[_0x22a309(0x1b9)]&&_0x381113[_0x22a309(0x18b)]&&_0x381113['isEnabled']){const _0x35dcbb=_0x381113[_0x22a309(0x171)];if(_0x35dcbb>0x0){const _0xd184d=U_phase_mag*U_phase_mag/_0x35dcbb;_0x3f994a={'re':_0xd184d,'im':0x0};}else _0x3f994a={'re':Infinity,'im':0x0};}if(!_0x56d3cd[_0x22a309(0x1b9)]&&!_0x5ba8f1[_0x22a309(0x1b9)]&&_0x1d07a8[_0x22a309(0x18b)]&&_0x1d07a8[_0x22a309(0x1e6)]){const _0x200a03=_0x1d07a8[_0x22a309(0x171)];if(_0x200a03>0x0){const _0x2dba41=U_phase_mag*U_phase_mag/_0x200a03;_0x349955={'re':_0x2dba41,'im':0x0};}else _0x349955={'re':Infinity,'im':0x0};}let _0x1850dc={'re':0x0,'im':0x0},_0x23adb1={'re':0x0,'im':0x0},_0x2425e4={'re':0x0,'im':0x0},_0x5d664f={'re':0x0,'im':0x0},_0x441706={'re':0x0,'im':0x0},_0x4d7b69={'re':0x0,'im':0x0},_0x211a66={'re':0x0,'im':0x0};const _0x559d18=!_0x123f73[_0x22a309(0x1b9)];if(_0x559d18){_0x441706=_0x10e04b['re']!==Infinity?_0x597ee8:{'re':0x0,'im':0x0},_0x4d7b69=_0x3f994a['re']!==Infinity?_0x5cfe82:{'re':0x0,'im':0x0},_0x211a66=_0x349955['re']!==Infinity?_0x24389e:{'re':0x0,'im':0x0};if(_0x10e04b['re']!==Infinity)_0x1850dc=dividePhasors(_0x441706,_0x10e04b);if(_0x3f994a['re']!==Infinity)_0x23adb1=dividePhasors(_0x4d7b69,_0x3f994a);if(_0x349955['re']!==Infinity)_0x2425e4=dividePhasors(_0x211a66,_0x349955);_0x5d664f=addPhasors(_0x1850dc,addPhasors(_0x23adb1,_0x2425e4));}else{const _0x349ba1=_0x10e04b['re']!==Infinity?invertPhasorRect(_0x10e04b):{'re':0x0,'im':0x0},_0x5690fb=_0x3f994a['re']!==Infinity?invertPhasorRect(_0x3f994a):{'re':0x0,'im':0x0},_0x471e28=_0x349955['re']!==Infinity?invertPhasorRect(_0x349955):{'re':0x0,'im':0x0},_0x5af675=addPhasors(_0x349ba1,addPhasors(_0x5690fb,_0x471e28));let _0x1b32f9={'re':0x0,'im':0x0};if(Math[_0x22a309(0x20b)](_0x5af675['re'])>1e-9||Math[_0x22a309(0x20b)](_0x5af675['im'])>1e-9){const _0x10f556=multiplyPhasors(_0x597ee8,_0x349ba1),_0x350dc3=multiplyPhasors(_0x5cfe82,_0x5690fb),_0x1c4bdd=multiplyPhasors(_0x24389e,_0x471e28),_0x460ddc=addPhasors(_0x10f556,addPhasors(_0x350dc3,_0x1c4bdd));_0x1b32f9=dividePhasors(_0x460ddc,_0x5af675);}else _0x1b32f9={'re':0x0,'im':0x0};_0x441706=subtractPhasors(_0x597ee8,_0x1b32f9),_0x4d7b69=subtractPhasors(_0x5cfe82,_0x1b32f9),_0x211a66=subtractPhasors(_0x24389e,_0x1b32f9);if(_0x10e04b['re']!==Infinity)_0x1850dc=multiplyPhasors(_0x441706,_0x349ba1);else _0x1850dc={'re':0x0,'im':0x0};if(_0x3f994a['re']!==Infinity)_0x23adb1=multiplyPhasors(_0x4d7b69,_0x5690fb);else _0x23adb1={'re':0x0,'im':0x0};if(_0x349955['re']!==Infinity)_0x2425e4=multiplyPhasors(_0x211a66,_0x471e28);else _0x2425e4={'re':0x0,'im':0x0};_0x5d664f={'re':0x0,'im':0x0};}if(_0x5ed7b0['isOpen'])_0x1850dc={'re':0x0,'im':0x0};if(_0x57334d[_0x22a309(0x1b9)])_0x23adb1={'re':0x0,'im':0x0};if(_0x56d3cd[_0x22a309(0x1b9)])_0x2425e4={'re':0x0,'im':0x0};_0x559d18?_0x5d664f=addPhasors(_0x1850dc,addPhasors(_0x23adb1,_0x2425e4)):_0x5d664f={'re':0x0,'im':0x0};const _0xdaabe8=subtractPhasors(_0x597ee8,_0x5cfe82),_0x14d21a=subtractPhasors(_0x5cfe82,_0x24389e),_0xc18022=subtractPhasors(_0x24389e,_0x597ee8),_0x3627ed=rectToPolar(_0xdaabe8['re'],_0xdaabe8['im']),_0x249c79=rectToPolar(_0x14d21a['re'],_0x14d21a['im']),_0x13a1f4=rectToPolar(_0xc18022['re'],_0xc18022['im']),_0x1f903a=!_0x5ed7b0['isOpen']?rectToPolar(_0x441706['re'],_0x441706['im']):{'mag':0x0,'ang':0x0},_0x1861a7=!_0x57334d[_0x22a309(0x1b9)]?rectToPolar(_0x4d7b69['re'],_0x4d7b69['im']):{'mag':0x0,'ang':0x0},_0x42f78e=!_0x56d3cd[_0x22a309(0x1b9)]?rectToPolar(_0x211a66['re'],_0x211a66['im']):{'mag':0x0,'ang':0x0},_0x4d1f90=rectToPolar(_0x1850dc['re'],_0x1850dc['im']),_0x18faad=rectToPolar(_0x23adb1['re'],_0x23adb1['im']),_0x4e7d5d=rectToPolar(_0x2425e4['re'],_0x2425e4['im']),_0x14070c=rectToPolar(_0x5d664f['re'],_0x5d664f['im']);displayCalculationValue(_0x135e79,_0x22a309(0x1bd)+_0x4d1f90[_0x22a309(0x1c2)][_0x22a309(0x215)](0x2)+'\x20A','bottom'),displayCalculationValue(_0x30781a,_0x22a309(0x1df)+_0x18faad[_0x22a309(0x1c2)][_0x22a309(0x215)](0x2)+'\x20A',_0x22a309(0x1f1)),displayCalculationValue(_0x5ef41b,'Ic\x20=\x20'+_0x4e7d5d[_0x22a309(0x1c2)][_0x22a309(0x215)](0x2)+'\x20A',_0x22a309(0x1f1)),displayCalculationValue(_0x460d7c,_0x22a309(0x193)+_0x14070c[_0x22a309(0x1c2)]['toFixed'](0x2)+'\x20A',_0x22a309(0x1f1)),_0x242c2f[_0x22a309(0x1e3)](_0x22a309(0x1c6)+_0x3627ed[_0x22a309(0x1c2)][_0x22a309(0x215)](0x1)+'\x20V'),_0x5241a5[_0x22a309(0x1e3)](_0x22a309(0x19e)+_0x249c79[_0x22a309(0x1c2)][_0x22a309(0x215)](0x1)+'\x20V'),_0x39dba6['setText']('Uca\x20=\x20'+_0x13a1f4[_0x22a309(0x1c2)][_0x22a309(0x215)](0x1)+'\x20V'),_0x2f4ccb['setText'](_0x22a309(0x1ad)+_0x1f903a[_0x22a309(0x1c2)][_0x22a309(0x215)](0x1)+'\x20V'),_0x37cbd5[_0x22a309(0x1e3)](_0x22a309(0x1e9)+_0x1861a7['mag'][_0x22a309(0x215)](0x1)+'\x20V'),_0x4d1272[_0x22a309(0x1e3)](_0x22a309(0x1c5)+_0x42f78e[_0x22a309(0x1c2)]['toFixed'](0x1)+'\x20V');}function findElementByLabel(_0x2e5415){const _0x328e02=_0x7a1a90;for(const _0x10fe4b of elements){if(_0x10fe4b[_0x328e02(0x221)]===_0x2e5415)return _0x10fe4b;}if(_0x2e5415===_0x328e02(0x195))return elements[_0x328e02(0x21c)](_0x59cb81=>_0x59cb81 instanceof StaticTextDisplay&&_0x59cb81['text'][_0x328e02(0x1dd)](_0x328e02(0x195)));if(_0x2e5415==='Ubc\x20=')return elements['find'](_0x530d2d=>_0x530d2d instanceof StaticTextDisplay&&_0x530d2d[_0x328e02(0x21b)][_0x328e02(0x1dd)]('Ubc\x20='));if(_0x2e5415===_0x328e02(0x197))return elements[_0x328e02(0x21c)](_0xe93f2e=>_0xe93f2e instanceof StaticTextDisplay&&_0xe93f2e[_0x328e02(0x21b)][_0x328e02(0x1dd)](_0x328e02(0x197)));if(_0x2e5415==='Ua\x20=')return elements[_0x328e02(0x21c)](_0x39e373=>_0x39e373 instanceof StaticTextDisplay&&_0x39e373[_0x328e02(0x21b)][_0x328e02(0x1dd)]('Ua\x20='));if(_0x2e5415===_0x328e02(0x1b4))return elements[_0x328e02(0x21c)](_0x18520e=>_0x18520e instanceof StaticTextDisplay&&_0x18520e[_0x328e02(0x21b)]['startsWith'](_0x328e02(0x1b4)));if(_0x2e5415===_0x328e02(0x18c))return elements['find'](_0x29cf0b=>_0x29cf0b instanceof StaticTextDisplay&&_0x29cf0b[_0x328e02(0x21b)][_0x328e02(0x1dd)](_0x328e02(0x18c)));return null;}function displayCalculationValue(_0x11975a,_0x4d2e67,_0x21f6b4){const _0x58b8c5=_0x7a1a90;if(!_0x11975a||typeof _0x11975a['x']==='undefined'||typeof _0x11975a['y']==='undefined'){console[_0x58b8c5(0x163)](_0x58b8c5(0x1a0),_0x11975a);return;}push(),translate(_0x11975a['x'],_0x11975a['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x21f6b4===_0x58b8c5(0x1f1)?TOP:BOTTOM);let _0x2d2ffc=0x0;if(_0x11975a instanceof CustomAmmeter||_0x11975a instanceof Frequency)_0x2d2ffc=(_0x21f6b4===_0x58b8c5(0x1f1)?_0x11975a['r']+0xa:-_0x11975a['r']-0x19)*SCALE_FACTOR;else{if(_0x11975a instanceof Phasemeter)_0x2d2ffc=(_0x21f6b4===_0x58b8c5(0x1f1)?_0x11975a['r']+0xa:-_0x11975a['r']-0x19)*SCALE_FACTOR;else{if(_0x11975a instanceof Resistor)_0x2d2ffc=(_0x21f6b4==='top'?-_0x11975a['h']/0x2-0xf:_0x11975a['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x11975a instanceof AutotransformerLaboratory)_0x2d2ffc=(_0x21f6b4===_0x58b8c5(0x1c1)?-_0x11975a['h']/0x2-0x23:_0x11975a['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x11975a instanceof Induction)_0x2d2ffc=(_0x21f6b4==='top'?-_0x11975a['h']/0x2-0xf:_0x11975a['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x11975a instanceof Capacity)_0x2d2ffc=(_0x21f6b4==='top'?-_0x11975a['h']/0x2-0xf:_0x11975a['h']/0x2+0x14)*SCALE_FACTOR;else _0x11975a instanceof Lamp&&(_0x2d2ffc=(_0x21f6b4==='top'?-_0x11975a['h']/0x2-0xf:_0x11975a['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x4d2e67,0x0,_0x2d2ffc),pop(),_0x11975a['calculationDisplayValue']=_0x4d2e67;}function hideCalculationValues(){const _0x5cbdff=_0x7a1a90;redraw(),elements[_0x5cbdff(0x1e0)](_0x5dc20f=>{const _0x501e3d=_0x5cbdff;_0x5dc20f[_0x501e3d(0x1f7)]=null;});}class CircuitElement{constructor(_0x38f56c,_0x303df4){const _0x15896e=_0x7a1a90;this['x']=_0x38f56c,this['y']=_0x303df4,this[_0x15896e(0x1c8)]=0x1,this['connectors']=[],this[_0x15896e(0x15d)]=![],this[_0x15896e(0x1d3)]=null,this[_0x15896e(0x1f7)]=null;}['update'](){}[_0x7a1a90(0x186)](){const _0x565cac=_0x7a1a90;push(),translate(this['x'],this['y']);let _0x26b7fb=0x0;switch(this['orientation']){case 0x2:_0x26b7fb=PI/0x2;break;case 0x3:_0x26b7fb=PI;break;case 0x4:_0x26b7fb=0x3*PI/0x2;break;default:_0x26b7fb=0x0;}rotate(_0x26b7fb);if(this[_0x565cac(0x1f7)]!==null){stroke(_0x565cac(0x224)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0xbd7a25=textWidth(this[_0x565cac(0x1f7)]);rectMode(CENTER);let _0x200322=-0xa*SCALE_FACTOR,_0x21a2b4=0x28*SCALE_FACTOR,_0x2b22e4=0x2*SCALE_FACTOR,_0x498828=0x2*SCALE_FACTOR;rect(_0x200322,_0x21a2b4,_0xbd7a25+_0x2b22e4*0x2,0x14*SCALE_FACTOR+_0x498828*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x565cac(0x1f7)],_0x200322,_0x21a2b4);}}[_0x7a1a90(0x1d6)](){rotate(0x0),pop();}[_0x7a1a90(0x1de)](){const _0x49e7ab=_0x7a1a90;this['connectors'][_0x49e7ab(0x1e0)](_0x13a26a=>{const _0x5421c0=_0x49e7ab;_0x13a26a['x']=this['x']+cos(this['rotationAngle']())*_0x13a26a[_0x5421c0(0x216)]-sin(this['rotationAngle']())*_0x13a26a['originalY'],_0x13a26a['y']=this['y']+sin(this[_0x5421c0(0x175)]())*_0x13a26a[_0x5421c0(0x216)]+cos(this[_0x5421c0(0x175)]())*_0x13a26a[_0x5421c0(0x160)];});}['rotationAngle'](){const _0x2c24d7=_0x7a1a90;switch(this[_0x2c24d7(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x242fd7,_0x5f1dbd,_0x2d46f8){const _0x42f86e=_0x7a1a90;super(_0x242fd7,_0x5f1dbd),this['r']=0x14*SCALE_FACTOR,this[_0x42f86e(0x221)]=_0x2d46f8,this[_0x42f86e(0x16e)]='12',this[_0x42f86e(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x42f86e(0x198)][_0x42f86e(0x1e0)](_0x1e93fc=>{const _0x229cfb=_0x42f86e;_0x1e93fc[_0x229cfb(0x216)]*=SCALE_FACTOR;}),this[_0x42f86e(0x1cd)]=![];}[_0x7a1a90(0x1f6)](_0x2141b5){const _0x55f676=_0x7a1a90;_0x2141b5['strokeWeight'](0x1*SCALE_FACTOR),_0x2141b5[_0x55f676(0x167)](0x0),_0x2141b5[_0x55f676(0x1c9)](0xff),_0x2141b5[_0x55f676(0x214)](0x0,0x0,this['r']*1.5),_0x2141b5['line'](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x2141b5[_0x55f676(0x206)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x2141b5[_0x55f676(0x206)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x2141b5[_0x55f676(0x220)](),_0x2141b5[_0x55f676(0x1c9)](0x0),_0x2141b5[_0x55f676(0x179)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x2141b5[_0x55f676(0x21b)](this[_0x55f676(0x221)],0x0,this['r']*1.3);}['display'](){const _0x13001c=_0x7a1a90;super['display']();let _0x13bf5f=0x1*SCALE_FACTOR,_0xa59ee9=0x2*_0x13bf5f;this[_0x13001c(0x1cd)]?(stroke(0x0,0xff,0x0),strokeWeight(_0xa59ee9),fill(0xff)):(stroke(0x0),strokeWeight(_0x13bf5f),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x13001c(0x1cd)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x13001c(0x221)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this[_0x13001c(0x16e)]+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x13001c(0x1d6)](),this[_0x13001c(0x1de)]();}['rotationAngle'](){const _0x4f26f3=_0x7a1a90;switch(this[_0x4f26f3(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x2a2b94,_0x4f2083,_0x25b3ca){const _0x329447=_0x7a1a90;super(_0x2a2b94,_0x4f2083),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x329447(0x221)]=_0x25b3ca,this[_0x329447(0x1a3)]=_0x329447(0x16a),this['voltageDrop']=0x0,this[_0x329447(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x329447(0x198)][_0x329447(0x1e0)](_0x5c3400=>{const _0x584c43=_0x329447;_0x5c3400[_0x584c43(0x216)]*=SCALE_FACTOR;});}[_0x7a1a90(0x1f6)](_0x5c996e){const _0x49589d=_0x7a1a90;_0x5c996e['strokeWeight'](0x1*SCALE_FACTOR),_0x5c996e['stroke'](0x0),_0x5c996e[_0x49589d(0x1c9)](0xc8,0x96,0x64),_0x5c996e[_0x49589d(0x1ac)](CENTER),_0x5c996e['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x5c996e['noStroke'](),_0x5c996e['fill'](0x0),_0x5c996e['textAlign'](CENTER,CENTER),_0x5c996e[_0x49589d(0x158)](0x8*SCALE_FACTOR),_0x5c996e[_0x49589d(0x21b)](this[_0x49589d(0x221)],0x0,0x0);}[_0x7a1a90(0x186)](){const _0x570246=_0x7a1a90;super[_0x570246(0x186)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x570246(0x221)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x570246(0x1a3)]+_0x570246(0x172),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super[_0x570246(0x1d6)](),this['updateConnectors']();}['updateConnectors'](){const _0x1231f8=_0x7a1a90;this[_0x1231f8(0x198)][_0x1231f8(0x1e0)](_0x27d91c=>{const _0x308d1e=_0x1231f8;_0x27d91c['x']=this['x']+cos(this['rotationAngle']())*_0x27d91c['originalX']-sin(this['rotationAngle']())*_0x27d91c['originalY'],_0x27d91c['y']=this['y']+sin(this[_0x308d1e(0x175)]())*_0x27d91c[_0x308d1e(0x216)]+cos(this[_0x308d1e(0x175)]())*_0x27d91c[_0x308d1e(0x160)];});}['rotationAngle'](){const _0x42d505=_0x7a1a90;switch(this[_0x42d505(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x20176d,_0x39b984,_0x42830d){const _0x23c06c=_0x7a1a90;super(_0x20176d,_0x39b984),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x23c06c(0x221)]=_0x42830d,this[_0x23c06c(0x188)]='10',this[_0x23c06c(0x18b)]=!![],this[_0x23c06c(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x23c06c(0x198)][_0x23c06c(0x1e0)](_0x98d1ef=>{const _0x239c97=_0x23c06c;_0x98d1ef[_0x239c97(0x216)]*=SCALE_FACTOR;});}['setVisibility'](_0x1424b0){const _0x53c7c5=_0x7a1a90;if(_0x1424b0===this[_0x53c7c5(0x18b)])return;this[_0x53c7c5(0x18b)]=_0x1424b0,redraw();}[_0x7a1a90(0x1f6)](_0x3614ac){const _0x462446=_0x7a1a90;_0x3614ac[_0x462446(0x1b8)](0x1*SCALE_FACTOR),_0x3614ac[_0x462446(0x167)](0x0),_0x3614ac[_0x462446(0x206)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x3614ac[_0x462446(0x206)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x3614ac['line'](this['w']/0x5,0x0,this['w'],0x0),_0x3614ac['line'](-this['w']/0x5,0x0,-this['w'],0x0),_0x3614ac['noStroke'](),_0x3614ac[_0x462446(0x1c9)](0x0),_0x3614ac[_0x462446(0x179)](CENTER,CENTER),_0x3614ac[_0x462446(0x158)](0x8*SCALE_FACTOR),_0x3614ac[_0x462446(0x21b)](this[_0x462446(0x221)],-this['w']/0x2,-this['h']*0.5);}[_0x7a1a90(0x186)](){const _0x4ffe02=_0x7a1a90;if(!this[_0x4ffe02(0x18b)])return;super[_0x4ffe02(0x186)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x4ffe02(0x221)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x4ffe02(0x188)]+_0x4ffe02(0x1a4),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x4ffe02(0x1d6)](),this[_0x4ffe02(0x1de)]();}[_0x7a1a90(0x1de)](){const _0x3fd44f=_0x7a1a90;this['connectors'][_0x3fd44f(0x1e0)](_0x3f93bf=>{const _0x2d648a=_0x3fd44f;_0x3f93bf['x']=this['x']+cos(this[_0x2d648a(0x175)]())*_0x3f93bf['originalX']-sin(this[_0x2d648a(0x175)]())*_0x3f93bf[_0x2d648a(0x160)],_0x3f93bf['y']=this['y']+sin(this[_0x2d648a(0x175)]())*_0x3f93bf[_0x2d648a(0x216)]+cos(this['rotationAngle']())*_0x3f93bf[_0x2d648a(0x160)];});}['rotationAngle'](){const _0x143463=_0x7a1a90;switch(this[_0x143463(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x439fde,_0x1d5044,_0x4f67d2){const _0x4a457c=_0x7a1a90;super(_0x439fde,_0x1d5044),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this['label']=_0x4f67d2,this[_0x4a457c(0x168)]='50',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x4a457c(0x198)][_0x4a457c(0x1e0)](_0x355458=>{const _0xff6689=_0x4a457c;_0x355458[_0xff6689(0x216)]*=SCALE_FACTOR;});}[_0x7a1a90(0x1f6)](_0x4d39c0){const _0x3a5b02=_0x7a1a90;_0x4d39c0[_0x3a5b02(0x1b8)](0x1*SCALE_FACTOR),_0x4d39c0[_0x3a5b02(0x167)](0x0),_0x4d39c0[_0x3a5b02(0x1c9)](0xdc),_0x4d39c0[_0x3a5b02(0x214)](0x0,0x0,this['r']*1.5),_0x4d39c0['noStroke'](),_0x4d39c0[_0x3a5b02(0x1c9)](0x0),_0x4d39c0['textAlign'](CENTER,CENTER),_0x4d39c0[_0x3a5b02(0x158)](0x8*SCALE_FACTOR),_0x4d39c0[_0x3a5b02(0x21b)](this[_0x3a5b02(0x221)],this['r']*0.6,this['r']*1.3);}[_0x7a1a90(0x186)](){const _0x58e810=_0x7a1a90;super[_0x58e810(0x186)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x58e810(0x221)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x58e810(0x168)]+_0x58e810(0x1a1),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x58e810(0x1d6)](),this[_0x58e810(0x1de)]();}['updateConnectors'](){const _0x49b857=_0x7a1a90;this[_0x49b857(0x198)][_0x49b857(0x1e0)](_0x3d9261=>{const _0x4550b8=_0x49b857;_0x3d9261['x']=this['x']+cos(this[_0x4550b8(0x175)]())*_0x3d9261['originalX']-sin(this[_0x4550b8(0x175)]())*_0x3d9261[_0x4550b8(0x160)],_0x3d9261['y']=this['y']+sin(this[_0x4550b8(0x175)]())*_0x3d9261[_0x4550b8(0x216)]+cos(this[_0x4550b8(0x175)]())*_0x3d9261[_0x4550b8(0x160)];});}['rotationAngle'](){const _0x13230d=_0x7a1a90;switch(this[_0x13230d(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x219a7d,_0x2aa180,_0x259ebb){const _0x24d924=_0x7a1a90;super(_0x219a7d,_0x2aa180),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x24d924(0x1dc)](this['w'],this['h'])/0x2,this[_0x24d924(0x221)]=_0x259ebb,this['induction']=_0x24d924(0x200),this['voltageDrop']=0x0,this[_0x24d924(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors']['forEach'](_0x5d42cd=>{const _0x2284c2=_0x24d924;_0x5d42cd[_0x2284c2(0x216)]*=SCALE_FACTOR;});}['displayPalette'](_0x51a8e3){const _0xb6a31a=_0x7a1a90;_0x51a8e3[_0xb6a31a(0x1b8)](0x1*SCALE_FACTOR),_0x51a8e3[_0xb6a31a(0x167)](0x0);let _0x21ba50=this['h']*0.25,_0x51ffa3=this['w']*0.6,_0x10bff0=-_0x51ffa3/0x2,_0x230dc0=0x0,_0x9aba1c=_0x51ffa3/0x3;_0x51a8e3['noFill']();const _0x47b5fb=0x3;for(let _0x3b40fa=0x0;_0x3b40fa<_0x47b5fb;_0x3b40fa++){let _0x2c0afc=_0x10bff0+_0x3b40fa*_0x9aba1c;_0x51a8e3[_0xb6a31a(0x1f8)](_0x2c0afc+_0x9aba1c/0x2,_0x230dc0,_0x9aba1c,_0x21ba50,PI,0x0);}_0x51a8e3[_0xb6a31a(0x206)](_0x10bff0,0x0,_0x10bff0-0xa,0x0),_0x51a8e3[_0xb6a31a(0x206)](_0x51ffa3/0x2,0x0,_0x51ffa3/0x2+0xa,0x0),_0x51a8e3[_0xb6a31a(0x220)](),_0x51a8e3[_0xb6a31a(0x1c9)](0x0),_0x51a8e3[_0xb6a31a(0x179)](CENTER,CENTER),_0x51a8e3['textSize'](0x8*SCALE_FACTOR),_0x51a8e3[_0xb6a31a(0x21b)](this[_0xb6a31a(0x221)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x7a1a90(0x186)](){const _0x42d5be=_0x7a1a90;super[_0x42d5be(0x186)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x361751=this['h']*0.25,_0x3218c6=this['w']*0.6,_0x170330=-_0x3218c6/0x2,_0x53706d=0x0,_0x395e8a=_0x3218c6/0x3;noFill();const _0x2b4b8b=0x3;for(let _0x53e1f1=0x0;_0x53e1f1<_0x2b4b8b;_0x53e1f1++){let _0x11d31d=_0x170330+_0x53e1f1*_0x395e8a;arc(_0x11d31d+_0x395e8a/0x2,_0x53706d,_0x395e8a,_0x361751,PI,0x0);}line(_0x170330,0x0,_0x170330-_0x3218c6/0x3,0x0),line(_0x3218c6/0x2,0x0,_0x3218c6*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x42d5be(0x1d1)]+_0x42d5be(0x19f),0x0,this['h']/0xa)),super[_0x42d5be(0x1d6)](),this[_0x42d5be(0x1de)]();}[_0x7a1a90(0x1de)](){const _0x4c1180=_0x7a1a90;this[_0x4c1180(0x198)][_0x4c1180(0x1e0)](_0x11eba7=>{const _0x4825a4=_0x4c1180;_0x11eba7['x']=this['x']+cos(this[_0x4825a4(0x175)]())*_0x11eba7[_0x4825a4(0x216)]-sin(this[_0x4825a4(0x175)]())*_0x11eba7[_0x4825a4(0x160)],_0x11eba7['y']=this['y']+sin(this[_0x4825a4(0x175)]())*_0x11eba7[_0x4825a4(0x216)]+cos(this[_0x4825a4(0x175)]())*_0x11eba7[_0x4825a4(0x160)];});}['rotationAngle'](){const _0x36839f=_0x7a1a90;switch(this[_0x36839f(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}function _0x14ee(){const _0x34d9c2=['circle','toFixed','originalX','SA1','Повернути\x20\x0a\x20навантаження','sin','powerPerLamp','text','find','CustomAmmeter','length','Initial\x20visibility\x20set:\x20C1=','noStroke','label','targetX','Uab\x20=\x20---\x20V','lightgray','userAgent','Л\x20А\x20Т\x20Р','Напруга','elementType','orange','In\x20=\x20---\x20A','Переключити\x20на\x20\x0a\x20конденсатор','green','setLineDash','updateWaveform','\x20Вт','angleMode','lightyellow','addEventListener','Switch','round','currentTarget','textSize','PA2','triangle','\x20px','appendChild','isDragging','cos','SwitchSPDT','originalY','9ChNTKU','state','error','ang','SA4','Відстань\x20до\x20точки:\x20','stroke','frequency','13746120rdKGvy','100','getClickedLampIndex','getElementById','offsetY','voltage','Введіть\x20індуктивність\x20для\x20','toggleState','total_power','\x20Ом','undefined','div','rotationAngle','240','boolean','Ubc\x20=','textAlign',',\x20HLG1=','lampSpacing','type','angle','update','show','rect','numLamps','SA21','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','updateConnectorPositions','SA31','display','copy','capacity','Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!','Введіть\x20опір\x20для\x20','isVisible','Uc\x20=','drawingContext','Ic\x20=\x20---\x20A','push','tapPosition','elementLabel','_previousLampStates','In\x20=\x20','Ia\x20=\x20---\x20A','Uab\x20=','random','Uca\x20=','connectors','SA2','Frequency','phaseAngleDeg','Введіть\x20частоту\x20для\x20','Введіть\x20напругу\x20для\x20','Ubc\x20=\x20','\x20\x20мГн','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','\x20Гц','log','resistance','\x20мкФ','SA12','Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.','Потрібно\x20поставити\x20елементів:\x20','HLG2','setVisibility','536312kcjgEg','phase','rectMode','Ua\x20=\x20','3069HifYTO','palette-element','Введіть\x20ємність\x20для\x20','power','HLG1','Ubc\x20=\x20---\x20V','Ub\x20=','remove','#4CAF50','test','strokeWeight','isOpen','frequencyHz','targetY','Resistor','Ia\x20=\x20','7305464zPXSUD','P:\x20','canvas','top','mag','sqrt','height','Uc\x20=\x20','Uab\x20=\x20','calculateTotalPower','orientation','fill','voltageAmplitude','currentAmplitude','Induction','isActive','lightcyan','innerHTML','elementOrientation','induction','PA3','placedElementData','noFill','dataset','postDisplay','waveformColorCurrent','waveformColorVoltage','width','Uca\x20=\x20---\x20V','9896894PqVvDB','max','startsWith','updateConnectors','Ib\x20=\x20','forEach','GroupLamp','1346GQrPWd','setText','PA4','Uc\x20=\x20---\x20V','isEnabled','lightgreen','SA3','Ub\x20=\x20','add','palette','HLG3','Ua\x20=','isC1CurrentlyVisible\x20is\x20now:','classList','drawWaveforms','bottom','current','6fKvmro','Correctly\x20placed!','placed','displayPalette','calculationDisplayValue','arc','paletteIndex','Switch\x20','Capacity','pop','SA11','Set\x20C1\x20visible:\x20','createElement','440','3221452ppDynr','function','contains','setEnabled','textContent','line','PA1','lampRadius','lamps','click','abs','isFixed','4751755MsMjDp','Phasemeter','AutotransformerLaboratory','Ub\x20=\x20---\x20V','innerWidth','Ua\x20=\x20---\x20V','offsetX'];_0x14ee=function(){return _0x34d9c2;};return _0x14ee();}class CustomAmmeter extends CircuitElement{constructor(_0x1257d0,_0x1af7c5,_0x3a3627){const _0x5a9abc=_0x7a1a90;super(_0x1257d0,_0x1af7c5),this['r']=0x11*SCALE_FACTOR,this[_0x5a9abc(0x221)]=_0x3a3627,this[_0x5a9abc(0x1f2)]=0x0,this[_0x5a9abc(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x5a9abc(0x198)]['forEach'](_0x208537=>{const _0x149f72=_0x5a9abc;_0x208537[_0x149f72(0x216)]*=SCALE_FACTOR;});}[_0x7a1a90(0x1f6)](_0x3061f9){const _0x3a5f42=_0x7a1a90;_0x3061f9['strokeWeight'](0x1*SCALE_FACTOR),_0x3061f9[_0x3a5f42(0x167)](0x0),_0x3061f9[_0x3a5f42(0x1c9)](0xdc),_0x3061f9[_0x3a5f42(0x214)](0x0,0x0,this['r']*1.5),_0x3061f9[_0x3a5f42(0x220)](),_0x3061f9[_0x3a5f42(0x1c9)](0x0),_0x3061f9[_0x3a5f42(0x179)](CENTER,CENTER),_0x3061f9[_0x3a5f42(0x158)](0x8*SCALE_FACTOR),_0x3061f9[_0x3a5f42(0x21b)](this[_0x3a5f42(0x221)],this['r']*0.6,this['r']*1.3);}[_0x7a1a90(0x186)](){const _0x443930=_0x7a1a90;super[_0x443930(0x186)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),super[_0x443930(0x1d6)](),this[_0x443930(0x1de)]();}[_0x7a1a90(0x1de)](){const _0x3fcef2=_0x7a1a90;this['connectors'][_0x3fcef2(0x1e0)](_0x20aea0=>{const _0x2f644c=_0x3fcef2;_0x20aea0['x']=this['x']+cos(this[_0x2f644c(0x175)]())*_0x20aea0[_0x2f644c(0x216)]-sin(this[_0x2f644c(0x175)]())*_0x20aea0[_0x2f644c(0x160)],_0x20aea0['y']=this['y']+sin(this[_0x2f644c(0x175)]())*_0x20aea0[_0x2f644c(0x216)]+cos(this[_0x2f644c(0x175)]())*_0x20aea0[_0x2f644c(0x160)];});}['rotationAngle'](){const _0x48972c=_0x7a1a90;switch(this[_0x48972c(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0xdfb5ae,_0x4384e6,_0x30eed4){const _0x4be19d=_0x7a1a90;super(_0xdfb5ae,_0x4384e6),this['r']=0x11*SCALE_FACTOR,this[_0x4be19d(0x221)]=_0x30eed4,this[_0x4be19d(0x1ab)]=0x0,this[_0x4be19d(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x4be19d(0x1e0)](_0x2a6c93=>{const _0x4690c3=_0x4be19d;_0x2a6c93[_0x4690c3(0x216)]*=SCALE_FACTOR;});}['displayPalette'](_0x12547e){const _0x5c2ca4=_0x7a1a90;_0x12547e[_0x5c2ca4(0x1b8)](0x1*SCALE_FACTOR),_0x12547e['stroke'](0x0),_0x12547e['fill'](0xdc),_0x12547e[_0x5c2ca4(0x214)](0x0,0x0,this['r']*0x1);const _0x544f24=0.8;_0x12547e['line'](-this['r']*_0x544f24,0x0,this['r']*_0x544f24,0x0),_0x12547e[_0x5c2ca4(0x206)](0x0,-this['r']*_0x544f24,0x0,this['r']*_0x544f24),_0x12547e[_0x5c2ca4(0x206)](0x0,-this['r']*_0x544f24,-this['r']*_0x544f24,-this['r']*_0x544f24),_0x12547e[_0x5c2ca4(0x206)](-this['r']*_0x544f24,-this['r']*_0x544f24,-this['r']*_0x544f24,0x0),_0x12547e[_0x5c2ca4(0x1c9)](0x0),_0x12547e[_0x5c2ca4(0x214)](0x0,this['r']*_0x544f24,this['r']*0.2),_0x12547e[_0x5c2ca4(0x214)](-this['r']*_0x544f24,0x0,this['r']*0.2),_0x12547e['circle'](0x0,-this['r']*_0x544f24,this['r']*0.2),_0x12547e['noStroke'](),_0x12547e[_0x5c2ca4(0x1c9)](0x0),_0x12547e[_0x5c2ca4(0x179)](CENTER,CENTER),_0x12547e[_0x5c2ca4(0x158)](0xa*SCALE_FACTOR),_0x12547e[_0x5c2ca4(0x21b)](this[_0x5c2ca4(0x221)],this['r']*_0x544f24,-this['r']*_0x544f24);}[_0x7a1a90(0x186)](){const _0x4e015d=_0x7a1a90;super[_0x4e015d(0x186)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this['label'],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x4e015d(0x1d6)](),this[_0x4e015d(0x1de)]();}['updateConnectors'](){const _0x12d4ae=_0x7a1a90;this[_0x12d4ae(0x198)][_0x12d4ae(0x1e0)](_0x4fcec6=>{const _0x16c28a=_0x12d4ae;_0x4fcec6['x']=this['x']+cos(this[_0x16c28a(0x175)]())*_0x4fcec6['originalX']-sin(this['rotationAngle']())*_0x4fcec6[_0x16c28a(0x160)],_0x4fcec6['y']=this['y']+sin(this[_0x16c28a(0x175)]())*_0x4fcec6[_0x16c28a(0x216)]+cos(this[_0x16c28a(0x175)]())*_0x4fcec6[_0x16c28a(0x160)];});}[_0x7a1a90(0x175)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x36c2b4,_0x28efcf,_0x343701=''){const _0x1b07ee=_0x7a1a90;super(_0x36c2b4,_0x28efcf),this['r']=0x14*SCALE_FACTOR,this[_0x1b07ee(0x221)]=_0x343701,this[_0x1b07ee(0x152)]=0x3,this[_0x1b07ee(0x198)]=this[_0x1b07ee(0x184)]();}[_0x7a1a90(0x184)](){const _0x3ce384=_0x7a1a90;let _0x2d0311=[];switch(this[_0x3ce384(0x152)]){case 0x1:_0x2d0311=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x2d0311=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x2d0311=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x2d0311=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x2d0311=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x2d0311[_0x3ce384(0x1e0)](_0x1f690c=>{const _0x47a120=_0x3ce384;_0x1f690c[_0x47a120(0x216)]*=SCALE_FACTOR,_0x1f690c[_0x47a120(0x160)]*=SCALE_FACTOR;}),_0x2d0311;}[_0x7a1a90(0x1f6)](_0xf65654){const _0x51cae8=_0x7a1a90;_0xf65654[_0x51cae8(0x1b8)](1.5*SCALE_FACTOR),_0xf65654[_0x51cae8(0x167)](0x0);let _0x14ce1c=this['r']*0.75;_0xf65654[_0x51cae8(0x206)](0x0,-_0x14ce1c,0x0,_0x14ce1c),_0xf65654[_0x51cae8(0x206)](-_0x14ce1c,0x0,_0x14ce1c,0x0);}[_0x7a1a90(0x186)](){const _0x1c1ef0=_0x7a1a90;super[_0x1c1ef0(0x186)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x37be81=this['r']*1.5;switch(this[_0x1c1ef0(0x152)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x37be81,0x0,0x0),line(-_0x37be81,0x0,_0x37be81,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,_0x37be81+0x5*SCALE_FACTOR),super[_0x1c1ef0(0x1d6)](),this[_0x1c1ef0(0x1de)]();}[_0x7a1a90(0x17e)](){const _0x13e8a3=_0x7a1a90;this[_0x13e8a3(0x152)]=Math[_0x13e8a3(0x156)](this[_0x13e8a3(0x17d)]),this[_0x13e8a3(0x198)]=this['updateConnectorPositions']();}[_0x7a1a90(0x1de)](){const _0x326f24=_0x7a1a90;this[_0x326f24(0x198)][_0x326f24(0x1e0)](_0x333177=>{const _0x5a3c6f=_0x326f24;_0x333177['x']=this['x']+cos(this[_0x5a3c6f(0x175)]())*_0x333177[_0x5a3c6f(0x216)]-sin(this['rotationAngle']())*_0x333177[_0x5a3c6f(0x160)],_0x333177['y']=this['y']+sin(this[_0x5a3c6f(0x175)]())*_0x333177[_0x5a3c6f(0x216)]+cos(this[_0x5a3c6f(0x175)]())*_0x333177[_0x5a3c6f(0x160)];});}[_0x7a1a90(0x175)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x9c0dcb,_0x499a34,_0x286540){const _0x4320cc=_0x7a1a90;super(_0x9c0dcb,_0x499a34),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x4320cc(0x221)]=_0x286540,this[_0x4320cc(0x162)]=0x2,this[_0x4320cc(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x4320cc(0x198)][_0x4320cc(0x1e0)](_0x415b4d=>{const _0x50c1d7=_0x4320cc;_0x415b4d['originalX']*=SCALE_FACTOR,_0x415b4d[_0x50c1d7(0x160)]*=SCALE_FACTOR;});}['displayPalette'](_0x7d3c15){const _0xfc6586=_0x7a1a90;_0x7d3c15[_0xfc6586(0x1b8)](1.5*SCALE_FACTOR),_0x7d3c15[_0xfc6586(0x167)](0x0),_0x7d3c15[_0xfc6586(0x1d4)](),_0x7d3c15['rectMode'](CENTER),_0x7d3c15['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x7d3c15['line'](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x7d3c15['line'](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x7d3c15['line'](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x7d3c15[_0xfc6586(0x206)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x7d3c15['noStroke'](),_0x7d3c15[_0xfc6586(0x1c9)](0x0),_0x7d3c15['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x7d3c15[_0xfc6586(0x21b)](this[_0xfc6586(0x221)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x59f368=_0x7a1a90;super['display'](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this['state']===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this[_0x59f368(0x162)]===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this['state']===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x59f368(0x221)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x59f368(0x1d6)](),this[_0x59f368(0x1de)]();}[_0x7a1a90(0x170)](){const _0x3df48e=_0x7a1a90;this[_0x3df48e(0x162)]=this['state']===0x1?0x2:0x1;if(this[_0x3df48e(0x221)]==='SA1'){let _0x38209a=findElementByLabel('E1');_0x38209a&&(_0x38209a[_0x3df48e(0x1cd)]=this[_0x3df48e(0x162)]===0x2);}else{if(this[_0x3df48e(0x221)]===_0x3df48e(0x199)){let _0x1e4bcd=findElementByLabel('E2');_0x1e4bcd&&(_0x1e4bcd[_0x3df48e(0x1cd)]=this['state']===0x1);}}redraw(),calculateCircuit();}['updateConnectors'](){const _0x29146f=_0x7a1a90;this[_0x29146f(0x198)][_0x29146f(0x1e0)](_0x58e331=>{const _0x47ea68=_0x29146f;_0x58e331['x']=this['x']+cos(this[_0x47ea68(0x175)]())*_0x58e331['originalX']-sin(this['rotationAngle']())*_0x58e331['originalY'],_0x58e331['y']=this['y']+sin(this[_0x47ea68(0x175)]())*_0x58e331[_0x47ea68(0x216)]+cos(this[_0x47ea68(0x175)]())*_0x58e331[_0x47ea68(0x160)];});}[_0x7a1a90(0x175)](){const _0x41d6e6=_0x7a1a90;switch(this[_0x41d6e6(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x5f1c75,_0x24fa7e,_0x68c614){const _0x3d9f15=_0x7a1a90;super(_0x5f1c75,_0x24fa7e),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this['label']=_0x68c614,this['isOpen']=!![],this[_0x3d9f15(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x3d9f15(0x198)][_0x3d9f15(0x1e0)](_0x23981d=>{const _0x48a9da=_0x3d9f15;_0x23981d[_0x48a9da(0x216)]*=SCALE_FACTOR;});}['displayPalette'](_0x5f27af){const _0x544109=_0x7a1a90;_0x5f27af[_0x544109(0x1b8)](1.5*SCALE_FACTOR),_0x5f27af[_0x544109(0x167)](0x0),_0x5f27af[_0x544109(0x206)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x5f27af[_0x544109(0x206)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x5f27af[_0x544109(0x206)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x5f27af[_0x544109(0x1d4)](),_0x5f27af[_0x544109(0x1ac)](CENTER),_0x5f27af[_0x544109(0x180)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x5f27af['noStroke'](),_0x5f27af[_0x544109(0x1c9)](0x0),_0x5f27af[_0x544109(0x179)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x5f27af[_0x544109(0x21b)](this[_0x544109(0x221)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x7a1a90(0x186)](){const _0xe8df8f=_0x7a1a90;super[_0xe8df8f(0x186)](),strokeWeight(1.5*SCALE_FACTOR),this[_0xe8df8f(0x1b9)]?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this['isOpen']?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0xe8df8f(0x221)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0xe8df8f(0x1d6)](),this[_0xe8df8f(0x1de)]();}['toggleState'](){const _0x973fad=_0x7a1a90;this[_0x973fad(0x1b9)]=!this[_0x973fad(0x1b9)],console[_0x973fad(0x1a2)](_0x973fad(0x1fa)+this[_0x973fad(0x221)]+'\x20toggled.\x20Now\x20isOpen:\x20'+this[_0x973fad(0x1b9)]),updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0x7a1a90(0x1de)](){const _0x3f1869=_0x7a1a90;this[_0x3f1869(0x198)]['forEach'](_0xd837d7=>{const _0x584540=_0x3f1869;_0xd837d7['x']=this['x']+cos(this[_0x584540(0x175)]())*_0xd837d7['originalX']-sin(this[_0x584540(0x175)]())*_0xd837d7[_0x584540(0x160)],_0xd837d7['y']=this['y']+sin(this[_0x584540(0x175)]())*_0xd837d7['originalX']+cos(this['rotationAngle']())*_0xd837d7[_0x584540(0x160)];});}['rotationAngle'](){const _0x5c549a=_0x7a1a90;switch(this[_0x5c549a(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x2fcf4b,_0x4686a9,_0x3de911){const _0x390e1e=_0x7a1a90;this['x']=_0x2fcf4b,this['y']=_0x4686a9,this[_0x390e1e(0x21b)]=_0x3de911;}['setText'](_0x30b99c){this['text']=_0x30b99c;}['display'](){const _0x52563b=_0x7a1a90;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke('lightgray'),fill(_0x52563b(0x176)),textSize(0xf*SCALE_FACTOR);let _0x15e558=textWidth(this[_0x52563b(0x21b)]);rectMode(CENTER);let _0x3dc327=0x0,_0x58567f=0x0,_0x306ced=0x2*SCALE_FACTOR,_0x53e99b=0x2*SCALE_FACTOR;this[_0x52563b(0x21b)]&&rect(_0x3dc327,_0x58567f,_0x15e558+_0x306ced*0x2,0x14*SCALE_FACTOR+_0x53e99b*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x52563b(0x21b)],_0x3dc327,_0x58567f),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x2f394c,_0x371f42,_0x20578d){const _0x6c6ef1=_0x7a1a90;super(_0x2f394c,_0x371f42),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x6c6ef1(0x221)]=_0x20578d,this[_0x6c6ef1(0x190)]=0.5,this['voltage']='50',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}[_0x7a1a90(0x186)](){const _0x41b2bf=_0x7a1a90;super['display'](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x259ef2=this['h'],_0x4b663e=this['w'];let _0x5b67c7=_0x259ef2*1.2,_0x172563=_0x4b663e*0.35,_0x5bfbc5=-_0x5b67c7/0x2,_0x38a611=_0x5b67c7/0x2,_0x1ae3a5=-_0x4b663e*0.1;drawingContext[_0x41b2bf(0x14f)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x1ae3a5-_0x172563,-_0x259ef2*1.4,_0x172563*0x2,2.8*_0x259ef2),drawingContext[_0x41b2bf(0x14f)]([]),noFill();const _0x1eb903=0x3,_0x4e54b4=_0x5b67c7/_0x1eb903;for(let _0x1d9754=0x0;_0x1d9754<_0x1eb903;_0x1d9754++){let _0x5a92ec=_0x5bfbc5+_0x1d9754*_0x4e54b4;arc(_0x1ae3a5-_0x259ef2/0xa*2.2,_0x5a92ec+_0x4e54b4/0x2,_0x172563,_0x4e54b4,-PI/0x2,PI/0x2);}line(_0x1ae3a5-_0x172563/0x2-0x3,_0x5bfbc5-_0x259ef2/0xa,_0x1ae3a5-_0x172563/0x2-0x3,_0x5bfbc5),line(_0x1ae3a5-_0x172563/0x2-0x3,_0x5bfbc5-_0x259ef2/0xa,_0x1ae3a5-_0x172563*1.5,_0x5bfbc5-_0x259ef2/0xa),line(_0x1ae3a5-_0x172563/0x2-0x3,_0x38a611,_0x1ae3a5-_0x172563/0x2-0x3,_0x38a611+_0x259ef2*0.4),line(_0x1ae3a5-_0x172563*1.5,_0x38a611+_0x259ef2*0.4,_0x1ae3a5-_0x172563/0x2-0x3,_0x38a611+_0x259ef2*0.4);let _0x467406=lerp(_0x5bfbc5,_0x38a611,this[_0x41b2bf(0x190)]);line(_0x1ae3a5+_0x172563/0x3,_0x467406,_0x1ae3a5+_0x172563/0x4+0x19*SCALE_FACTOR,_0x467406),fill(0x0),triangle(_0x259ef2/0x14,-_0x259ef2/0x14,-_0x259ef2/0xa,0x0,_0x259ef2/0x14,_0x259ef2/0x14),circle(_0x1ae3a5-_0x172563/0x2-0x3,_0x38a611+_0x259ef2*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x41b2bf(0x226),-_0x4b663e/0xa,-_0x259ef2*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x41b2bf(0x16e)]+'\x20В',-_0x4b663e/0xa,_0x259ef2*1.6),super['postDisplay']();}[_0x7a1a90(0x1f6)](_0x5445a7){const _0x2fad36=_0x7a1a90;_0x5445a7[_0x2fad36(0x1b8)](0x1*SCALE_FACTOR),_0x5445a7[_0x2fad36(0x167)](0x0);let _0x14efa0=this['h']*0.6,_0x476346=this['w']*0.25,_0x45ff86=-_0x14efa0/0x2,_0x1c13cb=_0x14efa0/0x2,_0x34c44a=-this['w']*0.1;_0x5445a7['drawingContext'][_0x2fad36(0x14f)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x5445a7['rect'](_0x34c44a-_0x476346,_0x45ff86-_0x14efa0/0x2,_0x476346+0xf,_0x14efa0*0x2),_0x5445a7[_0x2fad36(0x18d)][_0x2fad36(0x14f)]([]),_0x5445a7['noFill']();const _0x5633d5=0x3,_0x3fe917=_0x14efa0/_0x5633d5;for(let _0x2fd644=0x0;_0x2fd644<_0x5633d5;_0x2fd644++){let _0x23f93b=_0x45ff86+_0x2fd644*_0x3fe917;_0x5445a7['arc'](_0x34c44a-0xf,_0x23f93b+_0x3fe917/0x2,_0x476346,_0x3fe917,-PI/0x2,PI/0x2);}_0x5445a7[_0x2fad36(0x206)](_0x34c44a-_0x476346/0x2-0x3,_0x45ff86-0xa,_0x34c44a-_0x476346/0x2-0x3,_0x45ff86),_0x5445a7[_0x2fad36(0x206)](_0x34c44a-_0x476346/0x2-0x3,_0x45ff86-0xa,_0x34c44a-_0x476346*1.5,_0x45ff86-0xa),_0x5445a7[_0x2fad36(0x206)](_0x34c44a-_0x476346/0x2-0x3,_0x1c13cb,_0x34c44a-_0x476346/0x2-0x3,_0x1c13cb+0xa),_0x5445a7[_0x2fad36(0x206)](_0x34c44a-_0x476346*1.5,_0x1c13cb+0xa,_0x34c44a-_0x476346/0x2-0x3,_0x1c13cb+0xa);let _0xe5dc94=lerp(_0x45ff86,_0x1c13cb,this[_0x2fad36(0x190)]);_0x5445a7[_0x2fad36(0x206)](_0x34c44a+_0x476346/0x4,_0xe5dc94,_0x34c44a+_0x476346/0x4+0xc*SCALE_FACTOR,_0xe5dc94),_0x5445a7['fill'](0x0),_0x5445a7[_0x2fad36(0x15a)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x5445a7['fill'](0x0),_0x5445a7[_0x2fad36(0x220)](),_0x5445a7[_0x2fad36(0x158)](0xa*SCALE_FACTOR),_0x5445a7[_0x2fad36(0x179)](CENTER,BOTTOM),_0x5445a7[_0x2fad36(0x21b)](_0x2fad36(0x226),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x5788e7,_0x4ac34a,_0x218395,_0x561065){const _0x1f3516=_0x7a1a90;super(_0x5788e7,_0x4ac34a),this['width']=_0x218395,this[_0x1f3516(0x1c4)]=_0x561065,this['waveformColorCurrent']=color(0x0,0xff,0x0),this[_0x1f3516(0x1d8)]=color(0x0,0x94,0xff),this[_0x1f3516(0x1cb)]=0x0,this[_0x1f3516(0x1ca)]=0x0,this['frequencyHz']=0x32,this[_0x1f3516(0x19b)]=0x0;}[_0x7a1a90(0x150)](_0x803185,_0x599245,_0x144409,_0x1b111b){const _0x45a510=_0x7a1a90;this[_0x45a510(0x1cb)]=_0x803185,this['voltageAmplitude']=_0x599245,this[_0x45a510(0x1ba)]=_0x144409,this[_0x45a510(0x19b)]=_0x1b111b;}[_0x7a1a90(0x186)](){const _0x90d308=_0x7a1a90;push(),translate(this['x'],this['y']),stroke(_0x90d308(0x224)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this['width'],this['height']),drawingContext['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this[_0x90d308(0x1c4)]/0x2,this[_0x90d308(0x1d9)],this[_0x90d308(0x1c4)]/0x2),line(this[_0x90d308(0x1d9)]/0x2,0x0,this['width']/0x2,this['height']),drawingContext[_0x90d308(0x14f)]([]),stroke(this[_0x90d308(0x1d8)]),fill(this['waveformColorVoltage']),rect(0x0,this['height']*0.7,this[_0x90d308(0x1d9)]/0x3,this[_0x90d308(0x1c4)]/0x8),stroke(this[_0x90d308(0x1d7)]),fill(this[_0x90d308(0x1d7)]),rect(0x0,this[_0x90d308(0x1c4)]*0.85,this['width']/0x3,this['height']/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x90d308(0x149),this[_0x90d308(0x1d9)]/0x6,this[_0x90d308(0x1c4)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Струм',this[_0x90d308(0x1d9)]/0x6,this[_0x90d308(0x1c4)]*0.97),(this[_0x90d308(0x1cb)]>0x0||this[_0x90d308(0x1ca)]>0x0)&&this[_0x90d308(0x1f0)](),pop();}[_0x7a1a90(0x1f0)](){const _0x4984fc=_0x7a1a90;push(),translate(0x14*SCALE_FACTOR,this['height']/0x2);const _0x19b7a8=0x96,_0x55c038=0x3*PI/_0x19b7a8,_0x39f493=this[_0x4984fc(0x1c4)]/0x4;stroke(this['waveformColorCurrent']),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x292fbc=this[_0x4984fc(0x19b)]*PI/0xb4;for(let _0xa765e0=0x0;_0xa765e0<=_0x19b7a8;_0xa765e0++){const _0x3e7775=_0xa765e0*_0x55c038,_0x72fe2d=sin(_0x3e7775-_0x292fbc)*this['height']*0.25;vertex(_0xa765e0*this['width']/_0x19b7a8-0x14*SCALE_FACTOR,-_0x72fe2d);}endShape(),stroke(this[_0x4984fc(0x1d8)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x3491d1=0x0;_0x3491d1<=_0x19b7a8;_0x3491d1++){const _0x5ccd2d=_0x3491d1*_0x55c038,_0xd97dc9=sin(_0x5ccd2d)*this['height']*0.45;vertex(_0x3491d1*this[_0x4984fc(0x1d9)]/_0x19b7a8-0x14*SCALE_FACTOR,-_0xd97dc9);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x1e8db1,_0x131393,_0x5c2138){const _0x5796ca=_0x7a1a90;super(_0x1e8db1,_0x131393),this['r']=0xf*SCALE_FACTOR,this[_0x5796ca(0x221)]=_0x5c2138,this['power']='30',this[_0x5796ca(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x5796ca(0x198)]['forEach'](_0x4f81aa=>{_0x4f81aa['originalX']*=SCALE_FACTOR;}),this[_0x5796ca(0x1cd)]=![];}[_0x7a1a90(0x1f6)](_0x67a05e){const _0x4cf33a=_0x7a1a90;_0x67a05e[_0x4cf33a(0x1b8)](0x1*SCALE_FACTOR),_0x67a05e[_0x4cf33a(0x167)](0x0),_0x67a05e[_0x4cf33a(0x1c9)](0xff),_0x67a05e[_0x4cf33a(0x214)](0x0,0x0,this['r']*1.5);const _0x1d9d98=this['r']*0.707106781*0.75;_0x67a05e[_0x4cf33a(0x206)](-_0x1d9d98,_0x1d9d98,_0x1d9d98,-_0x1d9d98),_0x67a05e[_0x4cf33a(0x206)](-_0x1d9d98,-_0x1d9d98,_0x1d9d98,_0x1d9d98),_0x67a05e['noStroke'](),_0x67a05e[_0x4cf33a(0x1c9)](0x0),_0x67a05e[_0x4cf33a(0x179)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x67a05e[_0x4cf33a(0x21b)](this[_0x4cf33a(0x221)],0x0,this['r']*1.3);}[_0x7a1a90(0x186)](){const _0x2a5a73=_0x7a1a90;super[_0x2a5a73(0x186)]();let _0x41c025=0x1*SCALE_FACTOR,_0x564742=0x2*_0x41c025;this[_0x2a5a73(0x1cd)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0x564742),fill(0xff)):(stroke(0x0),strokeWeight(_0x41c025),fill(0xff));const _0x1807f4=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x1807f4,_0x1807f4,_0x1807f4,-_0x1807f4),line(-_0x1807f4,-_0x1807f4,_0x1807f4,_0x1807f4);if(this[_0x2a5a73(0x1cd)])for(let _0x497d6a=0x0;_0x497d6a<0x168;_0x497d6a+=0x1e){const _0x250047=_0x497d6a*(Math['PI']/0xb4),_0x892273=1.15*this['r'],_0x37e28c=1.4*this['r'],_0x11eb8b=_0x37e28c*Math[_0x2a5a73(0x15e)](_0x250047),_0x16a251=_0x37e28c*Math[_0x2a5a73(0x219)](_0x250047),_0x1609db=_0x892273*Math['cos'](_0x250047),_0xc6fa6e=_0x892273*Math[_0x2a5a73(0x219)](_0x250047);line(_0x1609db,_0xc6fa6e,_0x11eb8b,_0x16a251);}rotate(0x0),this[_0x2a5a73(0x1cd)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x2a5a73(0x221)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this[_0x2a5a73(0x1b1)]+'\x20Вт',0x0,this['r']*1.2),super[_0x2a5a73(0x1d6)](),this['updateConnectors']();}[_0x7a1a90(0x170)](){const _0x4761c4=_0x7a1a90;this['isActive']?this[_0x4761c4(0x1cd)]=![]:this[_0x4761c4(0x1cd)]=!![];}[_0x7a1a90(0x175)](){const _0x285321=_0x7a1a90;switch(this[_0x285321(0x1c8)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x14a3b4,_0xdcc242,_0x4e80e8,_0x507f5b=0x1e){const _0x4be420=_0x7a1a90;super(_0x14a3b4,_0xdcc242),this['numLamps']=0x5,this[_0x4be420(0x208)]=0xf*SCALE_FACTOR,this[_0x4be420(0x17b)]=this[_0x4be420(0x208)]*0x2+0xa*SCALE_FACTOR,this['label']=_0x4e80e8,this[_0x4be420(0x21a)]=parseFloat(_0x507f5b)||0x1e,this[_0x4be420(0x171)]=0x0,this[_0x4be420(0x18b)]=!![],this[_0x4be420(0x1e6)]=!![],this[_0x4be420(0x192)]=[],this['w']=this['numLamps']*this['lampRadius']*0x2+(this['numLamps']-0x1)*(this[_0x4be420(0x17b)]-this[_0x4be420(0x208)]*0x2),this['h']=this['lampRadius']*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x4be420(0x209)]=[];const _0x260492=-(this['w']/0x2)+this[_0x4be420(0x208)];for(let _0x1ddebb=0x0;_0x1ddebb<this['numLamps'];_0x1ddebb++){const _0x1bf748=!![];this[_0x4be420(0x209)][_0x4be420(0x18f)]({'isActive':_0x1bf748,'offsetX':_0x260492+_0x1ddebb*this['lampSpacing'],'offsetY':0x0}),this[_0x4be420(0x192)]['push'](_0x1bf748);}this[_0x4be420(0x198)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x4be420(0x1c7)]();}[_0x7a1a90(0x1a9)](_0x186503){const _0x3e6809=_0x7a1a90;if(_0x186503===this['isVisible'])return;this[_0x3e6809(0x18b)]=_0x186503,this[_0x3e6809(0x1c7)](),redraw();}[_0x7a1a90(0x204)](_0x4e20d6){const _0x560189=_0x7a1a90;if(_0x4e20d6===this[_0x560189(0x1e6)])return;this[_0x560189(0x1e6)]=_0x4e20d6;if(!this[_0x560189(0x1e6)]){for(let _0x287397=0x0;_0x287397<this['numLamps'];_0x287397++){this[_0x560189(0x192)][_0x287397]=this[_0x560189(0x209)][_0x287397]['isActive'];}for(let _0x1dfd66 of this[_0x560189(0x209)]){_0x1dfd66['isActive']=![];}}else for(let _0x5ac3cc=0x0;_0x5ac3cc<this[_0x560189(0x181)];_0x5ac3cc++){this[_0x560189(0x209)][_0x5ac3cc][_0x560189(0x1cd)]=typeof this['_previousLampStates'][_0x5ac3cc]===_0x560189(0x177)?this['_previousLampStates'][_0x5ac3cc]:![];}this[_0x560189(0x1c7)](),redraw();}[_0x7a1a90(0x170)](_0x20771b){const _0x1794a3=_0x7a1a90;if(!this['isEnabled']||!this[_0x1794a3(0x18b)])return;_0x20771b>=0x0&&_0x20771b<this[_0x1794a3(0x181)]&&(this[_0x1794a3(0x209)][_0x20771b][_0x1794a3(0x1cd)]=!this[_0x1794a3(0x209)][_0x20771b]['isActive'],this[_0x1794a3(0x192)][_0x20771b]=this[_0x1794a3(0x209)][_0x20771b][_0x1794a3(0x1cd)],this[_0x1794a3(0x1c7)](),redraw());}['calculateTotalPower'](){const _0x4dd406=_0x7a1a90;if(!this[_0x4dd406(0x1e6)]||!this['isVisible']){this[_0x4dd406(0x171)]=0x0;return;}let _0x392663=0x0;for(const _0x659c48 of this['lamps']){_0x659c48['isActive']&&(_0x392663+=this['powerPerLamp']);}this[_0x4dd406(0x171)]=_0x392663;}['getClickedLampIndex'](_0x4b5227,_0x520f93){const _0x53500b=_0x7a1a90;if(!this['isVisible'])return-0x1;for(let _0x32347d=0x0;_0x32347d<this[_0x53500b(0x181)];_0x32347d++){const _0xe40ce7=this[_0x53500b(0x209)][_0x32347d],_0x277e7d=this['x']+_0xe40ce7[_0x53500b(0x213)],_0x45a99d=this['y']+_0xe40ce7[_0x53500b(0x16d)],_0x2e6df7=dist(_0x4b5227,_0x520f93,_0x277e7d,_0x45a99d);if(_0x2e6df7<this[_0x53500b(0x208)])return _0x32347d;}return-0x1;}['displayPalette'](_0x305916){const _0x4992e3=_0x7a1a90;_0x305916['strokeWeight'](0x1*SCALE_FACTOR),_0x305916[_0x4992e3(0x167)](0x0);const _0x5ec562=this[_0x4992e3(0x208)]*0.5,_0x3afa16=_0x5ec562*0x2+0x2*SCALE_FACTOR,_0xa1201c=this[_0x4992e3(0x181)]*_0x5ec562*0x2+(this[_0x4992e3(0x181)]-0x1)*0x2*SCALE_FACTOR,_0x443fc7=-_0xa1201c/0x2+_0x5ec562;for(let _0x1fc709=0x0;_0x1fc709<this['numLamps'];_0x1fc709++){_0x305916[_0x4992e3(0x1c9)](0xff),_0x305916[_0x4992e3(0x214)](_0x443fc7+_0x1fc709*_0x3afa16,0x0,_0x5ec562*0x2);const _0x250797=_0x5ec562*0.707;_0x305916[_0x4992e3(0x206)](_0x443fc7+_0x1fc709*_0x3afa16-_0x250797,_0x250797,_0x443fc7+_0x1fc709*_0x3afa16+_0x250797,-_0x250797),_0x305916['line'](_0x443fc7+_0x1fc709*_0x3afa16-_0x250797,-_0x250797,_0x443fc7+_0x1fc709*_0x3afa16+_0x250797,_0x250797);}_0x305916[_0x4992e3(0x220)](),_0x305916[_0x4992e3(0x1c9)](0x0),_0x305916['textAlign'](CENTER,BOTTOM),_0x305916[_0x4992e3(0x158)](0x8*SCALE_FACTOR),_0x305916['text'](this[_0x4992e3(0x221)],0x0,_0x5ec562+0xa*SCALE_FACTOR);}['display'](){const _0x293c34=_0x7a1a90;if(!this[_0x293c34(0x18b)])return;push(),translate(this['x'],this['y']);for(let _0x1e82c8=0x0;_0x1e82c8<this[_0x293c34(0x181)];_0x1e82c8++){const _0x5e3c3d=this[_0x293c34(0x209)][_0x1e82c8];push(),translate(_0x5e3c3d[_0x293c34(0x213)],_0x5e3c3d[_0x293c34(0x16d)]);let _0x5caff9=0x1*SCALE_FACTOR,_0x581279=0x2*_0x5caff9,_0x4c175f=color(0xff),_0x3f2c27=color(0x0);_0x5e3c3d[_0x293c34(0x1cd)]?(_0x3f2c27=color(0xff,0xd8,0x0),strokeWeight(_0x581279),_0x4c175f=color(0xff,0xff,0xc8)):strokeWeight(_0x5caff9);!this[_0x293c34(0x1e6)]&&(_0x3f2c27=color(0x96),_0x4c175f=color(0xdc),strokeWeight(_0x5caff9));stroke(_0x3f2c27),fill(_0x4c175f),circle(0x0,0x0,this[_0x293c34(0x208)]*0x2);const _0x2ff340=this[_0x293c34(0x208)]*0.707;line(-_0x2ff340,_0x2ff340,_0x2ff340,-_0x2ff340),line(-_0x2ff340,-_0x2ff340,_0x2ff340,_0x2ff340),line(-1.3*this[_0x293c34(0x208)],0x0,-this[_0x293c34(0x208)],0x0),line(1.3*this[_0x293c34(0x208)],0x0,this[_0x293c34(0x208)],0x0);if(_0x5e3c3d[_0x293c34(0x1cd)]&&this[_0x293c34(0x1e6)]){stroke(_0x3f2c27),strokeWeight(0x1*SCALE_FACTOR);for(let _0xf814e0=0x0;_0xf814e0<0x168;_0xf814e0+=0x2d){const _0x31f231=radians(_0xf814e0),_0x5453e9=1.15*this[_0x293c34(0x208)],_0x3f07f4=1.4*this[_0x293c34(0x208)];line(_0x5453e9*cos(_0x31f231),_0x5453e9*sin(_0x31f231),_0x3f07f4*cos(_0x31f231),_0x3f07f4*sin(_0x31f231));}}pop();}noStroke(),fill(this[_0x293c34(0x1e6)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this[_0x293c34(0x208)]-0x5*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this[_0x293c34(0x171)]>0x0&&text(_0x293c34(0x1bf)+this[_0x293c34(0x171)][_0x293c34(0x215)](0x0)+_0x293c34(0x151),0x0,this[_0x293c34(0x208)]+0x5*SCALE_FACTOR),pop(),this[_0x293c34(0x1de)]();}[_0x7a1a90(0x1de)](){const _0x586322=_0x7a1a90,_0x1f6ae7=this[_0x586322(0x175)]();this[_0x586322(0x198)][_0x586322(0x1e0)](_0x1efc6c=>{const _0x82b2bf=_0x586322;_0x1efc6c['x']=this['x']+cos(_0x1f6ae7)*_0x1efc6c['originalX']-sin(_0x1f6ae7)*_0x1efc6c[_0x82b2bf(0x160)],_0x1efc6c['y']=this['y']+sin(_0x1f6ae7)*_0x1efc6c[_0x82b2bf(0x216)]+cos(_0x1f6ae7)*_0x1efc6c[_0x82b2bf(0x160)];});}[_0x7a1a90(0x175)](){return 0x0;}}


        </script>

</body>
</html>