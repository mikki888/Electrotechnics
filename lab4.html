<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x5179d7=_0x6800;(function(_0x241d23,_0x157ec3){const _0x37e8d6=_0x6800,_0x28ad95=_0x241d23();while(!![]){try{const _0x5b676c=parseInt(_0x37e8d6(0x21c))/0x1*(parseInt(_0x37e8d6(0x22d))/0x2)+-parseInt(_0x37e8d6(0x1c4))/0x3*(parseInt(_0x37e8d6(0x238))/0x4)+-parseInt(_0x37e8d6(0x202))/0x5*(-parseInt(_0x37e8d6(0x1e6))/0x6)+-parseInt(_0x37e8d6(0x245))/0x7+parseInt(_0x37e8d6(0x268))/0x8*(-parseInt(_0x37e8d6(0x232))/0x9)+-parseInt(_0x37e8d6(0x24c))/0xa*(-parseInt(_0x37e8d6(0x207))/0xb)+parseInt(_0x37e8d6(0x28b))/0xc*(parseInt(_0x37e8d6(0x222))/0xd);if(_0x5b676c===_0x157ec3)break;else _0x28ad95['push'](_0x28ad95['shift']());}catch(_0x400b77){_0x28ad95['push'](_0x28ad95['shift']());}}}(_0x1127,0xd141e));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x5179d7(0x203)](navigator[_0x5179d7(0x1ef)]),isLargeMobileScreen=window[_0x5179d7(0x28d)]>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':_0x5179d7(0x228),'label':_0x5179d7(0x224),'targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x5179d7(0x1bc),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x228),'label':'SA12','targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x228),'label':_0x5179d7(0x256),'targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x5179d7(0x1d4),'targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x5179d7(0x23d),'targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x228),'label':_0x5179d7(0x237),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA4','targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x285),'label':'PA1','targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x285),'label':_0x5179d7(0x1d0),'targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x285),'label':_0x5179d7(0x1c2),'targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'CustomAmmeter','label':_0x5179d7(0x1e1),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x20f),'label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x5179d7(0x215),'label':_0x5179d7(0x258),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x5179d7(0x215),'label':_0x5179d7(0x25d),'targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x5179d7(0x215),'label':'HLG3','targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;function _0x6800(_0x5d32a8,_0x35f687){const _0x112711=_0x1127();return _0x6800=function(_0x680047,_0x48d599){_0x680047=_0x680047-0x1af;let _0x4d1d35=_0x112711[_0x680047];return _0x4d1d35;},_0x6800(_0x5d32a8,_0x35f687);}let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=0x7f,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;function setup(){const _0x5a0de6=_0x5179d7;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x5a0de6(0x1b1)],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x5a0de6(0x1b6)),elements[_0x5a0de6(0x250)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x5a0de6(0x227)),elements[_0x5a0de6(0x250)](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x5a0de6(0x27b)),elements[_0x5a0de6(0x250)](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x5a0de6(0x1f6)),elements['push'](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x5a0de6(0x28e)),elements[_0x5a0de6(0x250)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x5a0de6(0x260)),elements[_0x5a0de6(0x250)](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x2c77b1=_0x5179d7;let _0x240cde={'SA2':null,'E2':null};paletteElementsData[_0x2c77b1(0x204)](_0x578ef4=>{const _0x265119=_0x2c77b1;let _0x3fe052=createPaletteElementInstance(_0x578ef4['type'],_0x578ef4[_0x265119(0x1ca)],_0x578ef4[_0x265119(0x1b9)],_0x578ef4[_0x265119(0x1ed)],_0x578ef4[_0x265119(0x1c5)],_0x578ef4);_0x3fe052[_0x265119(0x1ca)]==='Rk'&&(_0x3fe052[_0x265119(0x1d2)]='20'),elements[_0x265119(0x250)](_0x3fe052),_0x578ef4[_0x265119(0x1c3)]=!![],_0x578ef4['isFixed']=!![],_0x3fe052[_0x265119(0x209)][_0x265119(0x1c3)]=!![],_0x3fe052[_0x265119(0x209)][_0x265119(0x249)]=!![];}),paletteElementsData=[];const _0x3fadb1=document[_0x2c77b1(0x281)](_0x2c77b1(0x24a));_0x3fadb1[_0x2c77b1(0x286)]='',createPalette();}function createPalette(){const _0x365d4f=document['getElementById']('palette');paletteElementsData['forEach']((_0x14bec9,_0x4b0b87)=>{const _0x25a37a=_0x6800,_0x1d16f9=document[_0x25a37a(0x261)](_0x25a37a(0x1b2));_0x1d16f9['classList'][_0x25a37a(0x1b4)](_0x25a37a(0x269));let _0x10be4b=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x10be4b[_0x25a37a(0x276)](),_0x10be4b[_0x25a37a(0x250)](),_0x10be4b[_0x25a37a(0x206)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x37e5bb=createPaletteElementInstance(_0x14bec9[_0x25a37a(0x21e)],_0x14bec9[_0x25a37a(0x1ca)],_0x14bec9[_0x25a37a(0x1b9)],0x0,0x0,_0x14bec9);_0x37e5bb['orientation']=_0x14bec9[_0x25a37a(0x1b9)],_0x37e5bb[_0x25a37a(0x200)](_0x10be4b),_0x10be4b[_0x25a37a(0x266)]();const _0x510600=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x510600['copy'](_0x10be4b,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1d16f9[_0x25a37a(0x22b)](_0x510600['canvas']),_0x1d16f9[_0x25a37a(0x243)][_0x25a37a(0x270)]=_0x14bec9[_0x25a37a(0x21e)],_0x1d16f9[_0x25a37a(0x243)][_0x25a37a(0x1d3)]=_0x14bec9[_0x25a37a(0x1ca)],_0x1d16f9[_0x25a37a(0x243)][_0x25a37a(0x287)]=_0x14bec9[_0x25a37a(0x1b9)],_0x1d16f9[_0x25a37a(0x243)][_0x25a37a(0x265)]=_0x4b0b87,_0x1d16f9[_0x25a37a(0x27e)](_0x25a37a(0x1fc),paletteElementClick),_0x365d4f['appendChild'](_0x1d16f9);});}function draw(){const _0x369ef1=_0x5179d7;background(0xf0),strokeWeight(0x1);const _0x2df510=0x2bc*SCALE_FACTOR,_0x2c4724=0x1c2*SCALE_FACTOR,_0x469d4e=0x32*SCALE_FACTOR;stroke(_0x369ef1(0x1eb));function _0x21d872(_0x5ee51a,_0x5a82c7,_0x3bb88c,_0x4fceb4){line(_0x5ee51a,_0x5a82c7,_0x3bb88c,_0x4fceb4);}for(let _0x1eca90=0x0;_0x1eca90<=_0x2c4724;_0x1eca90+=_0x469d4e){_0x21d872(0x0,_0x1eca90,_0x2df510,_0x1eca90);}for(let _0x1144b1=0x0;_0x1144b1<=_0x2df510;_0x1144b1+=_0x469d4e){_0x21d872(_0x1144b1,0x0,_0x1144b1,_0x2c4724);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x21d872(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x21d872(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x21d872(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x21d872(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x5e0e73=0x64;circle(0x1c*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x21d872(0x1e*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x5a*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0xaa*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x190*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x1d6*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x5e0e73=0xc8,circle(0x1c*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x21d872(0x1e*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x5a*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0xaa*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x190*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x1d6*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x5e0e73=0x12c,circle(0x1c*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x21d872(0x1e*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x5a*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0xaa*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x190*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),_0x21d872(0x1d6*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x5e0e73*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x21d872(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x21d872(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x21d872(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x21d872(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x21d872(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x21d872(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x5ddf75 of elements){typeof _0x5ddf75[_0x369ef1(0x1cb)]===_0x369ef1(0x255)&&_0x5ddf75[_0x369ef1(0x1cb)](),_0x5ddf75['display']();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x369ef1(0x23c)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){if(!warningMessageText)return;push();let _0xb8fc18=0x1e*SCALE_FACTOR,_0x3714b9=height-0x32*SCALE_FACTOR-_0xb8fc18-0xa*SCALE_FACTOR,_0x27984d=0x96*SCALE_FACTOR,_0x562971=0xc8*SCALE_FACTOR;rectMode(CORNER);if(isBlinkingWarning){let _0x1c504d=millis();_0x1c504d-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x1c504d),blinkState&&(fill(0xff,0xb4,0xb4),stroke(0xc8,0x0,0x0),strokeWeight(1.5*SCALE_FACTOR),rect(_0x27984d,_0x3714b9,_0x562971,_0xb8fc18,0x5*SCALE_FACTOR),noStroke(),fill(0xc8,0x0,0x0),textAlign(CENTER,CENTER),textSize(0xd*SCALE_FACTOR),textStyle(BOLD),text(warningMessageText,_0x27984d+_0x562971/0x2,_0x3714b9+_0xb8fc18/0x2),textStyle(NORMAL));}else fill(0xff,0xff,0xd2),stroke(0xb4,0xb4,0x0),strokeWeight(0x1*SCALE_FACTOR),rect(_0x27984d,_0x3714b9,_0x562971,_0xb8fc18,0x5*SCALE_FACTOR),noStroke(),fill(0x32,0x32,0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(warningMessageText,_0x27984d+_0x562971/0x2,_0x3714b9+_0xb8fc18/0x2);pop();}function drawMessageBox(){const _0x247685=_0x5179d7;messageBox['classList']['contains'](_0x247685(0x254))&&(push(),fill(_0x247685(0x262)),stroke(_0x247685(0x1f9)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0x247685(0x210)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x528385=_0x5179d7;push(),fill(_0x528385(0x23a)),stroke(_0x528385(0x25b)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x528385(0x210)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0xaccf2=_0x5179d7;push(),fill(_0xaccf2(0x225)),stroke(_0xaccf2(0x1e2)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0xaccf2(0x210)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x1722b3=_0x5179d7;if(isCalculateButtonVisible){push(),fill(_0x1722b3(0x1bb)),noStroke(),rectMode(CORNER);let _0x3ec6c9=0x96*SCALE_FACTOR,_0x4452c3=height-0x32*SCALE_FACTOR,_0x42c61d=0xc8*SCALE_FACTOR,_0x474c21=0x32*SCALE_FACTOR;rect(_0x3ec6c9,_0x4452c3,_0x42c61d,_0x474c21,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x1722b3(0x24e),_0x3ec6c9+_0x42c61d/0x2,_0x4452c3+_0x474c21/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x17ebaa=_0x5179d7,_0x136945=findElementByLabel(_0x17ebaa(0x224)),_0xf804d6=findElementByLabel(_0x17ebaa(0x1bc)),_0x5cab51=findElementByLabel(_0x17ebaa(0x271)),_0x25b24d=findElementByLabel(_0x17ebaa(0x258));if(!_0x136945||!_0xf804d6||!_0x5cab51||!_0x25b24d)return;if(!(_0x136945 instanceof Switch)||!(_0xf804d6 instanceof Switch)||!(_0x5cab51 instanceof Switch)||!(_0x25b24d instanceof GroupLamp))return;const _0xe3a3fb=_0x136945[_0x17ebaa(0x1c0)],_0x2bb904=_0xf804d6[_0x17ebaa(0x1c0)],_0x57f4f8=_0x5cab51['isOpen'],_0x344edc=!_0xe3a3fb&&!_0x2bb904&&_0x57f4f8;if(_0x25b24d[_0x17ebaa(0x264)]!==_0x344edc)_0x25b24d[_0x17ebaa(0x1b3)](_0x344edc);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x50e569=_0x5179d7,_0x25ad51=findElementByLabel(_0x50e569(0x256)),_0x4eb3a3=findElementByLabel(_0x50e569(0x1d4)),_0x53be77=findElementByLabel(_0x50e569(0x25d));if(!_0x25ad51||!_0x4eb3a3||!_0x53be77)return;if(!(_0x25ad51 instanceof Switch)||!(_0x4eb3a3 instanceof Switch)||!(_0x53be77 instanceof GroupLamp))return;const _0x5a9f2a=_0x25ad51[_0x50e569(0x1c0)],_0x5987d4=_0x4eb3a3['isOpen'],_0x5b5131=!_0x5a9f2a&&!_0x5987d4;if(_0x53be77[_0x50e569(0x264)]!==_0x5b5131)_0x53be77[_0x50e569(0x1b3)](_0x5b5131);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x3adeb8=_0x5179d7,_0x4d9e8f=findElementByLabel('SA3'),_0x43659e=findElementByLabel(_0x3adeb8(0x237)),_0x49d75c=findElementByLabel(_0x3adeb8(0x1b7));if(!_0x4d9e8f||!_0x43659e||!_0x49d75c)return;if(!(_0x4d9e8f instanceof Switch)||!(_0x43659e instanceof Switch)||!(_0x49d75c instanceof GroupLamp))return;const _0x118acf=_0x4d9e8f[_0x3adeb8(0x1c0)],_0x1f6b78=_0x43659e[_0x3adeb8(0x1c0)],_0x198f35=!_0x118acf&&!_0x1f6b78;if(_0x49d75c['isEnabled']!==_0x198f35)_0x49d75c[_0x3adeb8(0x1b3)](_0x198f35);else;}function drawVisibilityToggleButton(){const _0x15afd4=_0x5179d7;push();const _0x10fcb1=0x226*SCALE_FACTOR,_0x54631c=0x55*SCALE_FACTOR,_0x55ac7f=0x64*SCALE_FACTOR,_0xaf3b95=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x10fcb1,_0x54631c,_0x55ac7f,_0xaf3b95,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x84109f=isC1CurrentlyVisible?_0x15afd4(0x1e7):_0x15afd4(0x20d);text(_0x84109f,_0x10fcb1+_0x55ac7f/0x2,_0x54631c+_0xaf3b95/0x2),pop();}function paletteElementClick(_0x46b092){const _0x14e6e2=_0x5179d7,_0x131414=_0x46b092[_0x14e6e2(0x235)];if(!_0x131414){console[_0x14e6e2(0x1e5)](_0x14e6e2(0x201));return;}const _0x3a0c01=_0x131414[_0x14e6e2(0x243)]['elementType'],_0x1a6e0c=_0x131414[_0x14e6e2(0x243)][_0x14e6e2(0x1d3)],_0x3d3997=_0x131414[_0x14e6e2(0x243)][_0x14e6e2(0x287)],_0x59ab6d=parseInt(_0x131414[_0x14e6e2(0x243)][_0x14e6e2(0x265)]);if(!_0x3a0c01||!_0x1a6e0c||!_0x3d3997||isNaN(_0x59ab6d)){console[_0x14e6e2(0x1e5)]('Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!',_0x131414['dataset']);return;}canvasElementInstance=createPaletteElementInstance(_0x3a0c01,_0x1a6e0c,_0x3d3997,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x59ab6d]),paletteElementsData[_0x14e6e2(0x1d1)](_0x59ab6d,0x1);const _0x310d42=document[_0x14e6e2(0x281)](_0x14e6e2(0x24a));_0x310d42[_0x14e6e2(0x286)]='',createPalette();}function createPaletteElementInstance(_0x35bf61,_0x341845,_0x11ba2e,_0x41cc34,_0x3414ff,_0x3f81a9){const _0xc08f10=_0x5179d7;let _0x2ae756;const _0x3094a4=_0x3f81a9?.[_0xc08f10(0x1be)];switch(_0x35bf61){case'AutotransformerLaboratory':_0x2ae756=new AutotransformerLaboratory(_0x41cc34,_0x3414ff,_0x341845);break;case _0xc08f10(0x21a):_0x2ae756=new Resistor(_0x41cc34,_0x3414ff,_0x341845);_0x341845==='Rk'&&(_0x2ae756[_0xc08f10(0x1d2)]='20');break;case _0xc08f10(0x267):_0x2ae756=new SwitchSPDT(_0x41cc34,_0x3414ff,_0x341845);break;case'Switch':_0x2ae756=new Switch(_0x41cc34,_0x3414ff,_0x341845);(_0x341845==='SA1'||_0x341845===_0xc08f10(0x1bc)||_0x341845===_0xc08f10(0x256)||_0x341845===_0xc08f10(0x1d4)||_0x341845===_0xc08f10(0x23d)||_0x341845===_0xc08f10(0x237)||_0x341845===_0xc08f10(0x26e))&&(_0x2ae756[_0xc08f10(0x1c0)]=![]);break;case _0xc08f10(0x285):_0x2ae756=new CustomAmmeter(_0x41cc34,_0x3414ff,_0x341845);break;case'Phasemeter':_0x2ae756=new Phasemeter(_0x41cc34,_0x3414ff,_0x341845);break;case'Node':_0x2ae756=new Node(_0x41cc34,_0x3414ff,_0x341845);break;case _0xc08f10(0x217):_0x2ae756=new Induction(_0x41cc34,_0x3414ff,_0x341845);break;case _0xc08f10(0x20f):_0x2ae756=new Capacity(_0x41cc34,_0x3414ff,_0x341845);break;case _0xc08f10(0x22a):_0x2ae756=new Frequency(_0x41cc34,_0x3414ff,_0x341845);break;case _0xc08f10(0x215):_0x2ae756=new GroupLamp(_0x41cc34,_0x3414ff,_0x341845,_0x3094a4);break;default:return null;}return _0x2ae756[_0xc08f10(0x1b9)]=parseInt(_0x11ba2e),_0x2ae756[_0xc08f10(0x209)]=_0x3f81a9,_0x2ae756;}function generateNewData(){const _0x3dd625=_0x5179d7,_0x18bcb2=[];for(let _0x3f16ee=0x5;_0x3f16ee<=0x32;_0x3f16ee+=0x5){_0x18bcb2[_0x3dd625(0x250)](_0x3f16ee);}const _0x2a83a5=[];for(let _0x2c841d=0x78;_0x2c841d<=0x9b;_0x2c841d+=0x5){_0x2a83a5[_0x3dd625(0x250)](_0x2c841d);}let _0x461a5f=_0x18bcb2[Math[_0x3dd625(0x234)](Math[_0x3dd625(0x1fb)]()*_0x18bcb2['length'])],_0x2daff8=_0x2a83a5[Math['floor'](Math['random']()*_0x2a83a5[_0x3dd625(0x1b1)])],_0x5dec0a={'C1':findElementByLabel('C1')};_0x5dec0a['C1'][_0x3dd625(0x1d9)]=String(_0x461a5f),U_phase_mag=String(_0x2daff8),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x1ed80a=_0x5179d7,_0x3909c8=0x1f4*SCALE_FACTOR,_0x38aea9=0x46*SCALE_FACTOR,_0x1bad43=0xb4*SCALE_FACTOR,_0x5d71ee=0x32*SCALE_FACTOR;if(mouseX>_0x3909c8&&mouseX<_0x3909c8+_0x1bad43&&mouseY>_0x38aea9&&mouseY<_0x38aea9+_0x5d71ee){console[_0x1ed80a(0x1ec)](_0x1ed80a(0x27c)),isC1CurrentlyVisible=!isC1CurrentlyVisible,console[_0x1ed80a(0x1ec)](_0x1ed80a(0x1db),isC1CurrentlyVisible);const _0x307cf9=findElementByLabel('C1'),_0x112f8f=findElementByLabel(_0x1ed80a(0x258));_0x307cf9 instanceof Capacity&&_0x112f8f instanceof GroupLamp?(_0x307cf9[_0x1ed80a(0x282)](isC1CurrentlyVisible),_0x112f8f['setVisibility'](!isC1CurrentlyVisible),console[_0x1ed80a(0x1ec)](_0x1ed80a(0x23e)+isC1CurrentlyVisible+_0x1ed80a(0x277)+!isC1CurrentlyVisible),_0x112f8f[_0x1ed80a(0x1d5)]()):console['error'](_0x1ed80a(0x1f0));redraw();return;}if(isCalculateButtonVisible){let _0x476740=0x96*SCALE_FACTOR,_0x3212d8=height-0x32*SCALE_FACTOR,_0x1f91d6=0xc8*SCALE_FACTOR,_0x6dd410=0x32*SCALE_FACTOR;if(mouseX>_0x476740&&mouseX<_0x476740+_0x1f91d6&&mouseY>_0x3212d8&&mouseY<_0x3212d8+_0x6dd410){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x108cbe=null,_0x451ccd=-0x1;for(let _0x4e6ec7=elements[_0x1ed80a(0x1b1)]-0x1;_0x4e6ec7>=0x0;_0x4e6ec7--){let _0xa45bd6=elements[_0x4e6ec7];if(_0xa45bd6 instanceof GroupLamp&&!_0xa45bd6[_0x1ed80a(0x23f)]||_0xa45bd6 instanceof Capacity&&!_0xa45bd6[_0x1ed80a(0x23f)])continue;if(_0xa45bd6 instanceof GroupLamp){_0x451ccd=_0xa45bd6[_0x1ed80a(0x27d)](mouseX,mouseY);if(_0x451ccd!==-0x1){_0x108cbe=_0xa45bd6;break;}}}if(_0x108cbe===null)for(let _0x27a831=elements[_0x1ed80a(0x1b1)]-0x1;_0x27a831>=0x0;_0x27a831--){let _0x2f5c67=elements[_0x27a831];if(_0x2f5c67 instanceof GroupLamp&&!_0x2f5c67[_0x1ed80a(0x23f)]||_0x2f5c67 instanceof Capacity&&!_0x2f5c67[_0x1ed80a(0x23f)])continue;if(_0x2f5c67 instanceof Node||_0x2f5c67 instanceof StaticTextDisplay)continue;let _0x4ea870=![];if(typeof _0x2f5c67['r']!==_0x1ed80a(0x212)&&!(_0x2f5c67 instanceof GroupLamp))dist(mouseX,mouseY,_0x2f5c67['x'],_0x2f5c67['y'])<_0x2f5c67['r']&&(_0x4ea870=!![]);else typeof _0x2f5c67['w']!==_0x1ed80a(0x212)&&typeof _0x2f5c67['h']!==_0x1ed80a(0x212)&&(mouseX>_0x2f5c67['x']-_0x2f5c67['w']/0x2&&mouseX<_0x2f5c67['x']+_0x2f5c67['w']/0x2&&mouseY>_0x2f5c67['y']-_0x2f5c67['h']/0x2&&mouseY<_0x2f5c67['y']+_0x2f5c67['h']/0x2&&(_0x4ea870=!![]));if(_0x4ea870){_0x108cbe=_0x2f5c67;break;}}if(_0x108cbe){let _0x4c226b=millis(),_0x2dd212=_0x4c226b-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0x5486fb=_0x108cbe[_0x1ed80a(0x209)]&&_0x108cbe['placedElementData'][_0x1ed80a(0x249)],_0x5a1383=![],_0x2fd064=![];if(_0x108cbe instanceof GroupLamp&&_0x451ccd!==-0x1)_0x108cbe[_0x1ed80a(0x244)](_0x451ccd),_0x5a1383=!![],_0x2fd064=!![];else{if(_0x2dd212){_0x5a1383=!![],_0x2fd064=!![];if(_0x108cbe instanceof GroupLamp){}else{if(_0x108cbe instanceof SwitchSPDT||_0x108cbe instanceof Switch)_0x108cbe['toggleState']();else{if(_0x108cbe instanceof Resistor&&KirgofTest){let _0x3a8ed9=prompt('Введіть\x20опір\x20для\x20'+_0x108cbe['label']+':',_0x108cbe[_0x1ed80a(0x1d2)]||_0x1ed80a(0x233));_0x3a8ed9!==null&&(_0x108cbe[_0x1ed80a(0x1d2)]=_0x3a8ed9,calculateCircuit());}else{if(_0x108cbe instanceof AutotransformerLaboratory){let _0x33a388=prompt('Введіть\x20напругу\x20для\x20'+_0x108cbe[_0x1ed80a(0x1ca)]+':',_0x108cbe['voltage']||'50');_0x33a388!==null&&(_0x108cbe['voltage']=_0x33a388,calculateCircuit());}else{if(_0x108cbe instanceof Induction&&KirgofTest){let _0x32cf51=prompt(_0x1ed80a(0x25f)+_0x108cbe[_0x1ed80a(0x1ca)]+':',_0x108cbe['induction']||'5');_0x32cf51!==null&&(_0x108cbe[_0x1ed80a(0x273)]=_0x32cf51,calculateCircuit());}else{if(_0x108cbe instanceof Capacity){if(_0x108cbe[_0x1ed80a(0x23f)]){let _0x502e7f=prompt(_0x1ed80a(0x23b)+_0x108cbe[_0x1ed80a(0x1ca)]+':',_0x108cbe[_0x1ed80a(0x1d9)]||'10');_0x502e7f!==null&&(_0x108cbe[_0x1ed80a(0x1d9)]=_0x502e7f,calculateCircuit());}}else{if(_0x108cbe instanceof Frequency){let _0x4cfb73=prompt(_0x1ed80a(0x252)+_0x108cbe[_0x1ed80a(0x1ca)]+':',_0x108cbe['frequency']||'50');_0x4cfb73!==null&&(_0x108cbe[_0x1ed80a(0x219)]=_0x4cfb73,calculateCircuit());}}}}}}}}}_0x5486fb&&(_0x2fd064=!![]),!_0x2fd064&&(draggedElement=_0x108cbe,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x4c226b;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x1ed80a(0x250)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x2c64fb=_0x5179d7;let _0x423595=canvasElementInstance||draggedElement;if(_0x423595){dragOffsetX=0x0,dragOffsetY=0x0;let _0x58bf6f=mouseX-dragOffsetX,_0x2a456f=mouseY-dragOffsetY,_0x6d7a85=0x1e*SCALE_FACTOR,_0xbb1deb=_0x6d7a85,_0x3b908a=_0x6d7a85,_0x40e599=width-_0x6d7a85,_0x1ee70a=height-_0x6d7a85;_0x423595['x']=constrain(_0x58bf6f,_0xbb1deb,_0x40e599),_0x423595['y']=constrain(_0x2a456f,_0x3b908a,_0x1ee70a);if(_0x423595['placedElementData']){let _0x46694f=dist(_0x423595['x'],_0x423595['y'],_0x423595[_0x2c64fb(0x209)]['targetX'],_0x423595['placedElementData'][_0x2c64fb(0x1c5)]),_0x220f55=Math[_0x2c64fb(0x28a)](0x0,Math[_0x2c64fb(0x1c8)](_0x46694f-SNAP_DISTANCE));distanceBox[_0x2c64fb(0x210)]=_0x2c64fb(0x1f1)+_0x220f55+'\x20px';}else distanceBox[_0x2c64fb(0x210)]='Цільова\x20точка\x20не\x20знайдена';}}function mouseReleased(){const _0x250f3f=_0x5179d7;let _0x272800=null,_0x32c14e;if(canvasElementInstance)elements[_0x250f3f(0x250)](canvasElementInstance),_0x272800=canvasElementInstance['placedElementData'],_0x272800&&(_0x32c14e=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x272800['targetX'],_0x272800[_0x250f3f(0x1c5)]),_0x32c14e<=SNAP_DISTANCE&&!_0x272800[_0x250f3f(0x1c3)]&&(canvasElementInstance['x']=_0x272800['targetX'],canvasElementInstance['y']=_0x272800[_0x250f3f(0x1c5)],_0x272800[_0x250f3f(0x1c3)]=!![],elementsPlacedCount++,_0x272800[_0x250f3f(0x249)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x272800=draggedElement[_0x250f3f(0x209)],_0x32c14e=_0x272800?dist(draggedElement['x'],draggedElement['y'],_0x272800[_0x250f3f(0x1ed)],_0x272800[_0x250f3f(0x1c5)]):undefined;if(_0x272800){if(_0x32c14e<=SNAP_DISTANCE&&!_0x272800['placed'])!_0x272800[_0x250f3f(0x1c3)]&&(draggedElement['x']=_0x272800[_0x250f3f(0x1ed)],draggedElement['y']=_0x272800['targetY'],_0x272800[_0x250f3f(0x1c3)]=!![],elementsPlacedCount++,_0x272800[_0x250f3f(0x249)]=!![]);else _0x272800[_0x250f3f(0x1c3)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x272800[_0x250f3f(0x1c3)]=![],elementsPlacedCount--,_0x272800[_0x250f3f(0x249)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x250f3f(0x210)]='',redraw();}function updateCounterDisplay(){const _0x3c2f87=_0x5179d7;counterBox['textContent']=_0x3c2f87(0x21f)+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x3c2f87(0x210)]=_0x3c2f87(0x223),isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0xd654fa=findElementByLabel('C1'),_0x4e4961=findElementByLabel(_0x3c2f87(0x258));_0xd654fa instanceof Capacity&&_0x4e4961 instanceof GroupLamp&&(_0xd654fa[_0x3c2f87(0x282)](isC1CurrentlyVisible),_0x4e4961[_0x3c2f87(0x282)](!isC1CurrentlyVisible),_0x4e4961[_0x3c2f87(0x1d5)](),console[_0x3c2f87(0x1ec)](_0x3c2f87(0x24d)+isC1CurrentlyVisible+_0x3c2f87(0x239)+!isC1CurrentlyVisible)),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x30e414=findElementByLabel(_0x3c2f87(0x258));_0x30e414 instanceof GroupLamp&&_0x30e414[_0x3c2f87(0x1b3)](![]);const _0x26bced=findElementByLabel('C1');if(_0x26bced instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x2919f9=_0x5179d7;messageBox[_0x2919f9(0x210)]='Correctly\x20placed!',messageBox['classList'][_0x2919f9(0x1b4)](_0x2919f9(0x254)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0xa71a72=_0x2919f9;messageBox[_0xa71a72(0x20e)][_0xa71a72(0x1f7)](_0xa71a72(0x254));},0x7d0);}function polarToRect(_0x1c3b45,_0x43f8ef){const _0x3421bd=_0x5179d7,_0x27442d=_0x43f8ef*Math['PI']/0xb4;return{'re':_0x1c3b45*Math[_0x3421bd(0x283)](_0x27442d),'im':_0x1c3b45*Math[_0x3421bd(0x1dc)](_0x27442d)};}function rectToPolar(_0x3f3667,_0x5d41bf){const _0x1b9046=_0x5179d7,_0x4853fe=Math[_0x1b9046(0x226)](_0x3f3667*_0x3f3667+_0x5d41bf*_0x5d41bf);let _0x96550f=Math['atan2'](_0x5d41bf,_0x3f3667),_0x5854ed=_0x96550f*0xb4/Math['PI'];return{'mag':_0x4853fe,'ang':_0x5854ed};}function addPhasors(_0x1d409d,_0x5880a8){return{'re':_0x1d409d['re']+_0x5880a8['re'],'im':_0x1d409d['im']+_0x5880a8['im']};}function subtractPhasors(_0x122dd2,_0x27badb){return{'re':_0x122dd2['re']-_0x27badb['re'],'im':_0x122dd2['im']-_0x27badb['im']};}function multiplyPhasors(_0x515be7,_0x3ae9e8){return{'re':_0x515be7['re']*_0x3ae9e8['re']-_0x515be7['im']*_0x3ae9e8['im'],'im':_0x515be7['re']*_0x3ae9e8['im']+_0x515be7['im']*_0x3ae9e8['re']};}function dividePhasors(_0x2cae61,_0xde66db){const _0x42ec69=_0x5179d7,_0x42ee67=_0xde66db['re']*_0xde66db['re']+_0xde66db['im']*_0xde66db['im'];if(Math[_0x42ec69(0x1bf)](_0x42ee67)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0x2cae61['re']*_0xde66db['re']+_0x2cae61['im']*_0xde66db['im'])/_0x42ee67,'im':(_0x2cae61['im']*_0xde66db['re']-_0x2cae61['re']*_0xde66db['im'])/_0x42ee67};}function invertPhasorRect(_0x13dede){const _0x42fdfb=_0x5179d7,_0x2680b9=_0x13dede['re']*_0x13dede['re']+_0x13dede['im']*_0x13dede['im'];if(Math[_0x42fdfb(0x1bf)](_0x2680b9)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0x13dede['re']/_0x2680b9,'im':-_0x13dede['im']/_0x2680b9};}function calculateCircuit(){const _0x364cf4=_0x5179d7;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();const _0x48bede=findElementByLabel('Uab\x20='),_0x318899=findElementByLabel(_0x364cf4(0x227)),_0x3d9643=findElementByLabel(_0x364cf4(0x27b)),_0x59b2f9=findElementByLabel(_0x364cf4(0x1f6)),_0x2a259b=findElementByLabel(_0x364cf4(0x28e)),_0x4270ae=findElementByLabel(_0x364cf4(0x260));if(_0x48bede)_0x48bede['setText']('Uab\x20=\x20---\x20V');if(_0x318899)_0x318899[_0x364cf4(0x24b)](_0x364cf4(0x208));if(_0x3d9643)_0x3d9643['setText'](_0x364cf4(0x1ee));if(_0x59b2f9)_0x59b2f9[_0x364cf4(0x24b)](_0x364cf4(0x242));if(_0x2a259b)_0x2a259b[_0x364cf4(0x24b)]('Ub\x20=\x20---\x20V');if(_0x4270ae)_0x4270ae[_0x364cf4(0x24b)](_0x364cf4(0x230));const _0x20239b=findElementByLabel(_0x364cf4(0x20c)),_0x3b09d3=findElementByLabel(_0x364cf4(0x1d0)),_0x2f77e6=findElementByLabel(_0x364cf4(0x1c2)),_0x25e7af=findElementByLabel(_0x364cf4(0x1e1));if(_0x20239b)displayCalculationValue(_0x20239b,null,_0x364cf4(0x20a));if(_0x3b09d3)displayCalculationValue(_0x3b09d3,null,_0x364cf4(0x20a));if(_0x2f77e6)displayCalculationValue(_0x2f77e6,null,_0x364cf4(0x20a));if(_0x25e7af)displayCalculationValue(_0x25e7af,null,_0x364cf4(0x20a));return;}const _0x3496ee=0xdc,_0x31846b=0x32,_0x3bcc78=0x2*Math['PI']*_0x31846b,_0xafd0d6=parseFloat(U_phase_mag)||0x7f,_0x107eeb={'mag':_0xafd0d6,'ang':0x0},_0x5e5247={'mag':_0xafd0d6,'ang':-0x78},_0x235a3c={'mag':_0xafd0d6,'ang':0x78},_0x18385b=polarToRect(_0x107eeb[_0x364cf4(0x220)],_0x107eeb['ang']),_0x47571e=polarToRect(_0x5e5247[_0x364cf4(0x220)],_0x5e5247[_0x364cf4(0x246)]),_0x30407a=polarToRect(_0x235a3c['mag'],_0x235a3c[_0x364cf4(0x246)]),_0x2e539f=findElementByLabel(_0x364cf4(0x258)),_0x3b3237=findElementByLabel(_0x364cf4(0x25d)),_0x26b1cd=findElementByLabel(_0x364cf4(0x1b7)),_0x100b96=findElementByLabel('C1'),_0x5c6739=findElementByLabel(_0x364cf4(0x224)),_0x4c25ca=findElementByLabel(_0x364cf4(0x256)),_0x4b1d7d=findElementByLabel('SA3'),_0x2dcbb0=findElementByLabel('SA11'),_0x5ad8da=findElementByLabel(_0x364cf4(0x271)),_0x147a4e=findElementByLabel(_0x364cf4(0x1d4)),_0x5c0e22=findElementByLabel(_0x364cf4(0x237)),_0x540e4a=findElementByLabel('SA4'),_0x5b7835=findElementByLabel('PA1'),_0x1fb9ad=findElementByLabel(_0x364cf4(0x1d0)),_0x21252d=findElementByLabel('PA3'),_0x580ba3=findElementByLabel(_0x364cf4(0x1e1)),_0x19ca69=findElementByLabel(_0x364cf4(0x1b6)),_0x5a10fd=findElementByLabel('Ubc\x20='),_0x14b2ff=findElementByLabel(_0x364cf4(0x27b)),_0x3bd52a=findElementByLabel('Ua\x20='),_0x41fe8c=findElementByLabel(_0x364cf4(0x28e)),_0x1c6965=findElementByLabel(_0x364cf4(0x260));if(!_0x2e539f||!_0x3b3237||!_0x26b1cd||!_0x100b96||!_0x5c6739||!_0x4c25ca||!_0x4b1d7d||!_0x2dcbb0||!_0x5ad8da||!_0x147a4e||!_0x5c0e22||!_0x540e4a||!_0x5b7835||!_0x1fb9ad||!_0x21252d||!_0x580ba3||!_0x19ca69||!_0x5a10fd||!_0x14b2ff||!_0x3bd52a||!_0x41fe8c||!_0x1c6965){console[_0x364cf4(0x1e5)](_0x364cf4(0x20b)),warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();if(_0x19ca69)_0x19ca69[_0x364cf4(0x24b)]('Uab\x20=\x20---\x20V');if(_0x5a10fd)_0x5a10fd[_0x364cf4(0x24b)](_0x364cf4(0x208));if(_0x14b2ff)_0x14b2ff[_0x364cf4(0x24b)](_0x364cf4(0x1ee));if(_0x3bd52a)_0x3bd52a[_0x364cf4(0x24b)](_0x364cf4(0x242));if(_0x41fe8c)_0x41fe8c[_0x364cf4(0x24b)]('Ub\x20=\x20---\x20V');if(_0x1c6965)_0x1c6965['setText'](_0x364cf4(0x230));if(_0x5b7835)displayCalculationValue(_0x5b7835,null,'bottom');if(_0x1fb9ad)displayCalculationValue(_0x1fb9ad,null,_0x364cf4(0x20a));if(_0x21252d)displayCalculationValue(_0x21252d,null,_0x364cf4(0x20a));if(_0x580ba3)displayCalculationValue(_0x580ba3,null,_0x364cf4(0x20a));return;}_0x540e4a[_0x364cf4(0x1c0)]?(warningMessageText=_0x364cf4(0x257),isBlinkingWarning=![]):!_0x5ad8da[_0x364cf4(0x1c0)]?(warningMessageText=_0x364cf4(0x1d7),isBlinkingWarning=!![],!blinkState&&(blinkState=!![],lastBlinkTime=millis())):(warningMessageText=null,isBlinkingWarning=![],blinkState=!![]);hideCalculationValues();let _0x26604a={'re':Infinity,'im':0x0},_0x4ba7f9={'re':Infinity,'im':0x0},_0x144e66={'re':Infinity,'im':0x0};const _0x4f35f8=0.01;if(!_0x5c6739[_0x364cf4(0x1c0)]&&!_0x2dcbb0[_0x364cf4(0x1c0)]){if(!_0x5ad8da[_0x364cf4(0x1c0)])_0x26604a={'re':_0x4f35f8,'im':0x0},_0x2e539f[_0x364cf4(0x264)]&&(_0x2e539f[_0x364cf4(0x1b3)](![]),_0x2e539f['calculateTotalPower']());else{if(_0x2e539f[_0x364cf4(0x23f)]&&_0x2e539f[_0x364cf4(0x264)]){const _0x303cf6=_0x2e539f[_0x364cf4(0x25e)];if(_0x303cf6>0x0){const _0x1b6c8a=_0xafd0d6*_0xafd0d6/_0x303cf6;_0x26604a={'re':_0x1b6c8a,'im':0x0};}else _0x26604a={'re':Infinity,'im':0x0};}else{if(_0x100b96[_0x364cf4(0x23f)]){const _0x32e688=parseFloat(_0x100b96['capacity'])/0xf4240;if(_0x32e688>0x0&&_0x3bcc78>0x0){const _0x4b60b5=0x1/(_0x3bcc78*_0x32e688);_0x26604a={'re':0x0,'im':-_0x4b60b5};}else _0x26604a={'re':Infinity,'im':0x0};}}}}if(!_0x4c25ca[_0x364cf4(0x1c0)]&&!_0x147a4e[_0x364cf4(0x1c0)]&&_0x3b3237[_0x364cf4(0x23f)]&&_0x3b3237[_0x364cf4(0x264)]){const _0x1fc956=_0x3b3237['total_power'];if(_0x1fc956>0x0){const _0x462512=_0xafd0d6*_0xafd0d6/_0x1fc956;_0x4ba7f9={'re':_0x462512,'im':0x0};}else _0x4ba7f9={'re':Infinity,'im':0x0};}else _0x4ba7f9={'re':Infinity,'im':0x0};if(!_0x4b1d7d[_0x364cf4(0x1c0)]&&!_0x5c0e22[_0x364cf4(0x1c0)]&&_0x26b1cd['isVisible']&&_0x26b1cd[_0x364cf4(0x264)]){const _0x602c1a=_0x26b1cd[_0x364cf4(0x25e)];if(_0x602c1a>0x0){const _0x52cb39=_0xafd0d6*_0xafd0d6/_0x602c1a;_0x144e66={'re':_0x52cb39,'im':0x0};}else _0x144e66={'re':Infinity,'im':0x0};}else _0x144e66={'re':Infinity,'im':0x0};let _0x5a765f={'re':0x0,'im':0x0},_0x1c427d={'re':0x0,'im':0x0},_0x5bb66e={'re':0x0,'im':0x0},_0x3de456={'re':0x0,'im':0x0},_0x551600={'re':0x0,'im':0x0},_0x441a1f={'re':0x0,'im':0x0},_0x4f06f0={'re':0x0,'im':0x0};const _0x28e666=!_0x540e4a['isOpen'];if(_0x28e666){_0x551600=_0x26604a['re']!==Infinity||_0x26604a['im']!==0x0?_0x18385b:{'re':0x0,'im':0x0},_0x441a1f=_0x4ba7f9['re']!==Infinity||_0x4ba7f9['im']!==0x0?_0x47571e:{'re':0x0,'im':0x0},_0x4f06f0=_0x144e66['re']!==Infinity||_0x144e66['im']!==0x0?_0x30407a:{'re':0x0,'im':0x0};if(_0x26604a['re']!==Infinity||_0x26604a['im']!==0x0)_0x5a765f=dividePhasors(_0x551600,_0x26604a);if(_0x4ba7f9['re']!==Infinity||_0x4ba7f9['im']!==0x0)_0x1c427d=dividePhasors(_0x441a1f,_0x4ba7f9);if(_0x144e66['re']!==Infinity||_0x144e66['im']!==0x0)_0x5bb66e=dividePhasors(_0x4f06f0,_0x144e66);_0x3de456=addPhasors(_0x5a765f,addPhasors(_0x1c427d,_0x5bb66e));}else{const _0x1f6eb4=_0x26604a['re']!==Infinity||_0x26604a['im']!==0x0?invertPhasorRect(_0x26604a):{'re':0x0,'im':0x0},_0x4dc34b=_0x4ba7f9['re']!==Infinity||_0x4ba7f9['im']!==0x0?invertPhasorRect(_0x4ba7f9):{'re':0x0,'im':0x0},_0x3767bb=_0x144e66['re']!==Infinity||_0x144e66['im']!==0x0?invertPhasorRect(_0x144e66):{'re':0x0,'im':0x0},_0x3b1311=addPhasors(_0x1f6eb4,addPhasors(_0x4dc34b,_0x3767bb));let _0x3b092c={'re':0x0,'im':0x0};if(Math['abs'](_0x3b1311['re'])>1e-9||Math['abs'](_0x3b1311['im'])>1e-9){const _0xdf14c7=multiplyPhasors(_0x18385b,_0x1f6eb4),_0x33f387=multiplyPhasors(_0x47571e,_0x4dc34b),_0x48bcc0=multiplyPhasors(_0x30407a,_0x3767bb),_0x5a9448=addPhasors(_0xdf14c7,addPhasors(_0x33f387,_0x48bcc0));_0x3b092c=dividePhasors(_0x5a9448,_0x3b1311);}else _0x3b092c={'re':0x0,'im':0x0};_0x551600=subtractPhasors(_0x18385b,_0x3b092c),_0x441a1f=subtractPhasors(_0x47571e,_0x3b092c),_0x4f06f0=subtractPhasors(_0x30407a,_0x3b092c);if(_0x26604a['re']!==Infinity||_0x26604a['im']!==0x0)_0x5a765f=multiplyPhasors(_0x551600,_0x1f6eb4);else _0x5a765f={'re':0x0,'im':0x0};if(_0x4ba7f9['re']!==Infinity||_0x4ba7f9['im']!==0x0)_0x1c427d=multiplyPhasors(_0x441a1f,_0x4dc34b);else _0x1c427d={'re':0x0,'im':0x0};if(_0x144e66['re']!==Infinity||_0x144e66['im']!==0x0)_0x5bb66e=multiplyPhasors(_0x4f06f0,_0x3767bb);else _0x5bb66e={'re':0x0,'im':0x0};_0x3de456={'re':0x0,'im':0x0};}if(_0x5c6739['isOpen'])_0x5a765f={'re':0x0,'im':0x0};if(_0x4c25ca[_0x364cf4(0x1c0)])_0x1c427d={'re':0x0,'im':0x0};if(_0x4b1d7d[_0x364cf4(0x1c0)])_0x5bb66e={'re':0x0,'im':0x0};_0x28e666?_0x3de456=addPhasors(_0x5a765f,addPhasors(_0x1c427d,_0x5bb66e)):_0x3de456={'re':0x0,'im':0x0};if(isBlinkingWarning&&warningMessageText[_0x364cf4(0x290)](_0x364cf4(0x1c6))){}const _0x2323d1=subtractPhasors(_0x18385b,_0x47571e),_0x564993=subtractPhasors(_0x47571e,_0x30407a),_0xd167d5=subtractPhasors(_0x30407a,_0x18385b),_0x555204=rectToPolar(_0x2323d1['re'],_0x2323d1['im']),_0x439990=rectToPolar(_0x564993['re'],_0x564993['im']),_0x2bcd82=rectToPolar(_0xd167d5['re'],_0xd167d5['im']),_0x106a2b=!_0x5c6739[_0x364cf4(0x1c0)]&&!(isBlinkingWarning&&warningMessageText[_0x364cf4(0x290)](_0x364cf4(0x1c6)))?_0x551600:{'re':0x0,'im':0x0},_0x3045f7=!_0x4c25ca['isOpen']?_0x441a1f:{'re':0x0,'im':0x0},_0x5e1e86=!_0x4b1d7d['isOpen']?_0x4f06f0:{'re':0x0,'im':0x0},_0x1b17ae=rectToPolar(_0x106a2b['re'],_0x106a2b['im']),_0x2b04f5=rectToPolar(_0x3045f7['re'],_0x3045f7['im']),_0x1a309f=rectToPolar(_0x5e1e86['re'],_0x5e1e86['im']),_0x75a8b7=rectToPolar(_0x5a765f['re'],_0x5a765f['im']),_0x4ce33d=rectToPolar(_0x1c427d['re'],_0x1c427d['im']),_0x21a686=rectToPolar(_0x5bb66e['re'],_0x5bb66e['im']),_0x3803b3=rectToPolar(_0x3de456['re'],_0x3de456['im']),_0x20d39f=(_0x38e189,_0x387740,_0x261d00=0x2)=>{const _0x2efb9c=_0x364cf4;if(isNaN(_0x38e189)||!isFinite(_0x38e189))return _0x2efb9c(0x263)+_0x387740;if(_0x387740==='A'&&_0x38e189>0x270f)return _0x2efb9c(0x289);return _0x38e189[_0x2efb9c(0x248)](_0x261d00)+'\x20'+_0x387740;};displayCalculationValue(_0x5b7835,_0x364cf4(0x1cf)+_0x20d39f(_0x75a8b7[_0x364cf4(0x220)],'A'),_0x364cf4(0x20a)),displayCalculationValue(_0x1fb9ad,_0x364cf4(0x1de)+_0x20d39f(_0x4ce33d['mag'],'A'),_0x364cf4(0x20a)),displayCalculationValue(_0x21252d,'Ic\x20=\x20'+_0x20d39f(_0x21a686[_0x364cf4(0x220)],'A'),_0x364cf4(0x20a)),displayCalculationValue(_0x580ba3,_0x364cf4(0x24f)+_0x20d39f(_0x3803b3[_0x364cf4(0x220)],'A'),_0x364cf4(0x20a)),_0x19ca69[_0x364cf4(0x24b)](_0x364cf4(0x1ea)+_0x20d39f(_0x555204[_0x364cf4(0x220)],'V',0x1)),_0x5a10fd[_0x364cf4(0x24b)](_0x364cf4(0x214)+_0x20d39f(_0x439990[_0x364cf4(0x220)],'V',0x1)),_0x14b2ff[_0x364cf4(0x24b)](_0x364cf4(0x236)+_0x20d39f(_0x2bcd82[_0x364cf4(0x220)],'V',0x1)),_0x3bd52a['setText']('Ua\x20=\x20'+_0x20d39f(_0x1b17ae[_0x364cf4(0x220)],'V',0x1)),_0x41fe8c['setText']('Ub\x20=\x20'+_0x20d39f(_0x2b04f5['mag'],'V',0x1)),_0x1c6965['setText']('Uc\x20=\x20'+_0x20d39f(_0x1a309f[_0x364cf4(0x220)],'V',0x1));}function findElementByLabel(_0x2742e6){const _0xa78fac=_0x5179d7;for(const _0x27ebd7 of elements){if(_0x27ebd7[_0xa78fac(0x1ca)]===_0x2742e6)return _0x27ebd7;}if(_0x2742e6==='Uab\x20=')return elements[_0xa78fac(0x1ff)](_0x299538=>_0x299538 instanceof StaticTextDisplay&&_0x299538[_0xa78fac(0x1dd)][_0xa78fac(0x272)](_0xa78fac(0x1b6)));if(_0x2742e6==='Ubc\x20=')return elements[_0xa78fac(0x1ff)](_0x208681=>_0x208681 instanceof StaticTextDisplay&&_0x208681[_0xa78fac(0x1dd)][_0xa78fac(0x272)](_0xa78fac(0x227)));if(_0x2742e6===_0xa78fac(0x27b))return elements['find'](_0xcfe3cb=>_0xcfe3cb instanceof StaticTextDisplay&&_0xcfe3cb[_0xa78fac(0x1dd)][_0xa78fac(0x272)](_0xa78fac(0x27b)));if(_0x2742e6==='Ua\x20=')return elements['find'](_0x3edca6=>_0x3edca6 instanceof StaticTextDisplay&&_0x3edca6[_0xa78fac(0x1dd)][_0xa78fac(0x272)](_0xa78fac(0x1f6)));if(_0x2742e6===_0xa78fac(0x28e))return elements[_0xa78fac(0x1ff)](_0x593817=>_0x593817 instanceof StaticTextDisplay&&_0x593817[_0xa78fac(0x1dd)][_0xa78fac(0x272)](_0xa78fac(0x28e)));if(_0x2742e6===_0xa78fac(0x260))return elements[_0xa78fac(0x1ff)](_0x2094d2=>_0x2094d2 instanceof StaticTextDisplay&&_0x2094d2[_0xa78fac(0x1dd)][_0xa78fac(0x272)](_0xa78fac(0x260)));return null;}function displayCalculationValue(_0x1d0d6b,_0x2b6757,_0x30fbdf){const _0x2e584c=_0x5179d7;if(!_0x1d0d6b||typeof _0x1d0d6b['x']==='undefined'||typeof _0x1d0d6b['y']===_0x2e584c(0x212)){console['error'](_0x2e584c(0x25c),_0x1d0d6b);return;}push(),translate(_0x1d0d6b['x'],_0x1d0d6b['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x30fbdf===_0x2e584c(0x20a)?TOP:BOTTOM);let _0x2ce198=0x0;if(_0x1d0d6b instanceof CustomAmmeter||_0x1d0d6b instanceof Frequency)_0x2ce198=(_0x30fbdf===_0x2e584c(0x20a)?_0x1d0d6b['r']+0xa:-_0x1d0d6b['r']-0x19)*SCALE_FACTOR;else{if(_0x1d0d6b instanceof Phasemeter)_0x2ce198=(_0x30fbdf===_0x2e584c(0x20a)?_0x1d0d6b['r']+0xa:-_0x1d0d6b['r']-0x19)*SCALE_FACTOR;else{if(_0x1d0d6b instanceof Resistor)_0x2ce198=(_0x30fbdf===_0x2e584c(0x28c)?-_0x1d0d6b['h']/0x2-0xf:_0x1d0d6b['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x1d0d6b instanceof AutotransformerLaboratory)_0x2ce198=(_0x30fbdf===_0x2e584c(0x28c)?-_0x1d0d6b['h']/0x2-0x23:_0x1d0d6b['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x1d0d6b instanceof Induction)_0x2ce198=(_0x30fbdf===_0x2e584c(0x28c)?-_0x1d0d6b['h']/0x2-0xf:_0x1d0d6b['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x1d0d6b instanceof Capacity)_0x2ce198=(_0x30fbdf===_0x2e584c(0x28c)?-_0x1d0d6b['h']/0x2-0xf:_0x1d0d6b['h']/0x2+0x14)*SCALE_FACTOR;else _0x1d0d6b instanceof Lamp&&(_0x2ce198=(_0x30fbdf===_0x2e584c(0x28c)?-_0x1d0d6b['h']/0x2-0xf:_0x1d0d6b['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x2b6757,0x0,_0x2ce198),pop(),_0x1d0d6b[_0x2e584c(0x247)]=_0x2b6757;}function hideCalculationValues(){redraw(),elements['forEach'](_0x4aadb4=>{const _0x1ca0fe=_0x6800;_0x4aadb4[_0x1ca0fe(0x247)]=null;});}class CircuitElement{constructor(_0x1fb9f6,_0x19b74e){const _0x4459b7=_0x5179d7;this['x']=_0x1fb9f6,this['y']=_0x19b74e,this[_0x4459b7(0x1b9)]=0x1,this[_0x4459b7(0x1bd)]=[],this[_0x4459b7(0x240)]=![],this[_0x4459b7(0x209)]=null,this[_0x4459b7(0x247)]=null;}[_0x5179d7(0x1cb)](){}[_0x5179d7(0x23c)](){const _0x3a6226=_0x5179d7;push(),translate(this['x'],this['y']);let _0x34a4fa=0x0;switch(this['orientation']){case 0x2:_0x34a4fa=PI/0x2;break;case 0x3:_0x34a4fa=PI;break;case 0x4:_0x34a4fa=0x3*PI/0x2;break;default:_0x34a4fa=0x0;}rotate(_0x34a4fa);if(this[_0x3a6226(0x247)]!==null){stroke(_0x3a6226(0x1eb)),fill(_0x3a6226(0x231)),textSize(0xf*SCALE_FACTOR);let _0x2532c5=textWidth(this[_0x3a6226(0x247)]);rectMode(CENTER);let _0x5422f2=-0xa*SCALE_FACTOR,_0x5086f3=0x28*SCALE_FACTOR,_0x26e842=0x2*SCALE_FACTOR,_0x2f7632=0x2*SCALE_FACTOR;rect(_0x5422f2,_0x5086f3,_0x2532c5+_0x26e842*0x2,0x14*SCALE_FACTOR+_0x2f7632*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this['calculationDisplayValue'],_0x5422f2,_0x5086f3);}}[_0x5179d7(0x1d6)](){rotate(0x0),pop();}[_0x5179d7(0x274)](){const _0x2230e4=_0x5179d7;this[_0x2230e4(0x1bd)][_0x2230e4(0x204)](_0xeb850c=>{const _0x281f2e=_0x2230e4;_0xeb850c['x']=this['x']+cos(this[_0x281f2e(0x216)]())*_0xeb850c[_0x281f2e(0x22f)]-sin(this[_0x281f2e(0x216)]())*_0xeb850c[_0x281f2e(0x221)],_0xeb850c['y']=this['y']+sin(this['rotationAngle']())*_0xeb850c[_0x281f2e(0x22f)]+cos(this['rotationAngle']())*_0xeb850c[_0x281f2e(0x221)];});}[_0x5179d7(0x216)](){const _0x3c9fd3=_0x5179d7;switch(this[_0x3c9fd3(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x292723,_0x327015,_0x51a440){const _0x1d9705=_0x5179d7;super(_0x292723,_0x327015),this['r']=0x14*SCALE_FACTOR,this['label']=_0x51a440,this['voltage']='12',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x1d9705(0x1bd)][_0x1d9705(0x204)](_0x2b74a2=>{const _0xc9a2b7=_0x1d9705;_0x2b74a2[_0xc9a2b7(0x22f)]*=SCALE_FACTOR;}),this[_0x1d9705(0x288)]=![];}[_0x5179d7(0x200)](_0x145b10){const _0x100a79=_0x5179d7;_0x145b10[_0x100a79(0x284)](0x1*SCALE_FACTOR),_0x145b10[_0x100a79(0x275)](0x0),_0x145b10[_0x100a79(0x253)](0xff),_0x145b10[_0x100a79(0x211)](0x0,0x0,this['r']*1.5),_0x145b10[_0x100a79(0x1f5)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x145b10[_0x100a79(0x1f5)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x145b10[_0x100a79(0x1f5)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x145b10[_0x100a79(0x1cc)](),_0x145b10[_0x100a79(0x253)](0x0),_0x145b10[_0x100a79(0x26a)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x145b10[_0x100a79(0x1dd)](this[_0x100a79(0x1ca)],0x0,this['r']*1.3);}[_0x5179d7(0x23c)](){const _0x1ef691=_0x5179d7;super['display']();let _0x10b223=0x1*SCALE_FACTOR,_0x32048d=0x2*_0x10b223;this[_0x1ef691(0x288)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x32048d),fill(0xff)):(stroke(0x0),strokeWeight(_0x10b223),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x1ef691(0x288)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this['label'],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this[_0x1ef691(0x1f4)]+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x1ef691(0x1d6)](),this[_0x1ef691(0x274)]();}[_0x5179d7(0x216)](){const _0x257c19=_0x5179d7;switch(this[_0x257c19(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x160f1c,_0x1dadf7,_0x4f968a){const _0x1d5edd=_0x5179d7;super(_0x160f1c,_0x1dadf7),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x1d5edd(0x1ca)]=_0x4f968a,this[_0x1d5edd(0x1d2)]=_0x1d5edd(0x233),this['voltageDrop']=0x0,this[_0x1d5edd(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x1d5edd(0x1bd)][_0x1d5edd(0x204)](_0x4b2cd0=>{const _0x22ade5=_0x1d5edd;_0x4b2cd0[_0x22ade5(0x22f)]*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0xf3c595){const _0x6e21db=_0x5179d7;_0xf3c595[_0x6e21db(0x284)](0x1*SCALE_FACTOR),_0xf3c595[_0x6e21db(0x275)](0x0),_0xf3c595[_0x6e21db(0x253)](0xc8,0x96,0x64),_0xf3c595['rectMode'](CENTER),_0xf3c595['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0xf3c595[_0x6e21db(0x1cc)](),_0xf3c595[_0x6e21db(0x253)](0x0),_0xf3c595['textAlign'](CENTER,CENTER),_0xf3c595[_0x6e21db(0x1fe)](0x8*SCALE_FACTOR),_0xf3c595[_0x6e21db(0x1dd)](this['label'],0x0,0x0);}['display'](){const _0x3b7a67=_0x5179d7;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x3b7a67(0x1ca)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x3b7a67(0x1d2)]+_0x3b7a67(0x1da),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super[_0x3b7a67(0x1d6)](),this[_0x3b7a67(0x274)]();}['updateConnectors'](){const _0x50e9e4=_0x5179d7;this[_0x50e9e4(0x1bd)][_0x50e9e4(0x204)](_0x41ccdb=>{const _0x4e8c0e=_0x50e9e4;_0x41ccdb['x']=this['x']+cos(this[_0x4e8c0e(0x216)]())*_0x41ccdb[_0x4e8c0e(0x22f)]-sin(this['rotationAngle']())*_0x41ccdb['originalY'],_0x41ccdb['y']=this['y']+sin(this[_0x4e8c0e(0x216)]())*_0x41ccdb['originalX']+cos(this[_0x4e8c0e(0x216)]())*_0x41ccdb[_0x4e8c0e(0x221)];});}[_0x5179d7(0x216)](){const _0x4c0976=_0x5179d7;switch(this[_0x4c0976(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x56fdf6,_0x2b2490,_0x4b97d3){const _0x160093=_0x5179d7;super(_0x56fdf6,_0x2b2490),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x160093(0x28a)](this['w'],this['h'])/0x2,this['label']=_0x4b97d3,this[_0x160093(0x1d9)]='10',this[_0x160093(0x23f)]=!![],this[_0x160093(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x160093(0x1bd)][_0x160093(0x204)](_0x4eeebe=>{const _0x3aa2e4=_0x160093;_0x4eeebe[_0x3aa2e4(0x22f)]*=SCALE_FACTOR;});}[_0x5179d7(0x282)](_0x52f428){const _0xd8fd27=_0x5179d7;if(_0x52f428===this[_0xd8fd27(0x23f)])return;this['isVisible']=_0x52f428,redraw();}['displayPalette'](_0x235db5){const _0x3e465c=_0x5179d7;_0x235db5[_0x3e465c(0x284)](0x1*SCALE_FACTOR),_0x235db5[_0x3e465c(0x275)](0x0),_0x235db5[_0x3e465c(0x1f5)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x235db5[_0x3e465c(0x1f5)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x235db5['line'](this['w']/0x5,0x0,this['w'],0x0),_0x235db5[_0x3e465c(0x1f5)](-this['w']/0x5,0x0,-this['w'],0x0),_0x235db5[_0x3e465c(0x1cc)](),_0x235db5[_0x3e465c(0x253)](0x0),_0x235db5['textAlign'](CENTER,CENTER),_0x235db5[_0x3e465c(0x1fe)](0x8*SCALE_FACTOR),_0x235db5[_0x3e465c(0x1dd)](this['label'],-this['w']/0x2,-this['h']*0.5);}[_0x5179d7(0x23c)](){const _0x170d80=_0x5179d7;if(!this[_0x170d80(0x23f)])return;super[_0x170d80(0x23c)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x170d80(0x1ca)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x170d80(0x1d9)]+_0x170d80(0x22c),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x170d80(0x1d6)](),this[_0x170d80(0x274)]();}['updateConnectors'](){const _0x162a6e=_0x5179d7;this['connectors'][_0x162a6e(0x204)](_0x90bcbe=>{const _0x15066d=_0x162a6e;_0x90bcbe['x']=this['x']+cos(this[_0x15066d(0x216)]())*_0x90bcbe['originalX']-sin(this[_0x15066d(0x216)]())*_0x90bcbe['originalY'],_0x90bcbe['y']=this['y']+sin(this[_0x15066d(0x216)]())*_0x90bcbe[_0x15066d(0x22f)]+cos(this[_0x15066d(0x216)]())*_0x90bcbe[_0x15066d(0x221)];});}[_0x5179d7(0x216)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}function _0x1127(){const _0x3fbf5e=['paletteIndex','pop','SwitchSPDT','48gljMQr','palette-element','textAlign','drawingContext','setLineDash','waveformColorCurrent','SA4','voltageAmplitude','elementType','SA12','startsWith','induction','updateConnectors','stroke','clear',',\x20HLG1\x20visible:\x20','current','440','width','Uca\x20=','Toggle\x20Visibility\x20Button\x20Clicked!','getClickedLampIndex','addEventListener','phaseAngleDeg','drawWaveforms','getElementById','setVisibility','cos','strokeWeight','CustomAmmeter','innerHTML','elementOrientation','isActive','>9999\x20A','max','1284IEikNf','top','innerWidth','Ub\x20=','arc','includes','Switch\x20','waveformColorVoltage','length','div','setEnabled','add','offsetY','Uab\x20=','HLG3','tapPosition','orientation','P:\x20','#4CAF50','SA11','connectors','powerPerLamp','abs','isOpen','rectMode','PA3','placed','1801977vNNdIb','targetY','Коротке\x20замикання','\x20\x20мГн','round','voltageDrop','label','update','noStroke','triangle','lampSpacing','Ia\x20=\x20','PA2','splice','resistance','elementLabel','SA21','calculateTotalPower','postDisplay','Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!','angle','capacity','\x20Ом','isC1CurrentlyVisible\x20is\x20now:','sin','text','Ib\x20=\x20','noFill','Л\x20А\x20Т\x20Р','PA4','blue','\x20Гц','lampRadius','error','1027806tFIfda','Повернути\x20\x0a\x20навантаження','power','state','Uab\x20=\x20','lightgray','log','targetX','Uca\x20=\x20---\x20V','userAgent','Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.','Відстань\x20до\x20точки:\x20','frequencyHz','updateWaveform','voltage','line','Ua\x20=','remove','boolean','green','Напруга','random','click','lamps','textSize','find','displayPalette','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','45hTHEml','test','forEach','currentAmplitude','translate','11AOxvEC','Ubc\x20=\x20---\x20V','placedElementData','bottom','Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.','PA1','Переключити\x20на\x20\x0a\x20конденсатор','classList','Capacity','textContent','circle','undefined','angleMode','Ubc\x20=\x20','GroupLamp','rotationAngle','Induction','Струм','frequency','Resistor','rect','30211uDLeiK','height','type','Потрібно\x20поставити\x20елементів:\x20','mag','originalY','7787gMZvSV','Схему\x20зібрано!','SA1','lightcyan','sqrt','Ubc\x20=','Switch','offsetX','Frequency','appendChild','\x20мкФ','14LnPRoI','\x20Вт','originalX','Uc\x20=\x20---\x20V','240','21132ezobjc','100','floor','currentTarget','Uca\x20=\x20','SA31','4phbRzT',',\x20HLG1=','lightyellow','Введіть\x20ємність\x20для\x20','display','SA3','Set\x20C1\x20visible:\x20','isVisible','isDragging','updateConnectorPositions','Ua\x20=\x20---\x20V','dataset','toggleState','10562524dxKiFB','ang','calculationDisplayValue','toFixed','isFixed','palette','setText','11635180lYfGCw','Initial\x20visibility\x20set:\x20C1=','Дослідні\x20дані','In\x20=\x20','push','\x20toggled.\x20Now\x20isOpen:\x20','Введіть\x20частоту\x20для\x20','fill','show','function','SA2','Нейтральний\x20провід\x20відімкнуто!','HLG1','_previousLampStates','numLamps','orange','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','HLG2','total_power','Введіть\x20індуктивність\x20для\x20','Uc\x20=','createElement','lightgreen','---\x20','isEnabled'];_0x1127=function(){return _0x3fbf5e;};return _0x1127();}class Frequency extends CircuitElement{constructor(_0x43feac,_0xf503c4,_0x824e9b){const _0x252748=_0x5179d7;super(_0x43feac,_0xf503c4),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this[_0x252748(0x1ca)]=_0x824e9b,this[_0x252748(0x219)]='50',this[_0x252748(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x252748(0x1bd)][_0x252748(0x204)](_0xad8ebd=>{const _0x1ae035=_0x252748;_0xad8ebd[_0x1ae035(0x22f)]*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0x195456){const _0x28921f=_0x5179d7;_0x195456['strokeWeight'](0x1*SCALE_FACTOR),_0x195456[_0x28921f(0x275)](0x0),_0x195456[_0x28921f(0x253)](0xdc),_0x195456[_0x28921f(0x211)](0x0,0x0,this['r']*1.5),_0x195456[_0x28921f(0x1cc)](),_0x195456[_0x28921f(0x253)](0x0),_0x195456['textAlign'](CENTER,CENTER),_0x195456[_0x28921f(0x1fe)](0x8*SCALE_FACTOR),_0x195456['text'](this[_0x28921f(0x1ca)],this['r']*0.6,this['r']*1.3);}[_0x5179d7(0x23c)](){const _0x488aa5=_0x5179d7;super[_0x488aa5(0x23c)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x488aa5(0x219)]+_0x488aa5(0x1e3),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x488aa5(0x1d6)](),this['updateConnectors']();}[_0x5179d7(0x274)](){const _0x3d6658=_0x5179d7;this[_0x3d6658(0x1bd)]['forEach'](_0x2bc48d=>{const _0x405ed1=_0x3d6658;_0x2bc48d['x']=this['x']+cos(this[_0x405ed1(0x216)]())*_0x2bc48d[_0x405ed1(0x22f)]-sin(this[_0x405ed1(0x216)]())*_0x2bc48d[_0x405ed1(0x221)],_0x2bc48d['y']=this['y']+sin(this[_0x405ed1(0x216)]())*_0x2bc48d[_0x405ed1(0x22f)]+cos(this['rotationAngle']())*_0x2bc48d[_0x405ed1(0x221)];});}['rotationAngle'](){const _0x31af4e=_0x5179d7;switch(this[_0x31af4e(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x1d2d11,_0x28841b,_0x544658){const _0x12e1c1=_0x5179d7;super(_0x1d2d11,_0x28841b),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x12e1c1(0x1ca)]=_0x544658,this[_0x12e1c1(0x273)]=_0x12e1c1(0x279),this[_0x12e1c1(0x1c9)]=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x12e1c1(0x1bd)][_0x12e1c1(0x204)](_0x23f572=>{const _0x50c9c8=_0x12e1c1;_0x23f572[_0x50c9c8(0x22f)]*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0x4cc1d6){const _0x20c0a6=_0x5179d7;_0x4cc1d6[_0x20c0a6(0x284)](0x1*SCALE_FACTOR),_0x4cc1d6[_0x20c0a6(0x275)](0x0);let _0x1b336f=this['h']*0.25,_0xf6d2=this['w']*0.6,_0x87e651=-_0xf6d2/0x2,_0x3f5403=0x0,_0x6f9b08=_0xf6d2/0x3;_0x4cc1d6['noFill']();const _0x3876a8=0x3;for(let _0x3088d1=0x0;_0x3088d1<_0x3876a8;_0x3088d1++){let _0x2ac459=_0x87e651+_0x3088d1*_0x6f9b08;_0x4cc1d6[_0x20c0a6(0x28f)](_0x2ac459+_0x6f9b08/0x2,_0x3f5403,_0x6f9b08,_0x1b336f,PI,0x0);}_0x4cc1d6[_0x20c0a6(0x1f5)](_0x87e651,0x0,_0x87e651-0xa,0x0),_0x4cc1d6[_0x20c0a6(0x1f5)](_0xf6d2/0x2,0x0,_0xf6d2/0x2+0xa,0x0),_0x4cc1d6[_0x20c0a6(0x1cc)](),_0x4cc1d6[_0x20c0a6(0x253)](0x0),_0x4cc1d6[_0x20c0a6(0x26a)](CENTER,CENTER),_0x4cc1d6[_0x20c0a6(0x1fe)](0x8*SCALE_FACTOR),_0x4cc1d6['text'](this[_0x20c0a6(0x1ca)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x5179d7(0x23c)](){const _0x34513d=_0x5179d7;super[_0x34513d(0x23c)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x18147f=this['h']*0.25,_0x26c86c=this['w']*0.6,_0x32d76e=-_0x26c86c/0x2,_0x1e2d61=0x0,_0x5d575b=_0x26c86c/0x3;noFill();const _0x2febea=0x3;for(let _0xd4292e=0x0;_0xd4292e<_0x2febea;_0xd4292e++){let _0x230278=_0x32d76e+_0xd4292e*_0x5d575b;arc(_0x230278+_0x5d575b/0x2,_0x1e2d61,_0x5d575b,_0x18147f,PI,0x0);}line(_0x32d76e,0x0,_0x32d76e-_0x26c86c/0x3,0x0),line(_0x26c86c/0x2,0x0,_0x26c86c*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x34513d(0x1ca)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['induction']+_0x34513d(0x1c7),0x0,this['h']/0xa)),super['postDisplay'](),this['updateConnectors']();}[_0x5179d7(0x274)](){const _0x102244=_0x5179d7;this['connectors'][_0x102244(0x204)](_0x35b0f8=>{const _0x1737fd=_0x102244;_0x35b0f8['x']=this['x']+cos(this['rotationAngle']())*_0x35b0f8[_0x1737fd(0x22f)]-sin(this['rotationAngle']())*_0x35b0f8[_0x1737fd(0x221)],_0x35b0f8['y']=this['y']+sin(this['rotationAngle']())*_0x35b0f8['originalX']+cos(this[_0x1737fd(0x216)]())*_0x35b0f8[_0x1737fd(0x221)];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x28ef94,_0x3d9bc1,_0x323438){const _0x116430=_0x5179d7;super(_0x28ef94,_0x3d9bc1),this['r']=0x11*SCALE_FACTOR,this[_0x116430(0x1ca)]=_0x323438,this[_0x116430(0x278)]=0x0,this[_0x116430(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x116430(0x204)](_0x19d5c8=>{const _0x5488fa=_0x116430;_0x19d5c8[_0x5488fa(0x22f)]*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0x5354e1){const _0xf8c287=_0x5179d7;_0x5354e1[_0xf8c287(0x284)](0x1*SCALE_FACTOR),_0x5354e1['stroke'](0x0),_0x5354e1[_0xf8c287(0x253)](0xdc),_0x5354e1['circle'](0x0,0x0,this['r']*1.5),_0x5354e1[_0xf8c287(0x1cc)](),_0x5354e1['fill'](0x0),_0x5354e1['textAlign'](CENTER,CENTER),_0x5354e1[_0xf8c287(0x1fe)](0x8*SCALE_FACTOR),_0x5354e1[_0xf8c287(0x1dd)](this[_0xf8c287(0x1ca)],this['r']*0.6,this['r']*1.3);}[_0x5179d7(0x23c)](){const _0x2be5bc=_0x5179d7;super[_0x2be5bc(0x23c)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),super[_0x2be5bc(0x1d6)](),this[_0x2be5bc(0x274)]();}['updateConnectors'](){const _0x552416=_0x5179d7;this[_0x552416(0x1bd)][_0x552416(0x204)](_0x4dcb0d=>{const _0x25b0e9=_0x552416;_0x4dcb0d['x']=this['x']+cos(this[_0x25b0e9(0x216)]())*_0x4dcb0d[_0x25b0e9(0x22f)]-sin(this['rotationAngle']())*_0x4dcb0d[_0x25b0e9(0x221)],_0x4dcb0d['y']=this['y']+sin(this[_0x25b0e9(0x216)]())*_0x4dcb0d['originalX']+cos(this['rotationAngle']())*_0x4dcb0d[_0x25b0e9(0x221)];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x476e16,_0xec46bd,_0x33fd16){const _0x386827=_0x5179d7;super(_0x476e16,_0xec46bd),this['r']=0x11*SCALE_FACTOR,this[_0x386827(0x1ca)]=_0x33fd16,this['phase']=0x0,this[_0x386827(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x386827(0x204)](_0x5979e4=>{_0x5979e4['originalX']*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0x1d8090){const _0x2b5a42=_0x5179d7;_0x1d8090[_0x2b5a42(0x284)](0x1*SCALE_FACTOR),_0x1d8090['stroke'](0x0),_0x1d8090[_0x2b5a42(0x253)](0xdc),_0x1d8090[_0x2b5a42(0x211)](0x0,0x0,this['r']*0x1);const _0x65a1cf=0.8;_0x1d8090[_0x2b5a42(0x1f5)](-this['r']*_0x65a1cf,0x0,this['r']*_0x65a1cf,0x0),_0x1d8090[_0x2b5a42(0x1f5)](0x0,-this['r']*_0x65a1cf,0x0,this['r']*_0x65a1cf),_0x1d8090[_0x2b5a42(0x1f5)](0x0,-this['r']*_0x65a1cf,-this['r']*_0x65a1cf,-this['r']*_0x65a1cf),_0x1d8090[_0x2b5a42(0x1f5)](-this['r']*_0x65a1cf,-this['r']*_0x65a1cf,-this['r']*_0x65a1cf,0x0),_0x1d8090[_0x2b5a42(0x253)](0x0),_0x1d8090[_0x2b5a42(0x211)](0x0,this['r']*_0x65a1cf,this['r']*0.2),_0x1d8090[_0x2b5a42(0x211)](-this['r']*_0x65a1cf,0x0,this['r']*0.2),_0x1d8090[_0x2b5a42(0x211)](0x0,-this['r']*_0x65a1cf,this['r']*0.2),_0x1d8090[_0x2b5a42(0x1cc)](),_0x1d8090[_0x2b5a42(0x253)](0x0),_0x1d8090['textAlign'](CENTER,CENTER),_0x1d8090['textSize'](0xa*SCALE_FACTOR),_0x1d8090['text'](this[_0x2b5a42(0x1ca)],this['r']*_0x65a1cf,-this['r']*_0x65a1cf);}[_0x5179d7(0x23c)](){const _0x10c232=_0x5179d7;super[_0x10c232(0x23c)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this[_0x10c232(0x1ca)],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x10c232(0x1d6)](),this['updateConnectors']();}[_0x5179d7(0x274)](){const _0x23000f=_0x5179d7;this[_0x23000f(0x1bd)][_0x23000f(0x204)](_0x1f5aba=>{const _0x368311=_0x23000f;_0x1f5aba['x']=this['x']+cos(this['rotationAngle']())*_0x1f5aba[_0x368311(0x22f)]-sin(this[_0x368311(0x216)]())*_0x1f5aba[_0x368311(0x221)],_0x1f5aba['y']=this['y']+sin(this[_0x368311(0x216)]())*_0x1f5aba[_0x368311(0x22f)]+cos(this[_0x368311(0x216)]())*_0x1f5aba['originalY'];});}[_0x5179d7(0x216)](){const _0x41d1be=_0x5179d7;switch(this[_0x41d1be(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x3262a7,_0x33c381,_0x3d497c=''){const _0x2e2faa=_0x5179d7;super(_0x3262a7,_0x33c381),this['r']=0x14*SCALE_FACTOR,this[_0x2e2faa(0x1ca)]=_0x3d497c,this['angleMode']=0x3,this['connectors']=this['updateConnectorPositions']();}[_0x5179d7(0x241)](){const _0x4dffbd=_0x5179d7;let _0x508a51=[];switch(this[_0x4dffbd(0x213)]){case 0x1:_0x508a51=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x508a51=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x508a51=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x508a51=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x508a51=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x508a51[_0x4dffbd(0x204)](_0x2f902d=>{const _0x55017c=_0x4dffbd;_0x2f902d['originalX']*=SCALE_FACTOR,_0x2f902d[_0x55017c(0x221)]*=SCALE_FACTOR;}),_0x508a51;}[_0x5179d7(0x200)](_0x64985b){const _0x1207b6=_0x5179d7;_0x64985b[_0x1207b6(0x284)](1.5*SCALE_FACTOR),_0x64985b['stroke'](0x0);let _0x4641b5=this['r']*0.75;_0x64985b[_0x1207b6(0x1f5)](0x0,-_0x4641b5,0x0,_0x4641b5),_0x64985b[_0x1207b6(0x1f5)](-_0x4641b5,0x0,_0x4641b5,0x0);}[_0x5179d7(0x23c)](){const _0x4299f8=_0x5179d7;super['display'](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x22225d=this['r']*1.5;switch(this[_0x4299f8(0x213)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x22225d,0x0,0x0),line(-_0x22225d,0x0,_0x22225d,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4299f8(0x1ca)],0x0,_0x22225d+0x5*SCALE_FACTOR),super[_0x4299f8(0x1d6)](),this[_0x4299f8(0x274)]();}[_0x5179d7(0x1cb)](){const _0x488370=_0x5179d7;this[_0x488370(0x213)]=Math[_0x488370(0x1c8)](this[_0x488370(0x1d8)]),this[_0x488370(0x1bd)]=this['updateConnectorPositions']();}[_0x5179d7(0x274)](){const _0x3078f2=_0x5179d7;this['connectors'][_0x3078f2(0x204)](_0x1c6f1c=>{const _0x4bdae9=_0x3078f2;_0x1c6f1c['x']=this['x']+cos(this[_0x4bdae9(0x216)]())*_0x1c6f1c[_0x4bdae9(0x22f)]-sin(this['rotationAngle']())*_0x1c6f1c[_0x4bdae9(0x221)],_0x1c6f1c['y']=this['y']+sin(this['rotationAngle']())*_0x1c6f1c['originalX']+cos(this[_0x4bdae9(0x216)]())*_0x1c6f1c[_0x4bdae9(0x221)];});}[_0x5179d7(0x216)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x512a59,_0x2c73f0,_0x3b7e19){const _0x32c3e4=_0x5179d7;super(_0x512a59,_0x2c73f0),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x32c3e4(0x1ca)]=_0x3b7e19,this[_0x32c3e4(0x1e9)]=0x2,this[_0x32c3e4(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x32c3e4(0x1bd)]['forEach'](_0x19e721=>{const _0x518577=_0x32c3e4;_0x19e721[_0x518577(0x22f)]*=SCALE_FACTOR,_0x19e721[_0x518577(0x221)]*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0x40fe1f){const _0x51cf74=_0x5179d7;_0x40fe1f['strokeWeight'](1.5*SCALE_FACTOR),_0x40fe1f[_0x51cf74(0x275)](0x0),_0x40fe1f[_0x51cf74(0x1df)](),_0x40fe1f['rectMode'](CENTER),_0x40fe1f[_0x51cf74(0x21b)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x40fe1f['line'](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x40fe1f[_0x51cf74(0x1f5)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x40fe1f['line'](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x40fe1f[_0x51cf74(0x1f5)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x40fe1f[_0x51cf74(0x1cc)](),_0x40fe1f[_0x51cf74(0x253)](0x0),_0x40fe1f[_0x51cf74(0x26a)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x40fe1f[_0x51cf74(0x1dd)](this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x225402=_0x5179d7;super[_0x225402(0x23c)](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this['state']===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this['state']===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this[_0x225402(0x1e9)]===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x225402(0x1ca)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x225402(0x1d6)](),this[_0x225402(0x274)]();}[_0x5179d7(0x244)](){const _0x37859d=_0x5179d7;this['state']=this[_0x37859d(0x1e9)]===0x1?0x2:0x1;if(this[_0x37859d(0x1ca)]===_0x37859d(0x224)){let _0x3daf07=findElementByLabel('E1');_0x3daf07&&(_0x3daf07['isActive']=this['state']===0x2);}else{if(this[_0x37859d(0x1ca)]==='SA2'){let _0x320f3f=findElementByLabel('E2');_0x320f3f&&(_0x320f3f[_0x37859d(0x288)]=this[_0x37859d(0x1e9)]===0x1);}}redraw(),calculateCircuit();}[_0x5179d7(0x274)](){const _0x4e379b=_0x5179d7;this['connectors'][_0x4e379b(0x204)](_0x19cc38=>{const _0x603cfc=_0x4e379b;_0x19cc38['x']=this['x']+cos(this[_0x603cfc(0x216)]())*_0x19cc38[_0x603cfc(0x22f)]-sin(this[_0x603cfc(0x216)]())*_0x19cc38[_0x603cfc(0x221)],_0x19cc38['y']=this['y']+sin(this['rotationAngle']())*_0x19cc38[_0x603cfc(0x22f)]+cos(this['rotationAngle']())*_0x19cc38['originalY'];});}[_0x5179d7(0x216)](){const _0x3b685c=_0x5179d7;switch(this[_0x3b685c(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x232781,_0x322e59,_0x3418d6){const _0x54b827=_0x5179d7;super(_0x232781,_0x322e59),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x54b827(0x1ca)]=_0x3418d6,this[_0x54b827(0x1c0)]=!![],this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x54b827(0x1bd)][_0x54b827(0x204)](_0x2b2fd8=>{const _0x49b25b=_0x54b827;_0x2b2fd8[_0x49b25b(0x22f)]*=SCALE_FACTOR;});}[_0x5179d7(0x200)](_0x190d49){const _0x3cadf8=_0x5179d7;_0x190d49[_0x3cadf8(0x284)](1.5*SCALE_FACTOR),_0x190d49['stroke'](0x0),_0x190d49['line'](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x190d49['line'](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x190d49[_0x3cadf8(0x1f5)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x190d49['noFill'](),_0x190d49[_0x3cadf8(0x1c1)](CENTER),_0x190d49[_0x3cadf8(0x21b)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x190d49['noStroke'](),_0x190d49[_0x3cadf8(0x253)](0x0),_0x190d49[_0x3cadf8(0x26a)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x190d49[_0x3cadf8(0x1dd)](this[_0x3cadf8(0x1ca)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x5179d7(0x23c)](){const _0x567ec5=_0x5179d7;super[_0x567ec5(0x23c)](),strokeWeight(1.5*SCALE_FACTOR),this[_0x567ec5(0x1c0)]?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x567ec5(0x1c0)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x567ec5(0x1ca)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x567ec5(0x1d6)](),this[_0x567ec5(0x274)]();}[_0x5179d7(0x244)](){const _0x33c636=_0x5179d7;this[_0x33c636(0x1c0)]=!this[_0x33c636(0x1c0)],console[_0x33c636(0x1ec)](_0x33c636(0x1af)+this[_0x33c636(0x1ca)]+_0x33c636(0x251)+this['isOpen']),updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0x5179d7(0x274)](){const _0x4da2ad=_0x5179d7;this[_0x4da2ad(0x1bd)][_0x4da2ad(0x204)](_0x3820b0=>{const _0x2ce9c1=_0x4da2ad;_0x3820b0['x']=this['x']+cos(this[_0x2ce9c1(0x216)]())*_0x3820b0['originalX']-sin(this[_0x2ce9c1(0x216)]())*_0x3820b0[_0x2ce9c1(0x221)],_0x3820b0['y']=this['y']+sin(this[_0x2ce9c1(0x216)]())*_0x3820b0['originalX']+cos(this['rotationAngle']())*_0x3820b0[_0x2ce9c1(0x221)];});}[_0x5179d7(0x216)](){const _0x225cc7=_0x5179d7;switch(this[_0x225cc7(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x44affe,_0x19ceda,_0x165761){this['x']=_0x44affe,this['y']=_0x19ceda,this['text']=_0x165761;}[_0x5179d7(0x24b)](_0x2e6097){this['text']=_0x2e6097;}[_0x5179d7(0x23c)](){const _0x42c763=_0x5179d7;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x42c763(0x1eb)),fill(_0x42c763(0x231)),textSize(0xf*SCALE_FACTOR);let _0x17fea1=textWidth(this[_0x42c763(0x1dd)]);rectMode(CENTER);let _0x22c686=0x0,_0x3af513=0x0,_0x4fbf7e=0x2*SCALE_FACTOR,_0x741a5c=0x2*SCALE_FACTOR;this[_0x42c763(0x1dd)]&&rect(_0x22c686,_0x3af513,_0x17fea1+_0x4fbf7e*0x2,0x14*SCALE_FACTOR+_0x741a5c*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this['text'],_0x22c686,_0x3af513),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x523bcf,_0x1f98e4,_0x3301f6){const _0x4833df=_0x5179d7;super(_0x523bcf,_0x1f98e4),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x4833df(0x28a)](this['w'],this['h'])/0x2,this[_0x4833df(0x1ca)]=_0x3301f6,this[_0x4833df(0x1b8)]=0.5,this['voltage']='50',this[_0x4833df(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}[_0x5179d7(0x23c)](){const _0x487919=_0x5179d7;super[_0x487919(0x23c)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x1056a5=this['h'],_0x1481d7=this['w'];let _0x434712=_0x1056a5*1.2,_0x4b879e=_0x1481d7*0.35,_0x54d293=-_0x434712/0x2,_0x5f179b=_0x434712/0x2,_0x37fe3d=-_0x1481d7*0.1;drawingContext[_0x487919(0x26c)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x37fe3d-_0x4b879e,-_0x1056a5*1.4,_0x4b879e*0x2,2.8*_0x1056a5),drawingContext[_0x487919(0x26c)]([]),noFill();const _0xad8dfa=0x3,_0x396fc0=_0x434712/_0xad8dfa;for(let _0x57e056=0x0;_0x57e056<_0xad8dfa;_0x57e056++){let _0x223e4b=_0x54d293+_0x57e056*_0x396fc0;arc(_0x37fe3d-_0x1056a5/0xa*2.2,_0x223e4b+_0x396fc0/0x2,_0x4b879e,_0x396fc0,-PI/0x2,PI/0x2);}line(_0x37fe3d-_0x4b879e/0x2-0x3,_0x54d293-_0x1056a5/0xa,_0x37fe3d-_0x4b879e/0x2-0x3,_0x54d293),line(_0x37fe3d-_0x4b879e/0x2-0x3,_0x54d293-_0x1056a5/0xa,_0x37fe3d-_0x4b879e*1.5,_0x54d293-_0x1056a5/0xa),line(_0x37fe3d-_0x4b879e/0x2-0x3,_0x5f179b,_0x37fe3d-_0x4b879e/0x2-0x3,_0x5f179b+_0x1056a5*0.4),line(_0x37fe3d-_0x4b879e*1.5,_0x5f179b+_0x1056a5*0.4,_0x37fe3d-_0x4b879e/0x2-0x3,_0x5f179b+_0x1056a5*0.4);let _0x2f9762=lerp(_0x54d293,_0x5f179b,this['tapPosition']);line(_0x37fe3d+_0x4b879e/0x3,_0x2f9762,_0x37fe3d+_0x4b879e/0x4+0x19*SCALE_FACTOR,_0x2f9762),fill(0x0),triangle(_0x1056a5/0x14,-_0x1056a5/0x14,-_0x1056a5/0xa,0x0,_0x1056a5/0x14,_0x1056a5/0x14),circle(_0x37fe3d-_0x4b879e/0x2-0x3,_0x5f179b+_0x1056a5*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x487919(0x1e0),-_0x1481d7/0xa,-_0x1056a5*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x487919(0x1f4)]+'\x20В',-_0x1481d7/0xa,_0x1056a5*1.6),super[_0x487919(0x1d6)]();}[_0x5179d7(0x200)](_0x4a1dbc){const _0x3d8609=_0x5179d7;_0x4a1dbc['strokeWeight'](0x1*SCALE_FACTOR),_0x4a1dbc[_0x3d8609(0x275)](0x0);let _0x34735a=this['h']*0.6,_0x3d98d9=this['w']*0.25,_0x230f19=-_0x34735a/0x2,_0x22cec9=_0x34735a/0x2,_0x414777=-this['w']*0.1;_0x4a1dbc[_0x3d8609(0x26b)][_0x3d8609(0x26c)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x4a1dbc[_0x3d8609(0x21b)](_0x414777-_0x3d98d9,_0x230f19-_0x34735a/0x2,_0x3d98d9+0xf,_0x34735a*0x2),_0x4a1dbc[_0x3d8609(0x26b)][_0x3d8609(0x26c)]([]),_0x4a1dbc[_0x3d8609(0x1df)]();const _0x2b2219=0x3,_0x5884bc=_0x34735a/_0x2b2219;for(let _0x352715=0x0;_0x352715<_0x2b2219;_0x352715++){let _0x9c2816=_0x230f19+_0x352715*_0x5884bc;_0x4a1dbc['arc'](_0x414777-0xf,_0x9c2816+_0x5884bc/0x2,_0x3d98d9,_0x5884bc,-PI/0x2,PI/0x2);}_0x4a1dbc[_0x3d8609(0x1f5)](_0x414777-_0x3d98d9/0x2-0x3,_0x230f19-0xa,_0x414777-_0x3d98d9/0x2-0x3,_0x230f19),_0x4a1dbc[_0x3d8609(0x1f5)](_0x414777-_0x3d98d9/0x2-0x3,_0x230f19-0xa,_0x414777-_0x3d98d9*1.5,_0x230f19-0xa),_0x4a1dbc[_0x3d8609(0x1f5)](_0x414777-_0x3d98d9/0x2-0x3,_0x22cec9,_0x414777-_0x3d98d9/0x2-0x3,_0x22cec9+0xa),_0x4a1dbc[_0x3d8609(0x1f5)](_0x414777-_0x3d98d9*1.5,_0x22cec9+0xa,_0x414777-_0x3d98d9/0x2-0x3,_0x22cec9+0xa);let _0x41c695=lerp(_0x230f19,_0x22cec9,this[_0x3d8609(0x1b8)]);_0x4a1dbc[_0x3d8609(0x1f5)](_0x414777+_0x3d98d9/0x4,_0x41c695,_0x414777+_0x3d98d9/0x4+0xc*SCALE_FACTOR,_0x41c695),_0x4a1dbc[_0x3d8609(0x253)](0x0),_0x4a1dbc[_0x3d8609(0x1cd)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x4a1dbc[_0x3d8609(0x253)](0x0),_0x4a1dbc[_0x3d8609(0x1cc)](),_0x4a1dbc[_0x3d8609(0x1fe)](0xa*SCALE_FACTOR),_0x4a1dbc[_0x3d8609(0x26a)](CENTER,BOTTOM),_0x4a1dbc['text'](_0x3d8609(0x1e0),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x201c57,_0x29e46c,_0x5cf555,_0xcdf2f3){const _0x1dfb06=_0x5179d7;super(_0x201c57,_0x29e46c),this[_0x1dfb06(0x27a)]=_0x5cf555,this[_0x1dfb06(0x21d)]=_0xcdf2f3,this[_0x1dfb06(0x26d)]=color(0x0,0xff,0x0),this[_0x1dfb06(0x1b0)]=color(0x0,0x94,0xff),this[_0x1dfb06(0x205)]=0x0,this[_0x1dfb06(0x26f)]=0x0,this[_0x1dfb06(0x1f2)]=0x32,this[_0x1dfb06(0x27f)]=0x0;}[_0x5179d7(0x1f3)](_0x44f666,_0x291fe3,_0x75d118,_0x20bada){const _0xce0139=_0x5179d7;this['currentAmplitude']=_0x44f666,this[_0xce0139(0x26f)]=_0x291fe3,this[_0xce0139(0x1f2)]=_0x75d118,this[_0xce0139(0x27f)]=_0x20bada;}['display'](){const _0x49869b=_0x5179d7;push(),translate(this['x'],this['y']),stroke(_0x49869b(0x1eb)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x49869b(0x27a)],this[_0x49869b(0x21d)]),drawingContext['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this[_0x49869b(0x21d)]/0x2,this[_0x49869b(0x27a)],this[_0x49869b(0x21d)]/0x2),line(this[_0x49869b(0x27a)]/0x2,0x0,this[_0x49869b(0x27a)]/0x2,this[_0x49869b(0x21d)]),drawingContext['setLineDash']([]),stroke(this[_0x49869b(0x1b0)]),fill(this[_0x49869b(0x1b0)]),rect(0x0,this[_0x49869b(0x21d)]*0.7,this[_0x49869b(0x27a)]/0x3,this[_0x49869b(0x21d)]/0x8),stroke(this[_0x49869b(0x26d)]),fill(this[_0x49869b(0x26d)]),rect(0x0,this[_0x49869b(0x21d)]*0.85,this[_0x49869b(0x27a)]/0x3,this['height']/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x49869b(0x1fa),this['width']/0x6,this['height']*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x49869b(0x218),this[_0x49869b(0x27a)]/0x6,this['height']*0.97),(this['currentAmplitude']>0x0||this[_0x49869b(0x26f)]>0x0)&&this[_0x49869b(0x280)](),pop();}['drawWaveforms'](){const _0x1aef8c=_0x5179d7;push(),translate(0x14*SCALE_FACTOR,this[_0x1aef8c(0x21d)]/0x2);const _0x49ca7=0x96,_0x266e9e=0x3*PI/_0x49ca7,_0x4814fa=this[_0x1aef8c(0x21d)]/0x4;stroke(this[_0x1aef8c(0x26d)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x1d81bd=this[_0x1aef8c(0x27f)]*PI/0xb4;for(let _0xf1e330=0x0;_0xf1e330<=_0x49ca7;_0xf1e330++){const _0x24d74f=_0xf1e330*_0x266e9e,_0x286f9b=sin(_0x24d74f-_0x1d81bd)*this['height']*0.25;vertex(_0xf1e330*this[_0x1aef8c(0x27a)]/_0x49ca7-0x14*SCALE_FACTOR,-_0x286f9b);}endShape(),stroke(this[_0x1aef8c(0x1b0)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x9910dc=0x0;_0x9910dc<=_0x49ca7;_0x9910dc++){const _0x39baed=_0x9910dc*_0x266e9e,_0x563c42=sin(_0x39baed)*this[_0x1aef8c(0x21d)]*0.45;vertex(_0x9910dc*this[_0x1aef8c(0x27a)]/_0x49ca7-0x14*SCALE_FACTOR,-_0x563c42);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x3c733e,_0x4dea49,_0x2115a8){const _0x20ef46=_0x5179d7;super(_0x3c733e,_0x4dea49),this['r']=0xf*SCALE_FACTOR,this[_0x20ef46(0x1ca)]=_0x2115a8,this[_0x20ef46(0x1e8)]='30',this[_0x20ef46(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x20ef46(0x1bd)][_0x20ef46(0x204)](_0x22c3e9=>{_0x22c3e9['originalX']*=SCALE_FACTOR;}),this[_0x20ef46(0x288)]=![];}[_0x5179d7(0x200)](_0x1c08f0){const _0x3988d1=_0x5179d7;_0x1c08f0[_0x3988d1(0x284)](0x1*SCALE_FACTOR),_0x1c08f0[_0x3988d1(0x275)](0x0),_0x1c08f0['fill'](0xff),_0x1c08f0[_0x3988d1(0x211)](0x0,0x0,this['r']*1.5);const _0x28b574=this['r']*0.707106781*0.75;_0x1c08f0[_0x3988d1(0x1f5)](-_0x28b574,_0x28b574,_0x28b574,-_0x28b574),_0x1c08f0[_0x3988d1(0x1f5)](-_0x28b574,-_0x28b574,_0x28b574,_0x28b574),_0x1c08f0['noStroke'](),_0x1c08f0[_0x3988d1(0x253)](0x0),_0x1c08f0['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x1c08f0[_0x3988d1(0x1dd)](this[_0x3988d1(0x1ca)],0x0,this['r']*1.3);}[_0x5179d7(0x23c)](){const _0x4c251a=_0x5179d7;super['display']();let _0x232d88=0x1*SCALE_FACTOR,_0x580104=0x2*_0x232d88;this['isActive']?(stroke(0xff,0xd8,0x0),strokeWeight(_0x580104),fill(0xff)):(stroke(0x0),strokeWeight(_0x232d88),fill(0xff));const _0xe922e8=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0xe922e8,_0xe922e8,_0xe922e8,-_0xe922e8),line(-_0xe922e8,-_0xe922e8,_0xe922e8,_0xe922e8);if(this[_0x4c251a(0x288)])for(let _0x1eb0f3=0x0;_0x1eb0f3<0x168;_0x1eb0f3+=0x1e){const _0x37e73c=_0x1eb0f3*(Math['PI']/0xb4),_0x59e839=1.15*this['r'],_0x2c3da9=1.4*this['r'],_0x45da74=_0x2c3da9*Math[_0x4c251a(0x283)](_0x37e73c),_0x36b233=_0x2c3da9*Math[_0x4c251a(0x1dc)](_0x37e73c),_0x23c9db=_0x59e839*Math[_0x4c251a(0x283)](_0x37e73c),_0x4ec13f=_0x59e839*Math[_0x4c251a(0x1dc)](_0x37e73c);line(_0x23c9db,_0x4ec13f,_0x45da74,_0x36b233);}rotate(0x0),this[_0x4c251a(0x288)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x4c251a(0x1ca)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this[_0x4c251a(0x1e8)]+_0x4c251a(0x22e),0x0,this['r']*1.2),super[_0x4c251a(0x1d6)](),this['updateConnectors']();}[_0x5179d7(0x244)](){const _0x94694d=_0x5179d7;this[_0x94694d(0x288)]?this[_0x94694d(0x288)]=![]:this['isActive']=!![];}[_0x5179d7(0x216)](){const _0xfcd10d=_0x5179d7;switch(this[_0xfcd10d(0x1b9)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x52b7e9,_0x1c73c7,_0x52a5c7,_0xf43dd4=0x1e){const _0x59ecdb=_0x5179d7;super(_0x52b7e9,_0x1c73c7),this[_0x59ecdb(0x25a)]=0x5,this[_0x59ecdb(0x1e4)]=0xf*SCALE_FACTOR,this[_0x59ecdb(0x1ce)]=this[_0x59ecdb(0x1e4)]*0x2+0xa*SCALE_FACTOR,this[_0x59ecdb(0x1ca)]=_0x52a5c7,this[_0x59ecdb(0x1be)]=parseFloat(_0xf43dd4)||0x1e,this[_0x59ecdb(0x25e)]=0x0,this['isVisible']=!![],this['isEnabled']=!![],this[_0x59ecdb(0x259)]=[],this['w']=this[_0x59ecdb(0x25a)]*this['lampRadius']*0x2+(this[_0x59ecdb(0x25a)]-0x1)*(this[_0x59ecdb(0x1ce)]-this[_0x59ecdb(0x1e4)]*0x2),this['h']=this[_0x59ecdb(0x1e4)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x59ecdb(0x1fd)]=[];const _0x3e662c=-(this['w']/0x2)+this[_0x59ecdb(0x1e4)];for(let _0x1be143=0x0;_0x1be143<this[_0x59ecdb(0x25a)];_0x1be143++){const _0x5e4e60=!![];this[_0x59ecdb(0x1fd)][_0x59ecdb(0x250)]({'isActive':_0x5e4e60,'offsetX':_0x3e662c+_0x1be143*this[_0x59ecdb(0x1ce)],'offsetY':0x0}),this['_previousLampStates'][_0x59ecdb(0x250)](_0x5e4e60);}this[_0x59ecdb(0x1bd)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['calculateTotalPower']();}['setVisibility'](_0x54dc9e){const _0x47515d=_0x5179d7;if(_0x54dc9e===this[_0x47515d(0x23f)])return;this['isVisible']=_0x54dc9e,this[_0x47515d(0x1d5)](),redraw();}['setEnabled'](_0x155318){const _0x4975fb=_0x5179d7;if(_0x155318===this['isEnabled'])return;this[_0x4975fb(0x264)]=_0x155318;if(!this[_0x4975fb(0x264)]){for(let _0xb37584=0x0;_0xb37584<this[_0x4975fb(0x25a)];_0xb37584++){this[_0x4975fb(0x259)][_0xb37584]=this[_0x4975fb(0x1fd)][_0xb37584][_0x4975fb(0x288)];}for(let _0x3dc001 of this[_0x4975fb(0x1fd)]){_0x3dc001[_0x4975fb(0x288)]=![];}}else for(let _0x5da8a4=0x0;_0x5da8a4<this[_0x4975fb(0x25a)];_0x5da8a4++){this[_0x4975fb(0x1fd)][_0x5da8a4][_0x4975fb(0x288)]=typeof this[_0x4975fb(0x259)][_0x5da8a4]===_0x4975fb(0x1f8)?this[_0x4975fb(0x259)][_0x5da8a4]:![];}this['calculateTotalPower'](),redraw();}[_0x5179d7(0x244)](_0x40c062){const _0x367ec6=_0x5179d7;if(!this[_0x367ec6(0x264)]||!this[_0x367ec6(0x23f)])return;_0x40c062>=0x0&&_0x40c062<this[_0x367ec6(0x25a)]&&(this['lamps'][_0x40c062][_0x367ec6(0x288)]=!this[_0x367ec6(0x1fd)][_0x40c062]['isActive'],this[_0x367ec6(0x259)][_0x40c062]=this[_0x367ec6(0x1fd)][_0x40c062][_0x367ec6(0x288)],this[_0x367ec6(0x1d5)](),redraw());}[_0x5179d7(0x1d5)](){const _0x1bb2fd=_0x5179d7;if(!this[_0x1bb2fd(0x264)]||!this['isVisible']){this['total_power']=0x0;return;}let _0x2bf5ef=0x0;for(const _0x2da2c1 of this[_0x1bb2fd(0x1fd)]){_0x2da2c1[_0x1bb2fd(0x288)]&&(_0x2bf5ef+=this[_0x1bb2fd(0x1be)]);}this[_0x1bb2fd(0x25e)]=_0x2bf5ef;}[_0x5179d7(0x27d)](_0x18c3f8,_0x42d4e9){const _0x5b755d=_0x5179d7;if(!this['isVisible'])return-0x1;for(let _0x1155b8=0x0;_0x1155b8<this[_0x5b755d(0x25a)];_0x1155b8++){const _0x36268b=this[_0x5b755d(0x1fd)][_0x1155b8],_0x4d1cde=this['x']+_0x36268b[_0x5b755d(0x229)],_0x388e2e=this['y']+_0x36268b['offsetY'],_0x217860=dist(_0x18c3f8,_0x42d4e9,_0x4d1cde,_0x388e2e);if(_0x217860<this['lampRadius'])return _0x1155b8;}return-0x1;}[_0x5179d7(0x200)](_0x31671c){const _0x42c4ed=_0x5179d7;_0x31671c[_0x42c4ed(0x284)](0x1*SCALE_FACTOR),_0x31671c[_0x42c4ed(0x275)](0x0);const _0x1f8bd9=this[_0x42c4ed(0x1e4)]*0.5,_0x50a94a=_0x1f8bd9*0x2+0x2*SCALE_FACTOR,_0x953ad4=this[_0x42c4ed(0x25a)]*_0x1f8bd9*0x2+(this[_0x42c4ed(0x25a)]-0x1)*0x2*SCALE_FACTOR,_0x23552b=-_0x953ad4/0x2+_0x1f8bd9;for(let _0x3699de=0x0;_0x3699de<this[_0x42c4ed(0x25a)];_0x3699de++){_0x31671c[_0x42c4ed(0x253)](0xff),_0x31671c['circle'](_0x23552b+_0x3699de*_0x50a94a,0x0,_0x1f8bd9*0x2);const _0x2c45f9=_0x1f8bd9*0.707;_0x31671c[_0x42c4ed(0x1f5)](_0x23552b+_0x3699de*_0x50a94a-_0x2c45f9,_0x2c45f9,_0x23552b+_0x3699de*_0x50a94a+_0x2c45f9,-_0x2c45f9),_0x31671c['line'](_0x23552b+_0x3699de*_0x50a94a-_0x2c45f9,-_0x2c45f9,_0x23552b+_0x3699de*_0x50a94a+_0x2c45f9,_0x2c45f9);}_0x31671c[_0x42c4ed(0x1cc)](),_0x31671c[_0x42c4ed(0x253)](0x0),_0x31671c['textAlign'](CENTER,BOTTOM),_0x31671c[_0x42c4ed(0x1fe)](0x8*SCALE_FACTOR),_0x31671c[_0x42c4ed(0x1dd)](this[_0x42c4ed(0x1ca)],0x0,_0x1f8bd9+0xa*SCALE_FACTOR);}[_0x5179d7(0x23c)](){const _0x2ed34f=_0x5179d7;if(!this[_0x2ed34f(0x23f)])return;push(),translate(this['x'],this['y']);for(let _0x5aeb73=0x0;_0x5aeb73<this['numLamps'];_0x5aeb73++){const _0x5b3b56=this[_0x2ed34f(0x1fd)][_0x5aeb73];push(),translate(_0x5b3b56[_0x2ed34f(0x229)],_0x5b3b56[_0x2ed34f(0x1b5)]);let _0x530955=0x1*SCALE_FACTOR,_0x440a12=0x2*_0x530955,_0x40f8ac=color(0xff),_0x3013da=color(0x0);_0x5b3b56[_0x2ed34f(0x288)]?(_0x3013da=color(0xff,0xd8,0x0),strokeWeight(_0x440a12),_0x40f8ac=color(0xff,0xff,0xc8)):strokeWeight(_0x530955);!this[_0x2ed34f(0x264)]&&(_0x3013da=color(0x96),_0x40f8ac=color(0xdc),strokeWeight(_0x530955));stroke(_0x3013da),fill(_0x40f8ac),circle(0x0,0x0,this[_0x2ed34f(0x1e4)]*0x2);const _0x16184a=this['lampRadius']*0.707;line(-_0x16184a,_0x16184a,_0x16184a,-_0x16184a),line(-_0x16184a,-_0x16184a,_0x16184a,_0x16184a),line(-1.3*this['lampRadius'],0x0,-this[_0x2ed34f(0x1e4)],0x0),line(1.3*this[_0x2ed34f(0x1e4)],0x0,this['lampRadius'],0x0);if(_0x5b3b56[_0x2ed34f(0x288)]&&this[_0x2ed34f(0x264)]){stroke(_0x3013da),strokeWeight(0x1*SCALE_FACTOR);for(let _0x34fc16=0x0;_0x34fc16<0x168;_0x34fc16+=0x2d){const _0x2e117b=radians(_0x34fc16),_0x4ddd1c=1.15*this[_0x2ed34f(0x1e4)],_0x4e6d45=1.4*this[_0x2ed34f(0x1e4)];line(_0x4ddd1c*cos(_0x2e117b),_0x4ddd1c*sin(_0x2e117b),_0x4e6d45*cos(_0x2e117b),_0x4e6d45*sin(_0x2e117b));}}pop();}noStroke(),fill(this[_0x2ed34f(0x264)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x2ed34f(0x1ca)],0x0,-this['lampRadius']-0x5*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this[_0x2ed34f(0x25e)]>0x0&&text(_0x2ed34f(0x1ba)+this[_0x2ed34f(0x25e)][_0x2ed34f(0x248)](0x0)+_0x2ed34f(0x22e),0x0,this[_0x2ed34f(0x1e4)]+0x5*SCALE_FACTOR),pop(),this[_0x2ed34f(0x274)]();}['updateConnectors'](){const _0x166833=_0x5179d7,_0x10c4fa=this[_0x166833(0x216)]();this[_0x166833(0x1bd)][_0x166833(0x204)](_0x475214=>{const _0x431384=_0x166833;_0x475214['x']=this['x']+cos(_0x10c4fa)*_0x475214[_0x431384(0x22f)]-sin(_0x10c4fa)*_0x475214[_0x431384(0x221)],_0x475214['y']=this['y']+sin(_0x10c4fa)*_0x475214[_0x431384(0x22f)]+cos(_0x10c4fa)*_0x475214['originalY'];});}['rotationAngle'](){return 0x0;}}


        </script>

</body>
</html>