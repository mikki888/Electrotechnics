<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>


const _0x4b4b55=_0x2e86;(function(_0x1690ae,_0x441710){const _0x27f2cf=_0x2e86,_0x791a5e=_0x1690ae();while(!![]){try{const _0x498291=parseInt(_0x27f2cf(0xb9))/0x1+-parseInt(_0x27f2cf(0x10d))/0x2*(parseInt(_0x27f2cf(0x157))/0x3)+-parseInt(_0x27f2cf(0x13b))/0x4+-parseInt(_0x27f2cf(0x8c))/0x5+-parseInt(_0x27f2cf(0xb7))/0x6*(parseInt(_0x27f2cf(0xff))/0x7)+-parseInt(_0x27f2cf(0xe7))/0x8*(parseInt(_0x27f2cf(0xa0))/0x9)+parseInt(_0x27f2cf(0x13e))/0xa;if(_0x498291===_0x441710)break;else _0x791a5e['push'](_0x791a5e['shift']());}catch(_0x50425c){_0x791a5e['push'](_0x791a5e['shift']());}}}(_0x570c,0x36fa6));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x4b4b55(0xe3)](navigator[_0x4b4b55(0xd6)]),isLargeMobileScreen=window[_0x4b4b55(0x145)]>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':'Switch','label':'SA1','targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0x141),'label':_0x4b4b55(0xef),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0x141),'label':_0x4b4b55(0x95),'targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA2','targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA21','targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA3','targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0x141),'label':'SA31','targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x4b4b55(0xe6),'targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0xf8),'label':'PA1','targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0xf8),'label':'PA2','targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0xf8),'label':_0x4b4b55(0xb6),'targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0xf8),'label':_0x4b4b55(0xeb),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4b4b55(0x84),'label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'GroupLamp','label':_0x4b4b55(0xb0),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x4b4b55(0xa1),'label':'HLG2','targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':'GroupLamp','label':'HLG3','targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=132.8,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;function setup(){const _0x131618=_0x4b4b55;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x131618(0x106)],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,'Uab\x20='),elements[_0x131618(0x12a)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x131618(0x116)),elements[_0x131618(0x12a)](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x131618(0x107)),elements[_0x131618(0x12a)](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x131618(0x9e)),elements[_0x131618(0x12a)](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x131618(0xb4)),elements[_0x131618(0x12a)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x131618(0xe4)),elements[_0x131618(0x12a)](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x2a369f=_0x4b4b55;let _0x1398fd={'SA2':null,'E2':null};paletteElementsData['forEach'](_0x23a027=>{const _0x4b8ff=_0x2e86;let _0x4936b6=createPaletteElementInstance(_0x23a027[_0x4b8ff(0xf3)],_0x23a027[_0x4b8ff(0xdf)],_0x23a027[_0x4b8ff(0x99)],_0x23a027[_0x4b8ff(0x128)],_0x23a027[_0x4b8ff(0x119)],_0x23a027);_0x4936b6[_0x4b8ff(0xdf)]==='Rk'&&(_0x4936b6[_0x4b8ff(0x151)]='20'),elements[_0x4b8ff(0x12a)](_0x4936b6),_0x23a027[_0x4b8ff(0xf6)]=!![],_0x23a027['isFixed']=!![],_0x4936b6['placedElementData'][_0x4b8ff(0xf6)]=!![],_0x4936b6[_0x4b8ff(0xba)]['isFixed']=!![];}),paletteElementsData=[];const _0x157e5d=document[_0x2a369f(0xa5)]('palette');_0x157e5d[_0x2a369f(0x144)]='',createPalette();}function createPalette(){const _0x202867=_0x4b4b55,_0x440f15=document['getElementById'](_0x202867(0xee));paletteElementsData[_0x202867(0x123)]((_0x2f0f3b,_0x537615)=>{const _0x3cebf3=_0x202867,_0x5bb6d8=document[_0x3cebf3(0x8e)]('div');_0x5bb6d8[_0x3cebf3(0x85)]['add'](_0x3cebf3(0x137));let _0xcbe2ec=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0xcbe2ec['clear'](),_0xcbe2ec['push'](),_0xcbe2ec[_0x3cebf3(0x10e)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x4c6d34=createPaletteElementInstance(_0x2f0f3b[_0x3cebf3(0xf3)],_0x2f0f3b['label'],_0x2f0f3b[_0x3cebf3(0x99)],0x0,0x0,_0x2f0f3b);_0x4c6d34[_0x3cebf3(0x99)]=_0x2f0f3b[_0x3cebf3(0x99)],_0x4c6d34[_0x3cebf3(0x156)](_0xcbe2ec),_0xcbe2ec['pop']();const _0x123af9=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x123af9[_0x3cebf3(0x147)](_0xcbe2ec,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x5bb6d8[_0x3cebf3(0xb1)](_0x123af9[_0x3cebf3(0xcc)]),_0x5bb6d8[_0x3cebf3(0xb2)][_0x3cebf3(0x135)]=_0x2f0f3b['type'],_0x5bb6d8[_0x3cebf3(0xb2)][_0x3cebf3(0xc0)]=_0x2f0f3b[_0x3cebf3(0xdf)],_0x5bb6d8[_0x3cebf3(0xb2)][_0x3cebf3(0x154)]=_0x2f0f3b[_0x3cebf3(0x99)],_0x5bb6d8[_0x3cebf3(0xb2)][_0x3cebf3(0x9d)]=_0x537615,_0x5bb6d8[_0x3cebf3(0x152)](_0x3cebf3(0xdb),paletteElementClick),_0x440f15['appendChild'](_0x5bb6d8);});}function draw(){const _0x4f3480=_0x4b4b55;background(0xf0),strokeWeight(0x1);const _0x55f518=0x2bc*SCALE_FACTOR,_0xc4c001=0x1c2*SCALE_FACTOR,_0x4b59ea=0x32*SCALE_FACTOR;stroke(_0x4f3480(0x92));function _0x4b98c7(_0x97766a,_0x301bdf,_0x11cc38,_0x58e9a8){line(_0x97766a,_0x301bdf,_0x11cc38,_0x58e9a8);}for(let _0x4e3690=0x0;_0x4e3690<=_0xc4c001;_0x4e3690+=_0x4b59ea){_0x4b98c7(0x0,_0x4e3690,_0x55f518,_0x4e3690);}for(let _0x15fa8e=0x0;_0x15fa8e<=_0x55f518;_0x15fa8e+=_0x4b59ea){_0x4b98c7(_0x15fa8e,0x0,_0x15fa8e,_0xc4c001);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x4b98c7(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x4b98c7(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x4b98c7(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x4b98c7(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x5981fe=0x64;circle(0x1c*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x4b98c7(0x1e*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x5a*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0xaa*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x190*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x1d6*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x5981fe=0xc8,circle(0x1c*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x4b98c7(0x1e*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x5a*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0xaa*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x190*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x1d6*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x5981fe=0x12c,circle(0x1c*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x4b98c7(0x1e*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x5a*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0xaa*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x190*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),_0x4b98c7(0x1d6*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x5981fe*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x4b98c7(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x4b98c7(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x4b98c7(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x4b98c7(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x4b98c7(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x4b98c7(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x1ffff0 of elements){typeof _0x1ffff0['update']==='function'&&_0x1ffff0[_0x4f3480(0xe1)](),_0x1ffff0[_0x4f3480(0x9b)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x4f3480(0x9b)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){if(!warningMessageText)return;push();let _0x1a714c=0x1e*SCALE_FACTOR,_0x5de95e=height-0x32*SCALE_FACTOR-_0x1a714c-0xa*SCALE_FACTOR,_0x3a75c1=0x96*SCALE_FACTOR,_0x364a34=0xc8*SCALE_FACTOR;rectMode(CORNER);if(isBlinkingWarning){let _0x1596f5=millis();_0x1596f5-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x1596f5),blinkState&&(fill(0xff,0xb4,0xb4),stroke(0xc8,0x0,0x0),strokeWeight(1.5*SCALE_FACTOR),rect(_0x3a75c1,_0x5de95e,_0x364a34,_0x1a714c,0x5*SCALE_FACTOR),noStroke(),fill(0xc8,0x0,0x0),textAlign(CENTER,CENTER),textSize(0xd*SCALE_FACTOR),textStyle(BOLD),text(warningMessageText,_0x3a75c1+_0x364a34/0x2,_0x5de95e+_0x1a714c/0x2),textStyle(NORMAL));}else fill(0xff,0xff,0xd2),stroke(0xb4,0xb4,0x0),strokeWeight(0x1*SCALE_FACTOR),rect(_0x3a75c1,_0x5de95e,_0x364a34,_0x1a714c,0x5*SCALE_FACTOR),noStroke(),fill(0x32,0x32,0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(warningMessageText,_0x3a75c1+_0x364a34/0x2,_0x5de95e+_0x1a714c/0x2);pop();}function drawMessageBox(){const _0xfc2d98=_0x4b4b55;messageBox[_0xfc2d98(0x85)][_0xfc2d98(0x11a)]('show')&&(push(),fill('lightgreen'),stroke(_0xfc2d98(0x149)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0xfc2d98(0x115)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x652f9=_0x4b4b55;push(),fill(_0x652f9(0xf9)),stroke(_0x652f9(0x127)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x652f9(0x115)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x13f8d8=_0x4b4b55;push(),fill(_0x13f8d8(0x15c)),stroke('blue'),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x13f8d8(0x115)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x643124=_0x4b4b55;if(isCalculateButtonVisible){push(),fill('#4CAF50'),noStroke(),rectMode(CORNER);let _0x1a051f=0x96*SCALE_FACTOR,_0x5661a8=height-0x32*SCALE_FACTOR,_0x438b84=0xc8*SCALE_FACTOR,_0x419a38=0x32*SCALE_FACTOR;rect(_0x1a051f,_0x5661a8,_0x438b84,_0x419a38,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x643124(0x158),_0x1a051f+_0x438b84/0x2,_0x5661a8+_0x419a38/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x81843c=_0x4b4b55,_0x29d3fc=findElementByLabel(_0x81843c(0x89)),_0xe0e2c2=findElementByLabel(_0x81843c(0xef)),_0x3d4ac3=findElementByLabel(_0x81843c(0x95)),_0x16589a=findElementByLabel(_0x81843c(0xb0));if(!_0x29d3fc||!_0xe0e2c2||!_0x3d4ac3||!_0x16589a)return;if(!(_0x29d3fc instanceof Switch)||!(_0xe0e2c2 instanceof Switch)||!(_0x3d4ac3 instanceof Switch)||!(_0x16589a instanceof GroupLamp))return;const _0x4ceb75=_0x29d3fc[_0x81843c(0x131)],_0x29a6ea=_0xe0e2c2[_0x81843c(0x131)],_0x5ca80b=_0x3d4ac3[_0x81843c(0x131)],_0x58b509=!_0x4ceb75&&!_0x29a6ea&&_0x5ca80b;if(_0x16589a[_0x81843c(0xcf)]!==_0x58b509)_0x16589a[_0x81843c(0x148)](_0x58b509);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0xe8d3a9=_0x4b4b55,_0x1c1922=findElementByLabel(_0xe8d3a9(0xec)),_0x2c1a29=findElementByLabel(_0xe8d3a9(0xcb)),_0x1d99c5=findElementByLabel(_0xe8d3a9(0x88));if(!_0x1c1922||!_0x2c1a29||!_0x1d99c5)return;if(!(_0x1c1922 instanceof Switch)||!(_0x2c1a29 instanceof Switch)||!(_0x1d99c5 instanceof GroupLamp))return;const _0x32667b=_0x1c1922[_0xe8d3a9(0x131)],_0x17d8b4=_0x2c1a29[_0xe8d3a9(0x131)],_0x1a64e=!_0x32667b&&!_0x17d8b4;if(_0x1d99c5[_0xe8d3a9(0xcf)]!==_0x1a64e)_0x1d99c5[_0xe8d3a9(0x148)](_0x1a64e);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x181d6c=_0x4b4b55,_0x378ff6=findElementByLabel(_0x181d6c(0x98)),_0x3653d8=findElementByLabel('SA31'),_0x3ff354=findElementByLabel('HLG3');if(!_0x378ff6||!_0x3653d8||!_0x3ff354)return;if(!(_0x378ff6 instanceof Switch)||!(_0x3653d8 instanceof Switch)||!(_0x3ff354 instanceof GroupLamp))return;const _0x40c4da=_0x378ff6[_0x181d6c(0x131)],_0x1ab639=_0x3653d8['isOpen'],_0x11be0c=!_0x40c4da&&!_0x1ab639;if(_0x3ff354[_0x181d6c(0xcf)]!==_0x11be0c)_0x3ff354[_0x181d6c(0x148)](_0x11be0c);else;}function _0x570c(){const _0x4b4529=['error','Uc\x20=\x200.0\x20V','Switch','\x20\x20мГн','frequency','innerHTML','innerWidth','PA2','copy','setEnabled','green','setLineDash','calculationDisplayValue','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','In\x20=\x20','waveformColorVoltage','Uab\x20=\x20','calculateTotalPower','resistance','addEventListener','Помилка:\x20Елемент\x20не\x20знайдено','elementOrientation','Струм','displayPalette','1899XFGcBC','Дослідні\x20дані','Введіть\x20частоту\x20для\x20','numLamps','originalX','lightcyan','Введіть\x20індуктивність\x20для\x20','Capacity','classList','sqrt','power','HLG2','SA1','Потрібно\x20поставити\x20елементів:\x20','cos','1352195URjkEE','\x20px','createElement','height','0.0\x20','Л\x20А\x20Т\x20Р','lightgray','isVisible','random','SA12','Напруга','log','SA3','orientation','updateWaveform','display','voltage','paletteIndex','Ua\x20=','stroke','227034zALAeR','GroupLamp','state','total_power','isFixed','getElementById','waveformColorCurrent','PA1','isActive','angle','rotationAngle','Ub\x20=\x200.0\x20V','bottom',',\x20HLG1=','rectMode','Схему\x20зібрано!','HLG1','appendChild','dataset','Повернути\x20\x0a\x20навантаження','Ub\x20=','Ua\x20=\x20','PA3','105438LSujBA','fill','30830GzHSUo','placedElementData','Введіть\x20напругу\x20для\x20','Ub\x20=\x20','remove','boolean','updateConnectors','elementLabel','voltageAmplitude','Uca\x20=\x200.0\x20V','circle','drawWaveforms','Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.','ang','mag','Toggle\x20Visibility\x20Button\x20Clicked!','offsetY','postDisplay','SA21','canvas','Введіть\x20ємність\x20для\x20','angleMode','isEnabled','toFixed','Нейтральний\x20провід\x20відімкнуто!','Initial\x20visibility\x20set:\x20C1=','noStroke','undefined','P:\x20','userAgent','Ib\x20=\x20','phaseAngleDeg','\x20toggled.\x20Now\x20isOpen:\x20','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','click','\x20Вт','sin','currentAmplitude','label','abs','update','Переключити\x20на\x20\x0a\x20конденсатор','test','Uc\x20=','arc','SA4','32fSZUdi','Correctly\x20placed!','connectors','Uab\x20=\x200.0\x20V','PA4','SA2','lamps','palette','SA11','Відстань\x20до\x20точки:\x20','strokeWeight','top','type','lampRadius','toggleState','placed','max','CustomAmmeter','lightyellow','Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.','triangle','Induction','\x20мкФ','HLG3','91kVsobK','phase','round','Set\x20C1\x20visible:\x20','Uab\x20=','line','Введіть\x20опір\x20для\x20','length','Uca\x20=','capacity','Ic\x20=\x20','voltageDrop','show','induction','1066EVolSe','translate','isDragging','currentTarget','textAlign','find','width','offsetX','textContent','Ubc\x20=','current','originalY','targetY','contains','Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!','Node',',\x20HLG1\x20visible:\x20','_previousLampStates','rect','setText','lampSpacing','Ua\x20=\x200.0\x20V','forEach','noFill','SwitchSPDT','Цільова\x20точка\x20не\x20знайдена','orange','targetX','Uca\x20=\x20','push','tapPosition','text','Ubc\x20=\x20','getClickedLampIndex','drawingContext','powerPerLamp','isOpen','frequencyHz','splice','floor','elementType','\x20Гц','palette-element','textSize','isC1CurrentlyVisible\x20is\x20now:','startsWith','946264jYHdWN','setVisibility','updateConnectorPositions','13681070MZnGBE'];_0x570c=function(){return _0x4b4529;};return _0x570c();}function drawVisibilityToggleButton(){const _0x1411fc=_0x4b4b55;push();const _0x5112f6=0x226*SCALE_FACTOR,_0x17ac8a=0x55*SCALE_FACTOR,_0x3b5be1=0x64*SCALE_FACTOR,_0x5bd439=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x5112f6,_0x17ac8a,_0x3b5be1,_0x5bd439,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x4f0ee6=isC1CurrentlyVisible?_0x1411fc(0xb3):_0x1411fc(0xe2);text(_0x4f0ee6,_0x5112f6+_0x3b5be1/0x2,_0x17ac8a+_0x5bd439/0x2),pop();}function paletteElementClick(_0x1a77c0){const _0x28c179=_0x4b4b55,_0x34e65f=_0x1a77c0[_0x28c179(0x110)];if(!_0x34e65f){console[_0x28c179(0x13f)](_0x28c179(0x14c));return;}const _0x454558=_0x34e65f['dataset'][_0x28c179(0x135)],_0x1bf46a=_0x34e65f['dataset']['elementLabel'],_0xa32bf9=_0x34e65f[_0x28c179(0xb2)][_0x28c179(0x154)],_0x387d90=parseInt(_0x34e65f[_0x28c179(0xb2)][_0x28c179(0x9d)]);if(!_0x454558||!_0x1bf46a||!_0xa32bf9||isNaN(_0x387d90)){console['error'](_0x28c179(0x11b),_0x34e65f[_0x28c179(0xb2)]);return;}canvasElementInstance=createPaletteElementInstance(_0x454558,_0x1bf46a,_0xa32bf9,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x387d90]),paletteElementsData[_0x28c179(0x133)](_0x387d90,0x1);const _0x579aaf=document[_0x28c179(0xa5)](_0x28c179(0xee));_0x579aaf[_0x28c179(0x144)]='',createPalette();}function createPaletteElementInstance(_0x4d57e9,_0x1d64eb,_0x2fe3cd,_0x318331,_0x287dda,_0x371018){const _0x5f105b=_0x4b4b55;let _0x14f85f;const _0x5526af=_0x371018?.['powerPerLamp'];switch(_0x4d57e9){case'AutotransformerLaboratory':_0x14f85f=new AutotransformerLaboratory(_0x318331,_0x287dda,_0x1d64eb);break;case'Resistor':_0x14f85f=new Resistor(_0x318331,_0x287dda,_0x1d64eb);_0x1d64eb==='Rk'&&(_0x14f85f[_0x5f105b(0x151)]='20');break;case _0x5f105b(0x125):_0x14f85f=new SwitchSPDT(_0x318331,_0x287dda,_0x1d64eb);break;case _0x5f105b(0x141):_0x14f85f=new Switch(_0x318331,_0x287dda,_0x1d64eb);(_0x1d64eb===_0x5f105b(0x89)||_0x1d64eb===_0x5f105b(0xef)||_0x1d64eb==='SA2'||_0x1d64eb==='SA21'||_0x1d64eb===_0x5f105b(0x98)||_0x1d64eb==='SA31'||_0x1d64eb===_0x5f105b(0xe6))&&(_0x14f85f['isOpen']=![]);break;case _0x5f105b(0xf8):_0x14f85f=new CustomAmmeter(_0x318331,_0x287dda,_0x1d64eb);break;case'Phasemeter':_0x14f85f=new Phasemeter(_0x318331,_0x287dda,_0x1d64eb);break;case _0x5f105b(0x11c):_0x14f85f=new Node(_0x318331,_0x287dda,_0x1d64eb);break;case _0x5f105b(0xfc):_0x14f85f=new Induction(_0x318331,_0x287dda,_0x1d64eb);break;case'Capacity':_0x14f85f=new Capacity(_0x318331,_0x287dda,_0x1d64eb);break;case'Frequency':_0x14f85f=new Frequency(_0x318331,_0x287dda,_0x1d64eb);break;case _0x5f105b(0xa1):_0x14f85f=new GroupLamp(_0x318331,_0x287dda,_0x1d64eb,_0x5526af);break;default:return null;}return _0x14f85f['orientation']=parseInt(_0x2fe3cd),_0x14f85f[_0x5f105b(0xba)]=_0x371018,_0x14f85f;}function generateNewData(){const _0x2f4e5e=_0x4b4b55,_0x412257=[];for(let _0xaf6d34=0x5;_0xaf6d34<=0x32;_0xaf6d34+=0x5){_0x412257[_0x2f4e5e(0x12a)](_0xaf6d34);}const _0x4aa0fd=[];for(let _0x266e16=0x78;_0x266e16<=0x9b;_0x266e16+=0x5){_0x4aa0fd[_0x2f4e5e(0x12a)](_0x266e16);}let _0x15e060=_0x412257[Math[_0x2f4e5e(0x134)](Math[_0x2f4e5e(0x94)]()*_0x412257[_0x2f4e5e(0x106)])],_0x358710=_0x4aa0fd[Math[_0x2f4e5e(0x134)](Math[_0x2f4e5e(0x94)]()*_0x4aa0fd[_0x2f4e5e(0x106)])],_0x940355={'C1':findElementByLabel('C1')};_0x940355['C1'][_0x2f4e5e(0x108)]=String(_0x15e060),U_phase_mag=String(_0x358710),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x36f35f=_0x4b4b55,_0x2912e7=0x1f4*SCALE_FACTOR,_0x4b1ccd=0x46*SCALE_FACTOR,_0x1467de=0xb4*SCALE_FACTOR,_0x1b1cb4=0x32*SCALE_FACTOR;if(mouseX>_0x2912e7&&mouseX<_0x2912e7+_0x1467de&&mouseY>_0x4b1ccd&&mouseY<_0x4b1ccd+_0x1b1cb4){console[_0x36f35f(0x97)](_0x36f35f(0xc8)),isC1CurrentlyVisible=!isC1CurrentlyVisible,console['log'](_0x36f35f(0x139),isC1CurrentlyVisible);const _0x11c428=findElementByLabel('C1'),_0x32089d=findElementByLabel(_0x36f35f(0xb0));_0x11c428 instanceof Capacity&&_0x32089d instanceof GroupLamp?(_0x11c428[_0x36f35f(0x13c)](isC1CurrentlyVisible),_0x32089d['setVisibility'](!isC1CurrentlyVisible),console[_0x36f35f(0x97)](_0x36f35f(0x102)+isC1CurrentlyVisible+_0x36f35f(0x11d)+!isC1CurrentlyVisible),_0x32089d[_0x36f35f(0x150)]()):console[_0x36f35f(0x13f)](_0x36f35f(0xc5));redraw();return;}if(isCalculateButtonVisible){let _0x4b73c3=0x96*SCALE_FACTOR,_0x42d4d1=height-0x32*SCALE_FACTOR,_0x480b0c=0xc8*SCALE_FACTOR,_0x47576c=0x32*SCALE_FACTOR;if(mouseX>_0x4b73c3&&mouseX<_0x4b73c3+_0x480b0c&&mouseY>_0x42d4d1&&mouseY<_0x42d4d1+_0x47576c){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x561708=null,_0x4208b3=-0x1;for(let _0x2e9cae=elements['length']-0x1;_0x2e9cae>=0x0;_0x2e9cae--){let _0x39e00a=elements[_0x2e9cae];if(_0x39e00a instanceof GroupLamp&&!_0x39e00a[_0x36f35f(0x93)]||_0x39e00a instanceof Capacity&&!_0x39e00a[_0x36f35f(0x93)])continue;if(_0x39e00a instanceof GroupLamp){_0x4208b3=_0x39e00a['getClickedLampIndex'](mouseX,mouseY);if(_0x4208b3!==-0x1){_0x561708=_0x39e00a;break;}}}if(_0x561708===null)for(let _0x1312d7=elements[_0x36f35f(0x106)]-0x1;_0x1312d7>=0x0;_0x1312d7--){let _0x5a7b23=elements[_0x1312d7];if(_0x5a7b23 instanceof GroupLamp&&!_0x5a7b23[_0x36f35f(0x93)]||_0x5a7b23 instanceof Capacity&&!_0x5a7b23['isVisible'])continue;if(_0x5a7b23 instanceof Node||_0x5a7b23 instanceof StaticTextDisplay)continue;let _0x3a3818=![];if(typeof _0x5a7b23['r']!==_0x36f35f(0xd4)&&!(_0x5a7b23 instanceof GroupLamp))dist(mouseX,mouseY,_0x5a7b23['x'],_0x5a7b23['y'])<_0x5a7b23['r']&&(_0x3a3818=!![]);else typeof _0x5a7b23['w']!==_0x36f35f(0xd4)&&typeof _0x5a7b23['h']!=='undefined'&&(mouseX>_0x5a7b23['x']-_0x5a7b23['w']/0x2&&mouseX<_0x5a7b23['x']+_0x5a7b23['w']/0x2&&mouseY>_0x5a7b23['y']-_0x5a7b23['h']/0x2&&mouseY<_0x5a7b23['y']+_0x5a7b23['h']/0x2&&(_0x3a3818=!![]));if(_0x3a3818){_0x561708=_0x5a7b23;break;}}if(_0x561708){let _0xe0723c=millis(),_0x16f995=_0xe0723c-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0x1c838c=_0x561708[_0x36f35f(0xba)]&&_0x561708[_0x36f35f(0xba)]['isFixed'],_0x288144=![],_0x255fb9=![];if(_0x561708 instanceof GroupLamp&&_0x4208b3!==-0x1)_0x561708[_0x36f35f(0xf5)](_0x4208b3),_0x288144=!![],_0x255fb9=!![];else{if(_0x16f995){_0x288144=!![],_0x255fb9=!![];if(_0x561708 instanceof GroupLamp){}else{if(_0x561708 instanceof SwitchSPDT||_0x561708 instanceof Switch)_0x561708['toggleState']();else{if(_0x561708 instanceof Resistor&&KirgofTest){let _0x1548a5=prompt(_0x36f35f(0x105)+_0x561708[_0x36f35f(0xdf)]+':',_0x561708[_0x36f35f(0x151)]||'100');_0x1548a5!==null&&(_0x561708['resistance']=_0x1548a5,calculateCircuit());}else{if(_0x561708 instanceof AutotransformerLaboratory){let _0xa6a810=prompt(_0x36f35f(0xbb)+_0x561708[_0x36f35f(0xdf)]+':',_0x561708[_0x36f35f(0x9c)]||'50');_0xa6a810!==null&&(_0x561708[_0x36f35f(0x9c)]=_0xa6a810,calculateCircuit());}else{if(_0x561708 instanceof Induction&&KirgofTest){let _0x15a936=prompt(_0x36f35f(0x15d)+_0x561708[_0x36f35f(0xdf)]+':',_0x561708[_0x36f35f(0x10c)]||'5');_0x15a936!==null&&(_0x561708[_0x36f35f(0x10c)]=_0x15a936,calculateCircuit());}else{if(_0x561708 instanceof Capacity){if(_0x561708[_0x36f35f(0x93)]){let _0x42eb0f=prompt(_0x36f35f(0xcd)+_0x561708[_0x36f35f(0xdf)]+':',_0x561708[_0x36f35f(0x108)]||'10');_0x42eb0f!==null&&(_0x561708['capacity']=_0x42eb0f,calculateCircuit());}}else{if(_0x561708 instanceof Frequency){let _0xd5d498=prompt(_0x36f35f(0x159)+_0x561708[_0x36f35f(0xdf)]+':',_0x561708['frequency']||'50');_0xd5d498!==null&&(_0x561708[_0x36f35f(0x143)]=_0xd5d498,calculateCircuit());}}}}}}}}}_0x1c838c&&(_0x255fb9=!![]),!_0x255fb9&&(draggedElement=_0x561708,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0xe0723c;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x36f35f(0x12a)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x250280=_0x4b4b55;let _0x43e798=canvasElementInstance||draggedElement;if(_0x43e798){dragOffsetX=0x0,dragOffsetY=0x0;let _0xc6f13=mouseX-dragOffsetX,_0x9f83c1=mouseY-dragOffsetY,_0x21b1d9=0x1e*SCALE_FACTOR,_0x22c9d1=_0x21b1d9,_0x1f59bb=_0x21b1d9,_0xe2cc33=width-_0x21b1d9,_0x32e797=height-_0x21b1d9;_0x43e798['x']=constrain(_0xc6f13,_0x22c9d1,_0xe2cc33),_0x43e798['y']=constrain(_0x9f83c1,_0x1f59bb,_0x32e797);if(_0x43e798[_0x250280(0xba)]){let _0x4a3273=dist(_0x43e798['x'],_0x43e798['y'],_0x43e798[_0x250280(0xba)]['targetX'],_0x43e798['placedElementData'][_0x250280(0x119)]),_0x5c3c3a=Math['max'](0x0,Math[_0x250280(0x101)](_0x4a3273-SNAP_DISTANCE));distanceBox[_0x250280(0x115)]=_0x250280(0xf0)+_0x5c3c3a+_0x250280(0x8d);}else distanceBox['textContent']=_0x250280(0x126);}}function mouseReleased(){const _0x466c72=_0x4b4b55;let _0x282b0c=null,_0x42bb85;if(canvasElementInstance)elements[_0x466c72(0x12a)](canvasElementInstance),_0x282b0c=canvasElementInstance[_0x466c72(0xba)],_0x282b0c&&(_0x42bb85=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x282b0c['targetX'],_0x282b0c[_0x466c72(0x119)]),_0x42bb85<=SNAP_DISTANCE&&!_0x282b0c[_0x466c72(0xf6)]&&(canvasElementInstance['x']=_0x282b0c[_0x466c72(0x128)],canvasElementInstance['y']=_0x282b0c[_0x466c72(0x119)],_0x282b0c[_0x466c72(0xf6)]=!![],elementsPlacedCount++,_0x282b0c[_0x466c72(0xa4)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x282b0c=draggedElement[_0x466c72(0xba)],_0x42bb85=_0x282b0c?dist(draggedElement['x'],draggedElement['y'],_0x282b0c[_0x466c72(0x128)],_0x282b0c[_0x466c72(0x119)]):undefined;if(_0x282b0c){if(_0x42bb85<=SNAP_DISTANCE&&!_0x282b0c['placed'])!_0x282b0c[_0x466c72(0xf6)]&&(draggedElement['x']=_0x282b0c[_0x466c72(0x128)],draggedElement['y']=_0x282b0c[_0x466c72(0x119)],_0x282b0c['placed']=!![],elementsPlacedCount++,_0x282b0c[_0x466c72(0xa4)]=!![]);else _0x282b0c[_0x466c72(0xf6)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x282b0c[_0x466c72(0xf6)]=![],elementsPlacedCount--,_0x282b0c['isFixed']=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x466c72(0x115)]='',redraw();}function updateCounterDisplay(){const _0x215287=_0x4b4b55;counterBox[_0x215287(0x115)]=_0x215287(0x8a)+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x215287(0x115)]=_0x215287(0xaf),isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0xdc4715=findElementByLabel('C1'),_0x41f0a7=findElementByLabel(_0x215287(0xb0));_0xdc4715 instanceof Capacity&&_0x41f0a7 instanceof GroupLamp&&(_0xdc4715['setVisibility'](isC1CurrentlyVisible),_0x41f0a7['setVisibility'](!isC1CurrentlyVisible),_0x41f0a7[_0x215287(0x150)](),console[_0x215287(0x97)](_0x215287(0xd2)+isC1CurrentlyVisible+_0x215287(0xad)+!isC1CurrentlyVisible)),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x180af1=findElementByLabel(_0x215287(0xb0));_0x180af1 instanceof GroupLamp&&_0x180af1['setEnabled'](![]);const _0x5492ff=findElementByLabel('C1');if(_0x5492ff instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x4eb1ee=_0x4b4b55;messageBox[_0x4eb1ee(0x115)]=_0x4eb1ee(0xe8),messageBox[_0x4eb1ee(0x85)]['add']('show'),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x535184=_0x4eb1ee;messageBox[_0x535184(0x85)][_0x535184(0xbd)](_0x535184(0x10b));},0x7d0);}function polarToRect(_0xf3ac88,_0x4fddab){const _0xc825db=_0x4fddab*Math['PI']/0xb4;return{'re':_0xf3ac88*Math['cos'](_0xc825db),'im':_0xf3ac88*Math['sin'](_0xc825db)};}function rectToPolar(_0x2ed41d,_0x3a499e){const _0x59c5dd=_0x4b4b55,_0x4ba913=Math[_0x59c5dd(0x86)](_0x2ed41d*_0x2ed41d+_0x3a499e*_0x3a499e);let _0x49e835=Math['atan2'](_0x3a499e,_0x2ed41d),_0x39790d=_0x49e835*0xb4/Math['PI'];return{'mag':_0x4ba913,'ang':_0x39790d};}function addPhasors(_0x3b9139,_0x340395){return{'re':_0x3b9139['re']+_0x340395['re'],'im':_0x3b9139['im']+_0x340395['im']};}function subtractPhasors(_0x5c87a6,_0x532bd6){return{'re':_0x5c87a6['re']-_0x532bd6['re'],'im':_0x5c87a6['im']-_0x532bd6['im']};}function multiplyPhasors(_0xef3363,_0x2813dc){return{'re':_0xef3363['re']*_0x2813dc['re']-_0xef3363['im']*_0x2813dc['im'],'im':_0xef3363['re']*_0x2813dc['im']+_0xef3363['im']*_0x2813dc['re']};}function dividePhasors(_0x2e3d0f,_0x5448e8){const _0x363c4c=_0x4b4b55,_0x55b499=_0x5448e8['re']*_0x5448e8['re']+_0x5448e8['im']*_0x5448e8['im'];if(Math[_0x363c4c(0xe0)](_0x55b499)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0x2e3d0f['re']*_0x5448e8['re']+_0x2e3d0f['im']*_0x5448e8['im'])/_0x55b499,'im':(_0x2e3d0f['im']*_0x5448e8['re']-_0x2e3d0f['re']*_0x5448e8['im'])/_0x55b499};}function invertPhasorRect(_0x50f088){const _0x48d142=_0x4b4b55,_0x3d5839=_0x50f088['re']*_0x50f088['re']+_0x50f088['im']*_0x50f088['im'];if(Math[_0x48d142(0xe0)](_0x3d5839)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0x50f088['re']/_0x3d5839,'im':-_0x50f088['im']/_0x3d5839};}function calculateCircuit(){const _0x5f41df=_0x4b4b55;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();const _0x5ce66d=findElementByLabel('Uab\x20='),_0xc82bd1=findElementByLabel('Ubc\x20='),_0x55504b=findElementByLabel(_0x5f41df(0x107)),_0x2d4e07=findElementByLabel(_0x5f41df(0x9e)),_0x2202cb=findElementByLabel(_0x5f41df(0xb4)),_0x19fd4e=findElementByLabel(_0x5f41df(0xe4));if(_0x5ce66d)_0x5ce66d[_0x5f41df(0x120)](_0x5f41df(0xea));if(_0xc82bd1)_0xc82bd1['setText']('Ubc\x20=\x200.0\x20V');if(_0x55504b)_0x55504b['setText'](_0x5f41df(0xc2));if(_0x2d4e07)_0x2d4e07[_0x5f41df(0x120)](_0x5f41df(0x122));if(_0x2202cb)_0x2202cb['setText'](_0x5f41df(0xab));if(_0x19fd4e)_0x19fd4e['setText'](_0x5f41df(0x140));const _0x5b2e85=findElementByLabel(_0x5f41df(0xa7)),_0x5cfa4c=findElementByLabel('PA2'),_0x47dfa0=findElementByLabel('PA3'),_0x1998ad=findElementByLabel(_0x5f41df(0xeb));if(_0x5b2e85)displayCalculationValue(_0x5b2e85,null,_0x5f41df(0xac));if(_0x5cfa4c)displayCalculationValue(_0x5cfa4c,null,'bottom');if(_0x47dfa0)displayCalculationValue(_0x47dfa0,null,_0x5f41df(0xac));if(_0x1998ad)displayCalculationValue(_0x1998ad,null,_0x5f41df(0xac));return;}const _0x4c16ad=0xe6,_0x134352=0x32,_0x407a9e=0x2*Math['PI']*_0x134352,_0x2723f1=0xe6,_0x1bf84a=parseFloat(U_phase_mag)||_0x2723f1/Math[_0x5f41df(0x86)](0x3),_0x56e105={'mag':_0x1bf84a,'ang':0x0},_0x1d217d={'mag':_0x1bf84a,'ang':-0x78},_0x54f038={'mag':_0x1bf84a,'ang':0x78},_0x5e347e=polarToRect(_0x56e105[_0x5f41df(0xc7)],_0x56e105[_0x5f41df(0xc6)]),_0x2ca520=polarToRect(_0x1d217d[_0x5f41df(0xc7)],_0x1d217d['ang']),_0x1af307=polarToRect(_0x54f038[_0x5f41df(0xc7)],_0x54f038['ang']),_0x4337bc=findElementByLabel(_0x5f41df(0xb0)),_0x36de0f=findElementByLabel(_0x5f41df(0x88)),_0x389c37=findElementByLabel(_0x5f41df(0xfe)),_0x5a57c8=findElementByLabel('C1'),_0x292538=findElementByLabel(_0x5f41df(0x89)),_0x4fc299=findElementByLabel(_0x5f41df(0xec)),_0x12ffa1=findElementByLabel(_0x5f41df(0x98)),_0x4a795d=findElementByLabel(_0x5f41df(0xef)),_0xb9438a=findElementByLabel('SA12'),_0x8f7a78=findElementByLabel(_0x5f41df(0xcb)),_0x2ce9f2=findElementByLabel('SA31'),_0xe147c2=findElementByLabel(_0x5f41df(0xe6)),_0x26a490=findElementByLabel(_0x5f41df(0xa7)),_0x3b53be=findElementByLabel(_0x5f41df(0x146)),_0x25d442=findElementByLabel(_0x5f41df(0xb6)),_0x3719ec=findElementByLabel('PA4'),_0x4daff4=findElementByLabel(_0x5f41df(0x103)),_0x537d09=findElementByLabel(_0x5f41df(0x116)),_0xa7ca5b=findElementByLabel(_0x5f41df(0x107)),_0x2c38cd=findElementByLabel(_0x5f41df(0x9e)),_0x4a81ac=findElementByLabel(_0x5f41df(0xb4)),_0x462a19=findElementByLabel('Uc\x20=');if(!_0x4337bc||!_0x36de0f||!_0x389c37||!_0x5a57c8||!_0x292538||!_0x4fc299||!_0x12ffa1||!_0x4a795d||!_0xb9438a||!_0x8f7a78||!_0x2ce9f2||!_0xe147c2||!_0x26a490||!_0x3b53be||!_0x25d442||!_0x3719ec||!_0x4daff4||!_0x537d09||!_0xa7ca5b||!_0x2c38cd||!_0x4a81ac||!_0x462a19){console[_0x5f41df(0x13f)](_0x5f41df(0xfa)),warningMessageText=_0x5f41df(0x153),isBlinkingWarning=!![],hideCalculationValues();return;}hideCalculationValues();let _0x2a22e4={'re':Infinity,'im':0x0},_0x5d6bd0={'re':Infinity,'im':0x0},_0x102e08={'re':Infinity,'im':0x0};const _0x135580=0.01,_0x1562f3=_0x5adf9d=>{const _0x48febb=_0x5f41df;if(!_0x5adf9d||!_0x5adf9d[_0x48febb(0x93)]||!_0x5adf9d[_0x48febb(0xcf)])return Infinity;const _0xe0cd95=_0x5adf9d[_0x48febb(0x130)];if(_0xe0cd95<=0x0)return Infinity;let _0x222099=0x0;for(const _0x3a3787 of _0x5adf9d[_0x48febb(0xed)]){if(_0x3a3787[_0x48febb(0xa8)])_0x222099++;}if(_0x222099===0x0)return Infinity;const _0x5414ce=_0x4c16ad*_0x4c16ad/_0xe0cd95;return _0x5414ce/_0x222099;};if(!_0x292538[_0x5f41df(0x131)]&&!_0x4a795d[_0x5f41df(0x131)]){if(!_0xb9438a[_0x5f41df(0x131)])_0x2a22e4={'re':_0x135580,'im':0x0},_0x4337bc[_0x5f41df(0xcf)]&&_0x4337bc['setEnabled'](![]);else{const _0x21c09b=_0x1562f3(_0x4337bc);if(_0x4337bc[_0x5f41df(0x93)]&&_0x4337bc['isEnabled']&&_0x21c09b!==Infinity)_0x2a22e4={'re':_0x21c09b,'im':0x0};else{if(_0x5a57c8[_0x5f41df(0x93)]){const _0x1f046d=parseFloat(_0x5a57c8[_0x5f41df(0x108)])/0xf4240;_0x1f046d>0x0&&_0x407a9e>0x0&&(_0x2a22e4={'re':0x0,'im':-0x1/(_0x407a9e*_0x1f046d)});}}}}if(!_0x4fc299[_0x5f41df(0x131)]&&!_0x8f7a78[_0x5f41df(0x131)]){const _0x14a394=_0x1562f3(_0x36de0f);_0x36de0f['isVisible']&&_0x36de0f['isEnabled']&&_0x14a394!==Infinity&&(_0x5d6bd0={'re':_0x14a394,'im':0x0});}if(!_0x12ffa1[_0x5f41df(0x131)]&&!_0x2ce9f2[_0x5f41df(0x131)]){const _0x575aae=_0x1562f3(_0x389c37);_0x389c37['isVisible']&&_0x389c37[_0x5f41df(0xcf)]&&_0x575aae!==Infinity&&(_0x102e08={'re':_0x575aae,'im':0x0});}let _0x421d56={'re':0x0,'im':0x0},_0x35f7f0={'re':0x0,'im':0x0},_0x4f0bd4={'re':0x0,'im':0x0},_0x5022ad={'re':0x0,'im':0x0},_0x4a12d9={'re':0x0,'im':0x0},_0x28b10d={'re':0x0,'im':0x0},_0x120ea9={'re':0x0,'im':0x0},_0x3795c7={'re':0x0,'im':0x0},_0x562aad={'re':0x0,'im':0x0},_0x2fc83c={'re':0x0,'im':0x0};const _0x18cc7e=!_0xe147c2[_0x5f41df(0x131)],_0x3c6f32=_0x2a22e4['re']!==Infinity||_0x2a22e4['im']!==0x0?invertPhasorRect(_0x2a22e4):{'re':0x0,'im':0x0},_0x140c72=_0x5d6bd0['re']!==Infinity||_0x5d6bd0['im']!==0x0?invertPhasorRect(_0x5d6bd0):{'re':0x0,'im':0x0},_0x2dc8f7=_0x102e08['re']!==Infinity||_0x102e08['im']!==0x0?invertPhasorRect(_0x102e08):{'re':0x0,'im':0x0},_0x4cadc7=addPhasors(_0x3c6f32,addPhasors(_0x140c72,_0x2dc8f7));let _0x769710={'re':0x0,'im':0x0};if(!_0x18cc7e&&(Math[_0x5f41df(0xe0)](_0x4cadc7['re'])>1e-9||Math['abs'](_0x4cadc7['im'])>1e-9)){const _0x112d3c=multiplyPhasors(_0x5e347e,_0x3c6f32),_0x533806=multiplyPhasors(_0x2ca520,_0x140c72),_0x5a692f=multiplyPhasors(_0x1af307,_0x2dc8f7),_0x537d7c=addPhasors(_0x112d3c,addPhasors(_0x533806,_0x5a692f));_0x769710=dividePhasors(_0x537d7c,_0x4cadc7);}_0x18cc7e?(_0x4a12d9=_0x2a22e4['re']!==Infinity||_0x2a22e4['im']!==0x0?_0x5e347e:{'re':0x0,'im':0x0},_0x28b10d=_0x5d6bd0['re']!==Infinity||_0x5d6bd0['im']!==0x0?_0x2ca520:{'re':0x0,'im':0x0},_0x120ea9=_0x102e08['re']!==Infinity||_0x102e08['im']!==0x0?_0x1af307:{'re':0x0,'im':0x0},_0x3795c7=_0x4a12d9,_0x562aad=_0x28b10d,_0x2fc83c=_0x120ea9):(_0x4a12d9=!_0x292538['isOpen']&&(_0x2a22e4['re']!==Infinity||_0x2a22e4['im']!==0x0)?subtractPhasors(_0x5e347e,_0x769710):{'re':0x0,'im':0x0},_0x28b10d=!_0x4fc299[_0x5f41df(0x131)]&&(_0x5d6bd0['re']!==Infinity||_0x5d6bd0['im']!==0x0)?subtractPhasors(_0x2ca520,_0x769710):{'re':0x0,'im':0x0},_0x120ea9=!_0x12ffa1[_0x5f41df(0x131)]&&(_0x102e08['re']!==Infinity||_0x102e08['im']!==0x0)?subtractPhasors(_0x1af307,_0x769710):{'re':0x0,'im':0x0},_0x3795c7=_0x292538[_0x5f41df(0x131)]?{'re':0x0,'im':0x0}:_0x4a795d[_0x5f41df(0x131)]?subtractPhasors(_0x5e347e,_0x769710):_0x4a12d9,_0x562aad=_0x4fc299[_0x5f41df(0x131)]?{'re':0x0,'im':0x0}:_0x8f7a78['isOpen']?subtractPhasors(_0x2ca520,_0x769710):_0x28b10d,_0x2fc83c=_0x12ffa1[_0x5f41df(0x131)]?{'re':0x0,'im':0x0}:_0x2ce9f2['isOpen']?subtractPhasors(_0x1af307,_0x769710):_0x120ea9);_0x421d56=multiplyPhasors(_0x4a12d9,_0x3c6f32),_0x35f7f0=multiplyPhasors(_0x28b10d,_0x140c72),_0x4f0bd4=multiplyPhasors(_0x120ea9,_0x2dc8f7),_0x5022ad=addPhasors(_0x421d56,addPhasors(_0x35f7f0,_0x4f0bd4));!_0x18cc7e&&(_0x5022ad={'re':0x0,'im':0x0});const _0x380191=!_0xb9438a['isOpen']&&!_0x292538['isOpen']&&!_0x4a795d[_0x5f41df(0x131)];if(_0x380191&&_0x18cc7e)warningMessageText='Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!',isBlinkingWarning=!![],(!blinkState||millis()-lastBlinkTime>BLINK_INTERVAL*0x2)&&(blinkState=!![],lastBlinkTime=millis());else!_0x18cc7e?(warningMessageText=_0x5f41df(0xd1),isBlinkingWarning=![]):(warningMessageText=null,isBlinkingWarning=![]);const _0x518ab9=subtractPhasors(_0x5e347e,_0x2ca520),_0x3fce3d=subtractPhasors(_0x2ca520,_0x1af307),_0x312b93=subtractPhasors(_0x1af307,_0x5e347e),_0x1e0ca4=rectToPolar(_0x518ab9['re'],_0x518ab9['im']),_0x2a9567=rectToPolar(_0x3fce3d['re'],_0x3fce3d['im']),_0x51afac=rectToPolar(_0x312b93['re'],_0x312b93['im']),_0x178d3f=rectToPolar(_0x3795c7['re'],_0x3795c7['im']),_0x29fe31=rectToPolar(_0x562aad['re'],_0x562aad['im']),_0x2fc4b1=rectToPolar(_0x2fc83c['re'],_0x2fc83c['im']),_0x266420=rectToPolar(_0x421d56['re'],_0x421d56['im']),_0x22115f=rectToPolar(_0x35f7f0['re'],_0x35f7f0['im']),_0x46f7bd=rectToPolar(_0x4f0bd4['re'],_0x4f0bd4['im']),_0x43f5e1=rectToPolar(_0x5022ad['re'],_0x5022ad['im']),_0x438021=(_0x51a081,_0x46df9c,_0x50a56b=0x1)=>{const _0xea5c32=_0x5f41df;if(isNaN(_0x51a081)||!isFinite(_0x51a081))return _0xea5c32(0x90)+_0x46df9c;if(_0x46df9c==='A'){if(Math[_0xea5c32(0xe0)](_0x51a081)>0x270f)return'>9999\x20A';if(Math[_0xea5c32(0xe0)](_0x51a081)<0.005)_0x51a081=0x0;_0x50a56b=0x2;}return _0x51a081[_0xea5c32(0xd0)](_0x50a56b)+'\x20'+_0x46df9c;};displayCalculationValue(_0x26a490,'Ia\x20=\x20'+_0x438021(_0x266420[_0x5f41df(0xc7)],'A'),_0x5f41df(0xac)),displayCalculationValue(_0x3b53be,_0x5f41df(0xd7)+_0x438021(_0x22115f['mag'],'A'),'bottom'),displayCalculationValue(_0x25d442,_0x5f41df(0x109)+_0x438021(_0x46f7bd[_0x5f41df(0xc7)],'A'),_0x5f41df(0xac)),displayCalculationValue(_0x3719ec,_0x5f41df(0x14d)+_0x438021(_0x43f5e1[_0x5f41df(0xc7)],'A'),_0x5f41df(0xac));let _0x174721=NaN,_0xf4f3d2=NaN,_0x979906=NaN;if(_0x18cc7e)_0x174721=!_0x292538[_0x5f41df(0x131)]&&!_0x4fc299[_0x5f41df(0x131)]?_0x1e0ca4[_0x5f41df(0xc7)]:NaN,_0xf4f3d2=!_0x4fc299['isOpen']&&!_0x12ffa1['isOpen']?_0x2a9567['mag']:NaN,_0x979906=!_0x12ffa1['isOpen']&&!_0x292538['isOpen']?_0x51afac['mag']:NaN;else{if(!_0x292538[_0x5f41df(0x131)]&&!_0x4fc299['isOpen'])_0x174721=_0x1e0ca4[_0x5f41df(0xc7)];if(!_0x4fc299['isOpen']&&!_0x12ffa1['isOpen'])_0xf4f3d2=_0x2a9567['mag'];if(!_0x12ffa1[_0x5f41df(0x131)]&&!_0x292538[_0x5f41df(0x131)])_0x979906=_0x51afac[_0x5f41df(0xc7)];if(_0x292538['isOpen']&&!_0x4fc299[_0x5f41df(0x131)]&&!_0x12ffa1[_0x5f41df(0x131)])_0x174721=_0x29fe31[_0x5f41df(0xc7)],_0x979906=_0x2fc4b1[_0x5f41df(0xc7)];else{if(_0x4fc299[_0x5f41df(0x131)]&&!_0x292538[_0x5f41df(0x131)]&&!_0x12ffa1[_0x5f41df(0x131)])_0xf4f3d2=_0x2fc4b1[_0x5f41df(0xc7)],_0x174721=_0x178d3f[_0x5f41df(0xc7)];else _0x12ffa1[_0x5f41df(0x131)]&&!_0x292538[_0x5f41df(0x131)]&&!_0x4fc299[_0x5f41df(0x131)]&&(_0x979906=_0x178d3f[_0x5f41df(0xc7)],_0xf4f3d2=_0x29fe31[_0x5f41df(0xc7)]);}}_0x4daff4[_0x5f41df(0x120)](_0x5f41df(0x14f)+_0x438021(_0x174721,'V')),_0x537d09[_0x5f41df(0x120)](_0x5f41df(0x12d)+_0x438021(_0xf4f3d2,'V')),_0xa7ca5b[_0x5f41df(0x120)](_0x5f41df(0x129)+_0x438021(_0x979906,'V')),_0x2c38cd['setText'](_0x5f41df(0xb5)+_0x438021(_0x178d3f[_0x5f41df(0xc7)],'V')),_0x4a81ac[_0x5f41df(0x120)](_0x5f41df(0xbc)+_0x438021(_0x29fe31[_0x5f41df(0xc7)],'V')),_0x462a19[_0x5f41df(0x120)]('Uc\x20=\x20'+_0x438021(_0x2fc4b1[_0x5f41df(0xc7)],'V'));}function findElementByLabel(_0x5f25ae){const _0x16f894=_0x4b4b55;for(const _0x463048 of elements){if(_0x463048[_0x16f894(0xdf)]===_0x5f25ae)return _0x463048;}if(_0x5f25ae===_0x16f894(0x103))return elements[_0x16f894(0x112)](_0x282de4=>_0x282de4 instanceof StaticTextDisplay&&_0x282de4[_0x16f894(0x12c)][_0x16f894(0x13a)](_0x16f894(0x103)));if(_0x5f25ae===_0x16f894(0x116))return elements[_0x16f894(0x112)](_0x4b5f15=>_0x4b5f15 instanceof StaticTextDisplay&&_0x4b5f15[_0x16f894(0x12c)][_0x16f894(0x13a)]('Ubc\x20='));if(_0x5f25ae==='Uca\x20=')return elements[_0x16f894(0x112)](_0x3e954f=>_0x3e954f instanceof StaticTextDisplay&&_0x3e954f[_0x16f894(0x12c)][_0x16f894(0x13a)](_0x16f894(0x107)));if(_0x5f25ae===_0x16f894(0x9e))return elements['find'](_0x28a904=>_0x28a904 instanceof StaticTextDisplay&&_0x28a904[_0x16f894(0x12c)][_0x16f894(0x13a)]('Ua\x20='));if(_0x5f25ae===_0x16f894(0xb4))return elements[_0x16f894(0x112)](_0x39c534=>_0x39c534 instanceof StaticTextDisplay&&_0x39c534[_0x16f894(0x12c)][_0x16f894(0x13a)](_0x16f894(0xb4)));if(_0x5f25ae===_0x16f894(0xe4))return elements[_0x16f894(0x112)](_0x270733=>_0x270733 instanceof StaticTextDisplay&&_0x270733['text']['startsWith'](_0x16f894(0xe4)));return null;}function displayCalculationValue(_0x45c2cd,_0x53eded,_0x1aba3c){const _0x5a7f84=_0x4b4b55;if(!_0x45c2cd||typeof _0x45c2cd['x']===_0x5a7f84(0xd4)||typeof _0x45c2cd['y']===_0x5a7f84(0xd4)){console[_0x5a7f84(0x13f)](_0x5a7f84(0xda),_0x45c2cd);return;}push(),translate(_0x45c2cd['x'],_0x45c2cd['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x1aba3c==='bottom'?TOP:BOTTOM);let _0x560883=0x0;if(_0x45c2cd instanceof CustomAmmeter||_0x45c2cd instanceof Frequency)_0x560883=(_0x1aba3c===_0x5a7f84(0xac)?_0x45c2cd['r']+0xa:-_0x45c2cd['r']-0x19)*SCALE_FACTOR;else{if(_0x45c2cd instanceof Phasemeter)_0x560883=(_0x1aba3c===_0x5a7f84(0xac)?_0x45c2cd['r']+0xa:-_0x45c2cd['r']-0x19)*SCALE_FACTOR;else{if(_0x45c2cd instanceof Resistor)_0x560883=(_0x1aba3c===_0x5a7f84(0xf2)?-_0x45c2cd['h']/0x2-0xf:_0x45c2cd['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x45c2cd instanceof AutotransformerLaboratory)_0x560883=(_0x1aba3c==='top'?-_0x45c2cd['h']/0x2-0x23:_0x45c2cd['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x45c2cd instanceof Induction)_0x560883=(_0x1aba3c===_0x5a7f84(0xf2)?-_0x45c2cd['h']/0x2-0xf:_0x45c2cd['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x45c2cd instanceof Capacity)_0x560883=(_0x1aba3c===_0x5a7f84(0xf2)?-_0x45c2cd['h']/0x2-0xf:_0x45c2cd['h']/0x2+0x14)*SCALE_FACTOR;else _0x45c2cd instanceof Lamp&&(_0x560883=(_0x1aba3c===_0x5a7f84(0xf2)?-_0x45c2cd['h']/0x2-0xf:_0x45c2cd['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x53eded,0x0,_0x560883),pop(),_0x45c2cd[_0x5a7f84(0x14b)]=_0x53eded;}function hideCalculationValues(){const _0x4b5f6d=_0x4b4b55;redraw(),elements[_0x4b5f6d(0x123)](_0x267fa9=>{const _0x23830c=_0x4b5f6d;_0x267fa9[_0x23830c(0x14b)]=null;});}class CircuitElement{constructor(_0x6d5458,_0x54ab8d){const _0x417dfc=_0x4b4b55;this['x']=_0x6d5458,this['y']=_0x54ab8d,this['orientation']=0x1,this[_0x417dfc(0xe9)]=[],this[_0x417dfc(0x10f)]=![],this[_0x417dfc(0xba)]=null,this[_0x417dfc(0x14b)]=null;}['update'](){}[_0x4b4b55(0x9b)](){const _0xbf319b=_0x4b4b55;push(),translate(this['x'],this['y']);let _0x2a9b2e=0x0;switch(this[_0xbf319b(0x99)]){case 0x2:_0x2a9b2e=PI/0x2;break;case 0x3:_0x2a9b2e=PI;break;case 0x4:_0x2a9b2e=0x3*PI/0x2;break;default:_0x2a9b2e=0x0;}rotate(_0x2a9b2e);if(this[_0xbf319b(0x14b)]!==null){stroke(_0xbf319b(0x92)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x4c8766=textWidth(this[_0xbf319b(0x14b)]);rectMode(CENTER);let _0x9f3283=-0xa*SCALE_FACTOR,_0xa1ec80=0x28*SCALE_FACTOR,_0x309e84=0x2*SCALE_FACTOR,_0x2afef6=0x2*SCALE_FACTOR;rect(_0x9f3283,_0xa1ec80,_0x4c8766+_0x309e84*0x2,0x14*SCALE_FACTOR+_0x2afef6*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0xbf319b(0x14b)],_0x9f3283,_0xa1ec80);}}[_0x4b4b55(0xca)](){rotate(0x0),pop();}[_0x4b4b55(0xbf)](){const _0x5b7b74=_0x4b4b55;this[_0x5b7b74(0xe9)][_0x5b7b74(0x123)](_0x104d98=>{const _0x765ef7=_0x5b7b74;_0x104d98['x']=this['x']+cos(this['rotationAngle']())*_0x104d98[_0x765ef7(0x15b)]-sin(this[_0x765ef7(0xaa)]())*_0x104d98['originalY'],_0x104d98['y']=this['y']+sin(this[_0x765ef7(0xaa)]())*_0x104d98[_0x765ef7(0x15b)]+cos(this[_0x765ef7(0xaa)]())*_0x104d98[_0x765ef7(0x118)];});}[_0x4b4b55(0xaa)](){const _0xf518e3=_0x4b4b55;switch(this[_0xf518e3(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x47c4af,_0x54ed11,_0x23eec1){const _0x1f7ff9=_0x4b4b55;super(_0x47c4af,_0x54ed11),this['r']=0x14*SCALE_FACTOR,this[_0x1f7ff9(0xdf)]=_0x23eec1,this[_0x1f7ff9(0x9c)]='12',this[_0x1f7ff9(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x1f7ff9(0xe9)]['forEach'](_0x4446b6=>{const _0x4207bd=_0x1f7ff9;_0x4446b6[_0x4207bd(0x15b)]*=SCALE_FACTOR;}),this[_0x1f7ff9(0xa8)]=![];}[_0x4b4b55(0x156)](_0x5f5319){const _0x2d6b90=_0x4b4b55;_0x5f5319[_0x2d6b90(0xf1)](0x1*SCALE_FACTOR),_0x5f5319['stroke'](0x0),_0x5f5319['fill'](0xff),_0x5f5319[_0x2d6b90(0xc3)](0x0,0x0,this['r']*1.5),_0x5f5319[_0x2d6b90(0x104)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x5f5319[_0x2d6b90(0x104)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x5f5319[_0x2d6b90(0x104)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x5f5319['noStroke'](),_0x5f5319['fill'](0x0),_0x5f5319['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x5f5319[_0x2d6b90(0x12c)](this[_0x2d6b90(0xdf)],0x0,this['r']*1.3);}[_0x4b4b55(0x9b)](){const _0x629f94=_0x4b4b55;super[_0x629f94(0x9b)]();let _0x43e92e=0x1*SCALE_FACTOR,_0x1a67af=0x2*_0x43e92e;this[_0x629f94(0xa8)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x1a67af),fill(0xff)):(stroke(0x0),strokeWeight(_0x43e92e),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x629f94(0xa8)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x629f94(0xdf)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this[_0x629f94(0x9c)]+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x629f94(0xca)](),this['updateConnectors']();}[_0x4b4b55(0xaa)](){const _0x23156c=_0x4b4b55;switch(this[_0x23156c(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x106086,_0x8e3405,_0xacb1cb){const _0x806d=_0x4b4b55;super(_0x106086,_0x8e3405),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x806d(0xdf)]=_0xacb1cb,this['resistance']='100',this[_0x806d(0x10a)]=0x0,this[_0x806d(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x806d(0xe9)]['forEach'](_0x46ddb6=>{const _0x3f7d5e=_0x806d;_0x46ddb6[_0x3f7d5e(0x15b)]*=SCALE_FACTOR;});}['displayPalette'](_0xf434e1){const _0x48a33f=_0x4b4b55;_0xf434e1[_0x48a33f(0xf1)](0x1*SCALE_FACTOR),_0xf434e1[_0x48a33f(0x9f)](0x0),_0xf434e1[_0x48a33f(0xb8)](0xc8,0x96,0x64),_0xf434e1['rectMode'](CENTER),_0xf434e1[_0x48a33f(0x11f)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0xf434e1['noStroke'](),_0xf434e1['fill'](0x0),_0xf434e1[_0x48a33f(0x111)](CENTER,CENTER),_0xf434e1[_0x48a33f(0x138)](0x8*SCALE_FACTOR),_0xf434e1['text'](this[_0x48a33f(0xdf)],0x0,0x0);}[_0x4b4b55(0x9b)](){const _0x3c4619=_0x4b4b55;super[_0x3c4619(0x9b)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x3c4619(0xdf)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x3c4619(0x151)]+'\x20Ом',0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super['postDisplay'](),this['updateConnectors']();}[_0x4b4b55(0xbf)](){const _0x4f37ae=_0x4b4b55;this[_0x4f37ae(0xe9)][_0x4f37ae(0x123)](_0x718a30=>{const _0x2e7a8a=_0x4f37ae;_0x718a30['x']=this['x']+cos(this[_0x2e7a8a(0xaa)]())*_0x718a30['originalX']-sin(this[_0x2e7a8a(0xaa)]())*_0x718a30['originalY'],_0x718a30['y']=this['y']+sin(this[_0x2e7a8a(0xaa)]())*_0x718a30[_0x2e7a8a(0x15b)]+cos(this[_0x2e7a8a(0xaa)]())*_0x718a30[_0x2e7a8a(0x118)];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x2fd660,_0x3c0451,_0x1228b4){const _0x4a6720=_0x4b4b55;super(_0x2fd660,_0x3c0451),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x4a6720(0xf7)](this['w'],this['h'])/0x2,this[_0x4a6720(0xdf)]=_0x1228b4,this[_0x4a6720(0x108)]='9',this[_0x4a6720(0x93)]=!![],this[_0x4a6720(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x4a6720(0xe9)][_0x4a6720(0x123)](_0x85e570=>{const _0x22af41=_0x4a6720;_0x85e570[_0x22af41(0x15b)]*=SCALE_FACTOR;});}['setVisibility'](_0x859e5c){const _0x3849d3=_0x4b4b55;if(_0x859e5c===this[_0x3849d3(0x93)])return;this[_0x3849d3(0x93)]=_0x859e5c,redraw();}[_0x4b4b55(0x156)](_0x44db1f){const _0x537466=_0x4b4b55;_0x44db1f[_0x537466(0xf1)](0x1*SCALE_FACTOR),_0x44db1f[_0x537466(0x9f)](0x0),_0x44db1f[_0x537466(0x104)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x44db1f[_0x537466(0x104)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x44db1f[_0x537466(0x104)](this['w']/0x5,0x0,this['w'],0x0),_0x44db1f[_0x537466(0x104)](-this['w']/0x5,0x0,-this['w'],0x0),_0x44db1f['noStroke'](),_0x44db1f[_0x537466(0xb8)](0x0),_0x44db1f[_0x537466(0x111)](CENTER,CENTER),_0x44db1f[_0x537466(0x138)](0x8*SCALE_FACTOR),_0x44db1f[_0x537466(0x12c)](this[_0x537466(0xdf)],-this['w']/0x2,-this['h']*0.5);}[_0x4b4b55(0x9b)](){const _0x57b8ac=_0x4b4b55;if(!this[_0x57b8ac(0x93)])return;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x57b8ac(0x108)]+_0x57b8ac(0xfd),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x57b8ac(0xca)](),this['updateConnectors']();}[_0x4b4b55(0xbf)](){const _0x2576e1=_0x4b4b55;this[_0x2576e1(0xe9)][_0x2576e1(0x123)](_0x5a43a4=>{const _0x162850=_0x2576e1;_0x5a43a4['x']=this['x']+cos(this[_0x162850(0xaa)]())*_0x5a43a4[_0x162850(0x15b)]-sin(this[_0x162850(0xaa)]())*_0x5a43a4[_0x162850(0x118)],_0x5a43a4['y']=this['y']+sin(this[_0x162850(0xaa)]())*_0x5a43a4[_0x162850(0x15b)]+cos(this[_0x162850(0xaa)]())*_0x5a43a4[_0x162850(0x118)];});}[_0x4b4b55(0xaa)](){const _0x33beb3=_0x4b4b55;switch(this[_0x33beb3(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x2cb1bb,_0x48dbd7,_0x1c61c5){const _0x29e266=_0x4b4b55;super(_0x2cb1bb,_0x48dbd7),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this[_0x29e266(0xdf)]=_0x1c61c5,this[_0x29e266(0x143)]='50',this[_0x29e266(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x29e266(0xe9)][_0x29e266(0x123)](_0x36bc88=>{_0x36bc88['originalX']*=SCALE_FACTOR;});}[_0x4b4b55(0x156)](_0x427df2){const _0x55b807=_0x4b4b55;_0x427df2['strokeWeight'](0x1*SCALE_FACTOR),_0x427df2[_0x55b807(0x9f)](0x0),_0x427df2[_0x55b807(0xb8)](0xdc),_0x427df2[_0x55b807(0xc3)](0x0,0x0,this['r']*1.5),_0x427df2[_0x55b807(0xd3)](),_0x427df2[_0x55b807(0xb8)](0x0),_0x427df2[_0x55b807(0x111)](CENTER,CENTER),_0x427df2['textSize'](0x8*SCALE_FACTOR),_0x427df2[_0x55b807(0x12c)](this['label'],this['r']*0.6,this['r']*1.3);}['display'](){const _0x35c09a=_0x4b4b55;super[_0x35c09a(0x9b)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x35c09a(0xdf)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x35c09a(0x143)]+_0x35c09a(0x136),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x35c09a(0xca)](),this['updateConnectors']();}[_0x4b4b55(0xbf)](){const _0x4534f4=_0x4b4b55;this[_0x4534f4(0xe9)][_0x4534f4(0x123)](_0x37f641=>{const _0x212a64=_0x4534f4;_0x37f641['x']=this['x']+cos(this[_0x212a64(0xaa)]())*_0x37f641[_0x212a64(0x15b)]-sin(this['rotationAngle']())*_0x37f641[_0x212a64(0x118)],_0x37f641['y']=this['y']+sin(this['rotationAngle']())*_0x37f641[_0x212a64(0x15b)]+cos(this[_0x212a64(0xaa)]())*_0x37f641[_0x212a64(0x118)];});}[_0x4b4b55(0xaa)](){const _0x5b5dbf=_0x4b4b55;switch(this[_0x5b5dbf(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x4d33ce,_0x1c96a6,_0x36f83e){const _0x3aae0d=_0x4b4b55;super(_0x4d33ce,_0x1c96a6),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x3aae0d(0xdf)]=_0x36f83e,this[_0x3aae0d(0x10c)]='440',this[_0x3aae0d(0x10a)]=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x3aae0d(0xe9)][_0x3aae0d(0x123)](_0x56ce5a=>{_0x56ce5a['originalX']*=SCALE_FACTOR;});}['displayPalette'](_0x3fae62){const _0x4810ae=_0x4b4b55;_0x3fae62[_0x4810ae(0xf1)](0x1*SCALE_FACTOR),_0x3fae62[_0x4810ae(0x9f)](0x0);let _0x102ba3=this['h']*0.25,_0x1dd26d=this['w']*0.6,_0x3b90b4=-_0x1dd26d/0x2,_0x52de36=0x0,_0x47b7d2=_0x1dd26d/0x3;_0x3fae62[_0x4810ae(0x124)]();const _0x16f7ef=0x3;for(let _0x54671f=0x0;_0x54671f<_0x16f7ef;_0x54671f++){let _0x1ac433=_0x3b90b4+_0x54671f*_0x47b7d2;_0x3fae62[_0x4810ae(0xe5)](_0x1ac433+_0x47b7d2/0x2,_0x52de36,_0x47b7d2,_0x102ba3,PI,0x0);}_0x3fae62[_0x4810ae(0x104)](_0x3b90b4,0x0,_0x3b90b4-0xa,0x0),_0x3fae62[_0x4810ae(0x104)](_0x1dd26d/0x2,0x0,_0x1dd26d/0x2+0xa,0x0),_0x3fae62['noStroke'](),_0x3fae62[_0x4810ae(0xb8)](0x0),_0x3fae62[_0x4810ae(0x111)](CENTER,CENTER),_0x3fae62[_0x4810ae(0x138)](0x8*SCALE_FACTOR),_0x3fae62[_0x4810ae(0x12c)](this[_0x4810ae(0xdf)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x4b4b55(0x9b)](){const _0x2fd4d9=_0x4b4b55;super[_0x2fd4d9(0x9b)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x52167f=this['h']*0.25,_0x115ace=this['w']*0.6,_0x197e34=-_0x115ace/0x2,_0x42f225=0x0,_0x1c518f=_0x115ace/0x3;noFill();const _0x2c4007=0x3;for(let _0x560398=0x0;_0x560398<_0x2c4007;_0x560398++){let _0x4b44d3=_0x197e34+_0x560398*_0x1c518f;arc(_0x4b44d3+_0x1c518f/0x2,_0x42f225,_0x1c518f,_0x52167f,PI,0x0);}line(_0x197e34,0x0,_0x197e34-_0x115ace/0x3,0x0),line(_0x115ace/0x2,0x0,_0x115ace*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x2fd4d9(0xdf)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x2fd4d9(0x10c)]+_0x2fd4d9(0x142),0x0,this['h']/0xa)),super[_0x2fd4d9(0xca)](),this[_0x2fd4d9(0xbf)]();}[_0x4b4b55(0xbf)](){const _0x537b6a=_0x4b4b55;this[_0x537b6a(0xe9)][_0x537b6a(0x123)](_0x5cedaf=>{const _0x5161d4=_0x537b6a;_0x5cedaf['x']=this['x']+cos(this[_0x5161d4(0xaa)]())*_0x5cedaf[_0x5161d4(0x15b)]-sin(this[_0x5161d4(0xaa)]())*_0x5cedaf[_0x5161d4(0x118)],_0x5cedaf['y']=this['y']+sin(this[_0x5161d4(0xaa)]())*_0x5cedaf[_0x5161d4(0x15b)]+cos(this[_0x5161d4(0xaa)]())*_0x5cedaf[_0x5161d4(0x118)];});}[_0x4b4b55(0xaa)](){const _0x4dd437=_0x4b4b55;switch(this[_0x4dd437(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x7df14e,_0x64dd60,_0x10264e){const _0x4a7e17=_0x4b4b55;super(_0x7df14e,_0x64dd60),this['r']=0x11*SCALE_FACTOR,this[_0x4a7e17(0xdf)]=_0x10264e,this[_0x4a7e17(0x117)]=0x0,this[_0x4a7e17(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors']['forEach'](_0x3bc97c=>{const _0x8d0f26=_0x4a7e17;_0x3bc97c[_0x8d0f26(0x15b)]*=SCALE_FACTOR;});}[_0x4b4b55(0x156)](_0xa8bcf6){const _0x39ef5d=_0x4b4b55;_0xa8bcf6['strokeWeight'](0x1*SCALE_FACTOR),_0xa8bcf6['stroke'](0x0),_0xa8bcf6[_0x39ef5d(0xb8)](0xdc),_0xa8bcf6[_0x39ef5d(0xc3)](0x0,0x0,this['r']*1.5),_0xa8bcf6['noStroke'](),_0xa8bcf6[_0x39ef5d(0xb8)](0x0),_0xa8bcf6['textAlign'](CENTER,CENTER),_0xa8bcf6[_0x39ef5d(0x138)](0x8*SCALE_FACTOR),_0xa8bcf6[_0x39ef5d(0x12c)](this[_0x39ef5d(0xdf)],this['r']*0.6,this['r']*1.3);}[_0x4b4b55(0x9b)](){const _0x282f03=_0x4b4b55;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x282f03(0xdf)],0x0,0x0),super[_0x282f03(0xca)](),this[_0x282f03(0xbf)]();}['updateConnectors'](){const _0x4595aa=_0x4b4b55;this['connectors'][_0x4595aa(0x123)](_0x237f27=>{const _0x32066a=_0x4595aa;_0x237f27['x']=this['x']+cos(this['rotationAngle']())*_0x237f27[_0x32066a(0x15b)]-sin(this['rotationAngle']())*_0x237f27['originalY'],_0x237f27['y']=this['y']+sin(this['rotationAngle']())*_0x237f27[_0x32066a(0x15b)]+cos(this[_0x32066a(0xaa)]())*_0x237f27[_0x32066a(0x118)];});}['rotationAngle'](){const _0x32511b=_0x4b4b55;switch(this[_0x32511b(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x2699b4,_0x4f89de,_0x7fb6ca){const _0x228501=_0x4b4b55;super(_0x2699b4,_0x4f89de),this['r']=0x11*SCALE_FACTOR,this['label']=_0x7fb6ca,this[_0x228501(0x100)]=0x0,this[_0x228501(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x228501(0xe9)][_0x228501(0x123)](_0xaadb24=>{const _0x53c474=_0x228501;_0xaadb24[_0x53c474(0x15b)]*=SCALE_FACTOR;});}[_0x4b4b55(0x156)](_0x28876){const _0x4de049=_0x4b4b55;_0x28876[_0x4de049(0xf1)](0x1*SCALE_FACTOR),_0x28876[_0x4de049(0x9f)](0x0),_0x28876[_0x4de049(0xb8)](0xdc),_0x28876[_0x4de049(0xc3)](0x0,0x0,this['r']*0x1);const _0x39cdc6=0.8;_0x28876[_0x4de049(0x104)](-this['r']*_0x39cdc6,0x0,this['r']*_0x39cdc6,0x0),_0x28876[_0x4de049(0x104)](0x0,-this['r']*_0x39cdc6,0x0,this['r']*_0x39cdc6),_0x28876['line'](0x0,-this['r']*_0x39cdc6,-this['r']*_0x39cdc6,-this['r']*_0x39cdc6),_0x28876[_0x4de049(0x104)](-this['r']*_0x39cdc6,-this['r']*_0x39cdc6,-this['r']*_0x39cdc6,0x0),_0x28876['fill'](0x0),_0x28876[_0x4de049(0xc3)](0x0,this['r']*_0x39cdc6,this['r']*0.2),_0x28876[_0x4de049(0xc3)](-this['r']*_0x39cdc6,0x0,this['r']*0.2),_0x28876[_0x4de049(0xc3)](0x0,-this['r']*_0x39cdc6,this['r']*0.2),_0x28876[_0x4de049(0xd3)](),_0x28876[_0x4de049(0xb8)](0x0),_0x28876[_0x4de049(0x111)](CENTER,CENTER),_0x28876['textSize'](0xa*SCALE_FACTOR),_0x28876[_0x4de049(0x12c)](this[_0x4de049(0xdf)],this['r']*_0x39cdc6,-this['r']*_0x39cdc6);}[_0x4b4b55(0x9b)](){const _0x22370a=_0x4b4b55;super[_0x22370a(0x9b)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this['label'],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x22370a(0xca)](),this[_0x22370a(0xbf)]();}[_0x4b4b55(0xbf)](){const _0x7e444d=_0x4b4b55;this[_0x7e444d(0xe9)][_0x7e444d(0x123)](_0xa561a3=>{const _0xb33925=_0x7e444d;_0xa561a3['x']=this['x']+cos(this[_0xb33925(0xaa)]())*_0xa561a3[_0xb33925(0x15b)]-sin(this['rotationAngle']())*_0xa561a3[_0xb33925(0x118)],_0xa561a3['y']=this['y']+sin(this[_0xb33925(0xaa)]())*_0xa561a3[_0xb33925(0x15b)]+cos(this['rotationAngle']())*_0xa561a3['originalY'];});}['rotationAngle'](){const _0x5496dc=_0x4b4b55;switch(this[_0x5496dc(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x51e490,_0x12ba65,_0xc4b610=''){const _0x3e8621=_0x4b4b55;super(_0x51e490,_0x12ba65),this['r']=0x14*SCALE_FACTOR,this['label']=_0xc4b610,this[_0x3e8621(0xce)]=0x3,this[_0x3e8621(0xe9)]=this[_0x3e8621(0x13d)]();}['updateConnectorPositions'](){const _0xfd90a4=_0x4b4b55;let _0x1c3dd2=[];switch(this[_0xfd90a4(0xce)]){case 0x1:_0x1c3dd2=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x1c3dd2=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x1c3dd2=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x1c3dd2=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x1c3dd2=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x1c3dd2[_0xfd90a4(0x123)](_0x3b3a86=>{const _0x3f632e=_0xfd90a4;_0x3b3a86[_0x3f632e(0x15b)]*=SCALE_FACTOR,_0x3b3a86[_0x3f632e(0x118)]*=SCALE_FACTOR;}),_0x1c3dd2;}[_0x4b4b55(0x156)](_0x34ccdb){const _0xc08e8c=_0x4b4b55;_0x34ccdb[_0xc08e8c(0xf1)](1.5*SCALE_FACTOR),_0x34ccdb[_0xc08e8c(0x9f)](0x0);let _0x2b2ad0=this['r']*0.75;_0x34ccdb[_0xc08e8c(0x104)](0x0,-_0x2b2ad0,0x0,_0x2b2ad0),_0x34ccdb[_0xc08e8c(0x104)](-_0x2b2ad0,0x0,_0x2b2ad0,0x0);}['display'](){const _0x54b916=_0x4b4b55;super[_0x54b916(0x9b)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x5a65a9=this['r']*1.5;switch(this[_0x54b916(0xce)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x5a65a9,0x0,0x0),line(-_0x5a65a9,0x0,_0x5a65a9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x54b916(0xdf)],0x0,_0x5a65a9+0x5*SCALE_FACTOR),super[_0x54b916(0xca)](),this[_0x54b916(0xbf)]();}[_0x4b4b55(0xe1)](){const _0x459ccc=_0x4b4b55;this['angleMode']=Math['round'](this[_0x459ccc(0xa9)]),this[_0x459ccc(0xe9)]=this[_0x459ccc(0x13d)]();}[_0x4b4b55(0xbf)](){this['connectors']['forEach'](_0x96b9f4=>{const _0x17b394=_0x2e86;_0x96b9f4['x']=this['x']+cos(this[_0x17b394(0xaa)]())*_0x96b9f4['originalX']-sin(this[_0x17b394(0xaa)]())*_0x96b9f4[_0x17b394(0x118)],_0x96b9f4['y']=this['y']+sin(this['rotationAngle']())*_0x96b9f4['originalX']+cos(this[_0x17b394(0xaa)]())*_0x96b9f4[_0x17b394(0x118)];});}[_0x4b4b55(0xaa)](){return 0x0;}}function _0x2e86(_0x108375,_0x560fe9){const _0x570c45=_0x570c();return _0x2e86=function(_0x2e865b,_0x4e6301){_0x2e865b=_0x2e865b-0x84;let _0x103a45=_0x570c45[_0x2e865b];return _0x103a45;},_0x2e86(_0x108375,_0x560fe9);}class SwitchSPDT extends CircuitElement{constructor(_0xaa172,_0xdc3045,_0x2ce07c){const _0x3a604f=_0x4b4b55;super(_0xaa172,_0xdc3045),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x3a604f(0xdf)]=_0x2ce07c,this['state']=0x2,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x3a604f(0xe9)]['forEach'](_0x220f39=>{const _0x192d59=_0x3a604f;_0x220f39[_0x192d59(0x15b)]*=SCALE_FACTOR,_0x220f39[_0x192d59(0x118)]*=SCALE_FACTOR;});}['displayPalette'](_0x54e141){const _0x359f1b=_0x4b4b55;_0x54e141[_0x359f1b(0xf1)](1.5*SCALE_FACTOR),_0x54e141['stroke'](0x0),_0x54e141['noFill'](),_0x54e141['rectMode'](CENTER),_0x54e141[_0x359f1b(0x11f)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x54e141[_0x359f1b(0x104)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x54e141[_0x359f1b(0x104)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x54e141[_0x359f1b(0x104)](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x54e141[_0x359f1b(0x104)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x54e141[_0x359f1b(0xd3)](),_0x54e141[_0x359f1b(0xb8)](0x0),_0x54e141[_0x359f1b(0x111)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x54e141[_0x359f1b(0x12c)](this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x4b4b55(0x9b)](){const _0x4c0e1c=_0x4b4b55;super[_0x4c0e1c(0x9b)](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this[_0x4c0e1c(0xa2)]===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this['state']===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this['state']===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4c0e1c(0xdf)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x4c0e1c(0xca)](),this[_0x4c0e1c(0xbf)]();}[_0x4b4b55(0xf5)](){const _0x9b5884=_0x4b4b55;this[_0x9b5884(0xa2)]=this[_0x9b5884(0xa2)]===0x1?0x2:0x1;if(this[_0x9b5884(0xdf)]===_0x9b5884(0x89)){let _0x2f9263=findElementByLabel('E1');_0x2f9263&&(_0x2f9263['isActive']=this[_0x9b5884(0xa2)]===0x2);}else{if(this[_0x9b5884(0xdf)]===_0x9b5884(0xec)){let _0x40790f=findElementByLabel('E2');_0x40790f&&(_0x40790f['isActive']=this[_0x9b5884(0xa2)]===0x1);}}redraw(),calculateCircuit();}[_0x4b4b55(0xbf)](){const _0x55c409=_0x4b4b55;this[_0x55c409(0xe9)][_0x55c409(0x123)](_0x41aeee=>{const _0x4437a7=_0x55c409;_0x41aeee['x']=this['x']+cos(this['rotationAngle']())*_0x41aeee[_0x4437a7(0x15b)]-sin(this[_0x4437a7(0xaa)]())*_0x41aeee[_0x4437a7(0x118)],_0x41aeee['y']=this['y']+sin(this[_0x4437a7(0xaa)]())*_0x41aeee['originalX']+cos(this[_0x4437a7(0xaa)]())*_0x41aeee[_0x4437a7(0x118)];});}[_0x4b4b55(0xaa)](){const _0x1c2088=_0x4b4b55;switch(this[_0x1c2088(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x4715eb,_0x308815,_0x5841f0){const _0x472c5b=_0x4b4b55;super(_0x4715eb,_0x308815),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x472c5b(0xdf)]=_0x5841f0,this['isOpen']=!![],this[_0x472c5b(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x472c5b(0xe9)][_0x472c5b(0x123)](_0x162ac1=>{const _0x21ec0e=_0x472c5b;_0x162ac1[_0x21ec0e(0x15b)]*=SCALE_FACTOR;});}['displayPalette'](_0x2a81ec){const _0x1f6beb=_0x4b4b55;_0x2a81ec[_0x1f6beb(0xf1)](1.5*SCALE_FACTOR),_0x2a81ec[_0x1f6beb(0x9f)](0x0),_0x2a81ec[_0x1f6beb(0x104)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x2a81ec[_0x1f6beb(0x104)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x2a81ec['line'](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x2a81ec[_0x1f6beb(0x124)](),_0x2a81ec[_0x1f6beb(0xae)](CENTER),_0x2a81ec[_0x1f6beb(0x11f)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x2a81ec[_0x1f6beb(0xd3)](),_0x2a81ec[_0x1f6beb(0xb8)](0x0),_0x2a81ec[_0x1f6beb(0x111)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x2a81ec[_0x1f6beb(0x12c)](this[_0x1f6beb(0xdf)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x17e02b=_0x4b4b55;super['display'](),strokeWeight(1.5*SCALE_FACTOR),this[_0x17e02b(0x131)]?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x17e02b(0x131)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x17e02b(0xdf)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x17e02b(0xca)](),this['updateConnectors']();}[_0x4b4b55(0xf5)](){const _0x1d2fb0=_0x4b4b55;this[_0x1d2fb0(0x131)]=!this[_0x1d2fb0(0x131)],console[_0x1d2fb0(0x97)]('Switch\x20'+this[_0x1d2fb0(0xdf)]+_0x1d2fb0(0xd9)+this[_0x1d2fb0(0x131)]),updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0x4b4b55(0xbf)](){const _0x1fdee1=_0x4b4b55;this[_0x1fdee1(0xe9)][_0x1fdee1(0x123)](_0x1ccadf=>{const _0x56eb0c=_0x1fdee1;_0x1ccadf['x']=this['x']+cos(this[_0x56eb0c(0xaa)]())*_0x1ccadf[_0x56eb0c(0x15b)]-sin(this[_0x56eb0c(0xaa)]())*_0x1ccadf[_0x56eb0c(0x118)],_0x1ccadf['y']=this['y']+sin(this[_0x56eb0c(0xaa)]())*_0x1ccadf[_0x56eb0c(0x15b)]+cos(this[_0x56eb0c(0xaa)]())*_0x1ccadf[_0x56eb0c(0x118)];});}[_0x4b4b55(0xaa)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x5a86f8,_0x53c91c,_0x48f6de){this['x']=_0x5a86f8,this['y']=_0x53c91c,this['text']=_0x48f6de;}['setText'](_0x13796f){const _0x2fc545=_0x4b4b55;this[_0x2fc545(0x12c)]=_0x13796f;}[_0x4b4b55(0x9b)](){const _0x5947e6=_0x4b4b55;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x5947e6(0x92)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x20272e=textWidth(this[_0x5947e6(0x12c)]);rectMode(CENTER);let _0x42ee4e=0x0,_0x2e2793=0x0,_0x213a34=0x2*SCALE_FACTOR,_0x32abd9=0x2*SCALE_FACTOR;this[_0x5947e6(0x12c)]&&rect(_0x42ee4e,_0x2e2793,_0x20272e+_0x213a34*0x2,0x14*SCALE_FACTOR+_0x32abd9*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x5947e6(0x12c)],_0x42ee4e,_0x2e2793),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x34d4f5,_0x3a517e,_0x5f1018){const _0x3250f3=_0x4b4b55;super(_0x34d4f5,_0x3a517e),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x3250f3(0xdf)]=_0x5f1018,this[_0x3250f3(0x12b)]=0.5,this[_0x3250f3(0x9c)]='50',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}[_0x4b4b55(0x9b)](){const _0x33cb19=_0x4b4b55;super[_0x33cb19(0x9b)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x40516f=this['h'],_0xa7b711=this['w'];let _0x3aef16=_0x40516f*1.2,_0xe34a62=_0xa7b711*0.35,_0x8cbc7e=-_0x3aef16/0x2,_0x780e7e=_0x3aef16/0x2,_0x20482b=-_0xa7b711*0.1;drawingContext[_0x33cb19(0x14a)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x20482b-_0xe34a62,-_0x40516f*1.4,_0xe34a62*0x2,2.8*_0x40516f),drawingContext[_0x33cb19(0x14a)]([]),noFill();const _0x281d04=0x3,_0x4d0c69=_0x3aef16/_0x281d04;for(let _0x58b72b=0x0;_0x58b72b<_0x281d04;_0x58b72b++){let _0x4fc35c=_0x8cbc7e+_0x58b72b*_0x4d0c69;arc(_0x20482b-_0x40516f/0xa*2.2,_0x4fc35c+_0x4d0c69/0x2,_0xe34a62,_0x4d0c69,-PI/0x2,PI/0x2);}line(_0x20482b-_0xe34a62/0x2-0x3,_0x8cbc7e-_0x40516f/0xa,_0x20482b-_0xe34a62/0x2-0x3,_0x8cbc7e),line(_0x20482b-_0xe34a62/0x2-0x3,_0x8cbc7e-_0x40516f/0xa,_0x20482b-_0xe34a62*1.5,_0x8cbc7e-_0x40516f/0xa),line(_0x20482b-_0xe34a62/0x2-0x3,_0x780e7e,_0x20482b-_0xe34a62/0x2-0x3,_0x780e7e+_0x40516f*0.4),line(_0x20482b-_0xe34a62*1.5,_0x780e7e+_0x40516f*0.4,_0x20482b-_0xe34a62/0x2-0x3,_0x780e7e+_0x40516f*0.4);let _0x30e45f=lerp(_0x8cbc7e,_0x780e7e,this[_0x33cb19(0x12b)]);line(_0x20482b+_0xe34a62/0x3,_0x30e45f,_0x20482b+_0xe34a62/0x4+0x19*SCALE_FACTOR,_0x30e45f),fill(0x0),triangle(_0x40516f/0x14,-_0x40516f/0x14,-_0x40516f/0xa,0x0,_0x40516f/0x14,_0x40516f/0x14),circle(_0x20482b-_0xe34a62/0x2-0x3,_0x780e7e+_0x40516f*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x33cb19(0x91),-_0xa7b711/0xa,-_0x40516f*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',-_0xa7b711/0xa,_0x40516f*1.6),super['postDisplay']();}['displayPalette'](_0x2afa40){const _0x57b7e5=_0x4b4b55;_0x2afa40[_0x57b7e5(0xf1)](0x1*SCALE_FACTOR),_0x2afa40[_0x57b7e5(0x9f)](0x0);let _0x3b483c=this['h']*0.6,_0x530fc5=this['w']*0.25,_0x43d792=-_0x3b483c/0x2,_0x946025=_0x3b483c/0x2,_0x311e33=-this['w']*0.1;_0x2afa40[_0x57b7e5(0x12f)][_0x57b7e5(0x14a)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x2afa40[_0x57b7e5(0x11f)](_0x311e33-_0x530fc5,_0x43d792-_0x3b483c/0x2,_0x530fc5+0xf,_0x3b483c*0x2),_0x2afa40[_0x57b7e5(0x12f)][_0x57b7e5(0x14a)]([]),_0x2afa40[_0x57b7e5(0x124)]();const _0x33aba1=0x3,_0x4bf39a=_0x3b483c/_0x33aba1;for(let _0x5a6425=0x0;_0x5a6425<_0x33aba1;_0x5a6425++){let _0x172daf=_0x43d792+_0x5a6425*_0x4bf39a;_0x2afa40['arc'](_0x311e33-0xf,_0x172daf+_0x4bf39a/0x2,_0x530fc5,_0x4bf39a,-PI/0x2,PI/0x2);}_0x2afa40['line'](_0x311e33-_0x530fc5/0x2-0x3,_0x43d792-0xa,_0x311e33-_0x530fc5/0x2-0x3,_0x43d792),_0x2afa40[_0x57b7e5(0x104)](_0x311e33-_0x530fc5/0x2-0x3,_0x43d792-0xa,_0x311e33-_0x530fc5*1.5,_0x43d792-0xa),_0x2afa40[_0x57b7e5(0x104)](_0x311e33-_0x530fc5/0x2-0x3,_0x946025,_0x311e33-_0x530fc5/0x2-0x3,_0x946025+0xa),_0x2afa40[_0x57b7e5(0x104)](_0x311e33-_0x530fc5*1.5,_0x946025+0xa,_0x311e33-_0x530fc5/0x2-0x3,_0x946025+0xa);let _0x5a96cf=lerp(_0x43d792,_0x946025,this[_0x57b7e5(0x12b)]);_0x2afa40[_0x57b7e5(0x104)](_0x311e33+_0x530fc5/0x4,_0x5a96cf,_0x311e33+_0x530fc5/0x4+0xc*SCALE_FACTOR,_0x5a96cf),_0x2afa40[_0x57b7e5(0xb8)](0x0),_0x2afa40[_0x57b7e5(0xfb)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x2afa40['fill'](0x0),_0x2afa40[_0x57b7e5(0xd3)](),_0x2afa40[_0x57b7e5(0x138)](0xa*SCALE_FACTOR),_0x2afa40[_0x57b7e5(0x111)](CENTER,BOTTOM),_0x2afa40['text'](_0x57b7e5(0x91),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0xb234d3,_0x19a117,_0x1beb9c,_0x52681f){const _0x55d8b6=_0x4b4b55;super(_0xb234d3,_0x19a117),this[_0x55d8b6(0x113)]=_0x1beb9c,this['height']=_0x52681f,this[_0x55d8b6(0xa6)]=color(0x0,0xff,0x0),this[_0x55d8b6(0x14e)]=color(0x0,0x94,0xff),this[_0x55d8b6(0xde)]=0x0,this['voltageAmplitude']=0x0,this[_0x55d8b6(0x132)]=0x32,this['phaseAngleDeg']=0x0;}[_0x4b4b55(0x9a)](_0x3fab23,_0x5c420a,_0x2ebe1a,_0x153328){const _0x4e4f06=_0x4b4b55;this[_0x4e4f06(0xde)]=_0x3fab23,this['voltageAmplitude']=_0x5c420a,this[_0x4e4f06(0x132)]=_0x2ebe1a,this[_0x4e4f06(0xd8)]=_0x153328;}[_0x4b4b55(0x9b)](){const _0x575274=_0x4b4b55;push(),translate(this['x'],this['y']),stroke(_0x575274(0x92)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x575274(0x113)],this[_0x575274(0x8f)]),drawingContext[_0x575274(0x14a)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this['height']/0x2,this[_0x575274(0x113)],this[_0x575274(0x8f)]/0x2),line(this[_0x575274(0x113)]/0x2,0x0,this[_0x575274(0x113)]/0x2,this[_0x575274(0x8f)]),drawingContext[_0x575274(0x14a)]([]),stroke(this[_0x575274(0x14e)]),fill(this[_0x575274(0x14e)]),rect(0x0,this[_0x575274(0x8f)]*0.7,this[_0x575274(0x113)]/0x3,this[_0x575274(0x8f)]/0x8),stroke(this['waveformColorCurrent']),fill(this[_0x575274(0xa6)]),rect(0x0,this[_0x575274(0x8f)]*0.85,this['width']/0x3,this['height']/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x575274(0x96),this['width']/0x6,this[_0x575274(0x8f)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x575274(0x155),this[_0x575274(0x113)]/0x6,this[_0x575274(0x8f)]*0.97),(this[_0x575274(0xde)]>0x0||this[_0x575274(0xc1)]>0x0)&&this['drawWaveforms'](),pop();}[_0x4b4b55(0xc4)](){const _0x3f9611=_0x4b4b55;push(),translate(0x14*SCALE_FACTOR,this['height']/0x2);const _0x2d6c89=0x96,_0xa8a298=0x3*PI/_0x2d6c89,_0x2a1389=this[_0x3f9611(0x8f)]/0x4;stroke(this[_0x3f9611(0xa6)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x19b8d5=this[_0x3f9611(0xd8)]*PI/0xb4;for(let _0x3cbaeb=0x0;_0x3cbaeb<=_0x2d6c89;_0x3cbaeb++){const _0x2050b2=_0x3cbaeb*_0xa8a298,_0x52b3da=sin(_0x2050b2-_0x19b8d5)*this[_0x3f9611(0x8f)]*0.25;vertex(_0x3cbaeb*this[_0x3f9611(0x113)]/_0x2d6c89-0x14*SCALE_FACTOR,-_0x52b3da);}endShape(),stroke(this[_0x3f9611(0x14e)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x1ac67d=0x0;_0x1ac67d<=_0x2d6c89;_0x1ac67d++){const _0x143582=_0x1ac67d*_0xa8a298,_0x25e6cf=sin(_0x143582)*this[_0x3f9611(0x8f)]*0.45;vertex(_0x1ac67d*this[_0x3f9611(0x113)]/_0x2d6c89-0x14*SCALE_FACTOR,-_0x25e6cf);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x3d6d20,_0x282248,_0x10caaa){const _0x105ab3=_0x4b4b55;super(_0x3d6d20,_0x282248),this['r']=0xf*SCALE_FACTOR,this[_0x105ab3(0xdf)]=_0x10caaa,this[_0x105ab3(0x87)]='30',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x105ab3(0xe9)][_0x105ab3(0x123)](_0x310dd4=>{const _0x5b36bc=_0x105ab3;_0x310dd4[_0x5b36bc(0x15b)]*=SCALE_FACTOR;}),this[_0x105ab3(0xa8)]=![];}[_0x4b4b55(0x156)](_0x1186a4){const _0x5a2a87=_0x4b4b55;_0x1186a4[_0x5a2a87(0xf1)](0x1*SCALE_FACTOR),_0x1186a4[_0x5a2a87(0x9f)](0x0),_0x1186a4[_0x5a2a87(0xb8)](0xff),_0x1186a4[_0x5a2a87(0xc3)](0x0,0x0,this['r']*1.5);const _0xa2d64e=this['r']*0.707106781*0.75;_0x1186a4[_0x5a2a87(0x104)](-_0xa2d64e,_0xa2d64e,_0xa2d64e,-_0xa2d64e),_0x1186a4['line'](-_0xa2d64e,-_0xa2d64e,_0xa2d64e,_0xa2d64e),_0x1186a4[_0x5a2a87(0xd3)](),_0x1186a4[_0x5a2a87(0xb8)](0x0),_0x1186a4[_0x5a2a87(0x111)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x1186a4[_0x5a2a87(0x12c)](this[_0x5a2a87(0xdf)],0x0,this['r']*1.3);}[_0x4b4b55(0x9b)](){const _0x5b44f8=_0x4b4b55;super[_0x5b44f8(0x9b)]();let _0x2e82e5=0x1*SCALE_FACTOR,_0x8d8445=0x2*_0x2e82e5;this[_0x5b44f8(0xa8)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0x8d8445),fill(0xff)):(stroke(0x0),strokeWeight(_0x2e82e5),fill(0xff));const _0x1ea3c6=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x1ea3c6,_0x1ea3c6,_0x1ea3c6,-_0x1ea3c6),line(-_0x1ea3c6,-_0x1ea3c6,_0x1ea3c6,_0x1ea3c6);if(this[_0x5b44f8(0xa8)])for(let _0x72cfd6=0x0;_0x72cfd6<0x168;_0x72cfd6+=0x1e){const _0x2665b4=_0x72cfd6*(Math['PI']/0xb4),_0x125622=1.15*this['r'],_0xa9c103=1.4*this['r'],_0x2cd57c=_0xa9c103*Math['cos'](_0x2665b4),_0x5217f7=_0xa9c103*Math[_0x5b44f8(0xdd)](_0x2665b4),_0x47b9c1=_0x125622*Math[_0x5b44f8(0x8b)](_0x2665b4),_0x55b9c3=_0x125622*Math['sin'](_0x2665b4);line(_0x47b9c1,_0x55b9c3,_0x2cd57c,_0x5217f7);}rotate(0x0),this[_0x5b44f8(0xa8)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x5b44f8(0xdf)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this[_0x5b44f8(0x87)]+'\x20Вт',0x0,this['r']*1.2),super[_0x5b44f8(0xca)](),this['updateConnectors']();}[_0x4b4b55(0xf5)](){const _0x27f387=_0x4b4b55;this[_0x27f387(0xa8)]?this[_0x27f387(0xa8)]=![]:this[_0x27f387(0xa8)]=!![];}[_0x4b4b55(0xaa)](){const _0x43ee53=_0x4b4b55;switch(this[_0x43ee53(0x99)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x580b01,_0x485c2a,_0x227df5,_0xaad225=0x1e){const _0x1985b1=_0x4b4b55;super(_0x580b01,_0x485c2a),this[_0x1985b1(0x15a)]=0x5,this[_0x1985b1(0xf4)]=0xf*SCALE_FACTOR,this[_0x1985b1(0x121)]=this[_0x1985b1(0xf4)]*0x2+0xa*SCALE_FACTOR,this[_0x1985b1(0xdf)]=_0x227df5,this['powerPerLamp']=parseFloat(_0xaad225)||0x1e,this[_0x1985b1(0xa3)]=0x0,this[_0x1985b1(0x93)]=!![],this[_0x1985b1(0xcf)]=!![],this[_0x1985b1(0x11e)]=[],this['w']=this[_0x1985b1(0x15a)]*this['lampRadius']*0x2+(this[_0x1985b1(0x15a)]-0x1)*(this[_0x1985b1(0x121)]-this[_0x1985b1(0xf4)]*0x2),this['h']=this[_0x1985b1(0xf4)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x1985b1(0xed)]=[];const _0x42a7ad=-(this['w']/0x2)+this[_0x1985b1(0xf4)];for(let _0x2f8f39=0x0;_0x2f8f39<this[_0x1985b1(0x15a)];_0x2f8f39++){const _0x175579=!![];this['lamps'][_0x1985b1(0x12a)]({'isActive':_0x175579,'offsetX':_0x42a7ad+_0x2f8f39*this[_0x1985b1(0x121)],'offsetY':0x0}),this[_0x1985b1(0x11e)]['push'](_0x175579);}this[_0x1985b1(0xe9)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x1985b1(0x150)]();}['setVisibility'](_0x136288){const _0x6fcaa=_0x4b4b55;if(_0x136288===this[_0x6fcaa(0x93)])return;this[_0x6fcaa(0x93)]=_0x136288,this['calculateTotalPower'](),redraw();}[_0x4b4b55(0x148)](_0x1d00d8){const _0x4f2752=_0x4b4b55;if(_0x1d00d8===this[_0x4f2752(0xcf)])return;this[_0x4f2752(0xcf)]=_0x1d00d8;if(!this[_0x4f2752(0xcf)]){for(let _0x2e7d99=0x0;_0x2e7d99<this[_0x4f2752(0x15a)];_0x2e7d99++){this[_0x4f2752(0x11e)][_0x2e7d99]=this[_0x4f2752(0xed)][_0x2e7d99][_0x4f2752(0xa8)];}for(let _0x38d4c3 of this[_0x4f2752(0xed)]){_0x38d4c3['isActive']=![];}}else for(let _0x2e8c57=0x0;_0x2e8c57<this[_0x4f2752(0x15a)];_0x2e8c57++){this[_0x4f2752(0xed)][_0x2e8c57][_0x4f2752(0xa8)]=typeof this['_previousLampStates'][_0x2e8c57]===_0x4f2752(0xbe)?this[_0x4f2752(0x11e)][_0x2e8c57]:![];}this[_0x4f2752(0x150)](),redraw();}['toggleState'](_0x4cbc6f){const _0x4756c1=_0x4b4b55;if(!this[_0x4756c1(0xcf)]||!this[_0x4756c1(0x93)])return;_0x4cbc6f>=0x0&&_0x4cbc6f<this[_0x4756c1(0x15a)]&&(this[_0x4756c1(0xed)][_0x4cbc6f][_0x4756c1(0xa8)]=!this[_0x4756c1(0xed)][_0x4cbc6f][_0x4756c1(0xa8)],this[_0x4756c1(0x11e)][_0x4cbc6f]=this[_0x4756c1(0xed)][_0x4cbc6f][_0x4756c1(0xa8)],this['calculateTotalPower'](),redraw());}['calculateTotalPower'](){const _0x46f4b2=_0x4b4b55;if(!this[_0x46f4b2(0xcf)]||!this[_0x46f4b2(0x93)]){this[_0x46f4b2(0xa3)]=0x0;return;}let _0x432481=0x0;for(const _0x50bd7c of this[_0x46f4b2(0xed)]){_0x50bd7c[_0x46f4b2(0xa8)]&&(_0x432481+=this[_0x46f4b2(0x130)]);}this[_0x46f4b2(0xa3)]=_0x432481;}[_0x4b4b55(0x12e)](_0x22d12c,_0x3dd8e7){const _0x4d8a55=_0x4b4b55;if(!this['isVisible'])return-0x1;for(let _0x20ba2a=0x0;_0x20ba2a<this[_0x4d8a55(0x15a)];_0x20ba2a++){const _0x24994e=this[_0x4d8a55(0xed)][_0x20ba2a],_0x38f6d7=this['x']+_0x24994e[_0x4d8a55(0x114)],_0x32fa1e=this['y']+_0x24994e[_0x4d8a55(0xc9)],_0x4c1b19=dist(_0x22d12c,_0x3dd8e7,_0x38f6d7,_0x32fa1e);if(_0x4c1b19<this[_0x4d8a55(0xf4)])return _0x20ba2a;}return-0x1;}[_0x4b4b55(0x156)](_0x17125a){const _0x57527e=_0x4b4b55;_0x17125a[_0x57527e(0xf1)](0x1*SCALE_FACTOR),_0x17125a[_0x57527e(0x9f)](0x0);const _0x3a79fb=this[_0x57527e(0xf4)]*0.5,_0x49081a=_0x3a79fb*0x2+0x2*SCALE_FACTOR,_0x27278c=this[_0x57527e(0x15a)]*_0x3a79fb*0x2+(this[_0x57527e(0x15a)]-0x1)*0x2*SCALE_FACTOR,_0x14bec6=-_0x27278c/0x2+_0x3a79fb;for(let _0x23d967=0x0;_0x23d967<this['numLamps'];_0x23d967++){_0x17125a[_0x57527e(0xb8)](0xff),_0x17125a[_0x57527e(0xc3)](_0x14bec6+_0x23d967*_0x49081a,0x0,_0x3a79fb*0x2);const _0x3f7487=_0x3a79fb*0.707;_0x17125a['line'](_0x14bec6+_0x23d967*_0x49081a-_0x3f7487,_0x3f7487,_0x14bec6+_0x23d967*_0x49081a+_0x3f7487,-_0x3f7487),_0x17125a[_0x57527e(0x104)](_0x14bec6+_0x23d967*_0x49081a-_0x3f7487,-_0x3f7487,_0x14bec6+_0x23d967*_0x49081a+_0x3f7487,_0x3f7487);}_0x17125a['noStroke'](),_0x17125a['fill'](0x0),_0x17125a[_0x57527e(0x111)](CENTER,BOTTOM),_0x17125a['textSize'](0x8*SCALE_FACTOR),_0x17125a[_0x57527e(0x12c)](this[_0x57527e(0xdf)],0x0,_0x3a79fb+0xa*SCALE_FACTOR);}[_0x4b4b55(0x9b)](){const _0x4d932c=_0x4b4b55;if(!this[_0x4d932c(0x93)])return;push(),translate(this['x'],this['y']);for(let _0x1dc853=0x0;_0x1dc853<this[_0x4d932c(0x15a)];_0x1dc853++){const _0x676879=this[_0x4d932c(0xed)][_0x1dc853];push(),translate(_0x676879[_0x4d932c(0x114)],_0x676879[_0x4d932c(0xc9)]);let _0x49e331=0x1*SCALE_FACTOR,_0x1ff6c5=0x2*_0x49e331,_0x23cae5=color(0xff),_0x19eb74=color(0x0);_0x676879[_0x4d932c(0xa8)]?(_0x19eb74=color(0xff,0xd8,0x0),strokeWeight(_0x1ff6c5),_0x23cae5=color(0xff,0xff,0xc8)):strokeWeight(_0x49e331);!this[_0x4d932c(0xcf)]&&(_0x19eb74=color(0x96),_0x23cae5=color(0xdc),strokeWeight(_0x49e331));stroke(_0x19eb74),fill(_0x23cae5),circle(0x0,0x0,this[_0x4d932c(0xf4)]*0x2);const _0x45bde5=this[_0x4d932c(0xf4)]*0.707;line(-_0x45bde5,_0x45bde5,_0x45bde5,-_0x45bde5),line(-_0x45bde5,-_0x45bde5,_0x45bde5,_0x45bde5),line(-1.3*this[_0x4d932c(0xf4)],0x0,-this['lampRadius'],0x0),line(1.3*this[_0x4d932c(0xf4)],0x0,this[_0x4d932c(0xf4)],0x0);if(_0x676879[_0x4d932c(0xa8)]&&this['isEnabled']){stroke(_0x19eb74),strokeWeight(0x1*SCALE_FACTOR);for(let _0x41e710=0x0;_0x41e710<0x168;_0x41e710+=0x2d){const _0x591d59=radians(_0x41e710),_0x199751=1.15*this['lampRadius'],_0x45ed17=1.4*this[_0x4d932c(0xf4)];line(_0x199751*cos(_0x591d59),_0x199751*sin(_0x591d59),_0x45ed17*cos(_0x591d59),_0x45ed17*sin(_0x591d59));}}pop();}noStroke(),fill(this[_0x4d932c(0xcf)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4d932c(0xdf)],0x0,-this[_0x4d932c(0xf4)]-0x5*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this['total_power']>0x0&&text(_0x4d932c(0xd5)+this[_0x4d932c(0xa3)][_0x4d932c(0xd0)](0x0)+_0x4d932c(0xdc),0x0,this['lampRadius']+0x5*SCALE_FACTOR),pop(),this['updateConnectors']();}[_0x4b4b55(0xbf)](){const _0x2887cd=_0x4b4b55,_0x2713e6=this['rotationAngle']();this[_0x2887cd(0xe9)]['forEach'](_0x4f6594=>{const _0x10e8cb=_0x2887cd;_0x4f6594['x']=this['x']+cos(_0x2713e6)*_0x4f6594[_0x10e8cb(0x15b)]-sin(_0x2713e6)*_0x4f6594[_0x10e8cb(0x118)],_0x4f6594['y']=this['y']+sin(_0x2713e6)*_0x4f6594[_0x10e8cb(0x15b)]+cos(_0x2713e6)*_0x4f6594['originalY'];});}[_0x4b4b55(0xaa)](){return 0x0;}}

        </script>

</body>
</html>