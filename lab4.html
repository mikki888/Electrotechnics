<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x198b66=_0x3402;(function(_0x53973d,_0xe60d7a){const _0x546f42=_0x3402,_0x117bc4=_0x53973d();while(!![]){try{const _0x31acd0=-parseInt(_0x546f42(0x1b1))/0x1*(-parseInt(_0x546f42(0x1a7))/0x2)+-parseInt(_0x546f42(0x1e8))/0x3+-parseInt(_0x546f42(0x138))/0x4*(parseInt(_0x546f42(0x1b8))/0x5)+parseInt(_0x546f42(0x201))/0x6+-parseInt(_0x546f42(0x15d))/0x7+parseInt(_0x546f42(0x178))/0x8+parseInt(_0x546f42(0x1d3))/0x9*(parseInt(_0x546f42(0x170))/0xa);if(_0x31acd0===_0xe60d7a)break;else _0x117bc4['push'](_0x117bc4['shift']());}catch(_0x1af704){_0x117bc4['push'](_0x117bc4['shift']());}}}(_0x3268,0x47d08));function _0x3402(_0x54ce05,_0x25cb43){const _0x32688d=_0x3268();return _0x3402=function(_0x34022a,_0x1013ab){_0x34022a=_0x34022a-0x134;let _0x527122=_0x32688d[_0x34022a];return _0x527122;},_0x3402(_0x54ce05,_0x25cb43);}const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x198b66(0x1e9)](navigator[_0x198b66(0x1e5)]),isLargeMobileScreen=window[_0x198b66(0x174)]>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':'Switch','label':'SA1','targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x14c),'label':_0x198b66(0x1fc),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x14c),'label':'SA12','targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x198b66(0x1c4),'targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x14c),'label':_0x198b66(0x1c5),'targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x14c),'label':'SA3','targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x198b66(0x17c),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x14c),'label':'SA4','targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x1a1),'label':_0x198b66(0x1c0),'targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x1a1),'label':_0x198b66(0x1b9),'targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x1a1),'label':_0x198b66(0x19d),'targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x1a1),'label':_0x198b66(0x1a8),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Capacity','label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x198b66(0x1ff),'label':_0x198b66(0x208),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x198b66(0x1ff),'label':_0x198b66(0x16a),'targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x198b66(0x1ff),'label':_0x198b66(0x155),'targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=132.8,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;function setup(){const _0x182ebe=_0x198b66;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x182ebe(0x141)],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x182ebe(0x1b0)),elements[_0x182ebe(0x1b2)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x182ebe(0x172)),elements[_0x182ebe(0x1b2)](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x182ebe(0x1cf)),elements[_0x182ebe(0x1b2)](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,'Ua\x20='),elements[_0x182ebe(0x1b2)](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x182ebe(0x1dd)),elements[_0x182ebe(0x1b2)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x182ebe(0x167)),elements[_0x182ebe(0x1b2)](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x514d88=_0x198b66;let _0x13928c={'SA2':null,'E2':null};paletteElementsData['forEach'](_0x5d734f=>{const _0x335aad=_0x3402;let _0x3d8822=createPaletteElementInstance(_0x5d734f[_0x335aad(0x165)],_0x5d734f[_0x335aad(0x1e6)],_0x5d734f['orientation'],_0x5d734f[_0x335aad(0x137)],_0x5d734f[_0x335aad(0x1af)],_0x5d734f);_0x3d8822[_0x335aad(0x1e6)]==='Rk'&&(_0x3d8822[_0x335aad(0x187)]='20'),elements[_0x335aad(0x1b2)](_0x3d8822),_0x5d734f[_0x335aad(0x161)]=!![],_0x5d734f[_0x335aad(0x1b4)]=!![],_0x3d8822[_0x335aad(0x1df)][_0x335aad(0x161)]=!![],_0x3d8822[_0x335aad(0x1df)][_0x335aad(0x1b4)]=!![];}),paletteElementsData=[];const _0x5ee87e=document[_0x514d88(0x139)](_0x514d88(0x1ed));_0x5ee87e[_0x514d88(0x197)]='',createPalette();}function createPalette(){const _0x502799=_0x198b66,_0xe45ee0=document[_0x502799(0x139)](_0x502799(0x1ed));paletteElementsData[_0x502799(0x15b)]((_0x3f38c1,_0x49fb46)=>{const _0x40c776=_0x502799,_0x366c65=document['createElement'](_0x40c776(0x157));_0x366c65['classList'][_0x40c776(0x1f1)](_0x40c776(0x151));let _0x433663=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x433663['clear'](),_0x433663[_0x40c776(0x1b2)](),_0x433663['translate'](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x37eb4b=createPaletteElementInstance(_0x3f38c1[_0x40c776(0x165)],_0x3f38c1['label'],_0x3f38c1[_0x40c776(0x204)],0x0,0x0,_0x3f38c1);_0x37eb4b[_0x40c776(0x204)]=_0x3f38c1['orientation'],_0x37eb4b[_0x40c776(0x1ce)](_0x433663),_0x433663[_0x40c776(0x1f9)]();const _0x2019f1=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x2019f1[_0x40c776(0x1c3)](_0x433663,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x366c65['appendChild'](_0x2019f1[_0x40c776(0x142)]),_0x366c65[_0x40c776(0x1a6)][_0x40c776(0x18a)]=_0x3f38c1[_0x40c776(0x165)],_0x366c65[_0x40c776(0x1a6)][_0x40c776(0x1d7)]=_0x3f38c1[_0x40c776(0x1e6)],_0x366c65[_0x40c776(0x1a6)][_0x40c776(0x179)]=_0x3f38c1[_0x40c776(0x204)],_0x366c65[_0x40c776(0x1a6)][_0x40c776(0x209)]=_0x49fb46,_0x366c65['addEventListener'](_0x40c776(0x1c6),paletteElementClick),_0xe45ee0[_0x40c776(0x182)](_0x366c65);});}function draw(){const _0x36e0d4=_0x198b66;background(0xf0),strokeWeight(0x1);const _0x1e6722=0x2bc*SCALE_FACTOR,_0x9230d3=0x1c2*SCALE_FACTOR,_0x4e21d5=0x32*SCALE_FACTOR;stroke('lightgray');function _0x3e2c95(_0x531301,_0x458ad9,_0x43a24c,_0x8c0e35){line(_0x531301,_0x458ad9,_0x43a24c,_0x8c0e35);}for(let _0x30d061=0x0;_0x30d061<=_0x9230d3;_0x30d061+=_0x4e21d5){_0x3e2c95(0x0,_0x30d061,_0x1e6722,_0x30d061);}for(let _0x2ad31c=0x0;_0x2ad31c<=_0x1e6722;_0x2ad31c+=_0x4e21d5){_0x3e2c95(_0x2ad31c,0x0,_0x2ad31c,_0x9230d3);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x3e2c95(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x3e2c95(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x3e2c95(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x3e2c95(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x9d5f90=0x64;circle(0x1c*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x3e2c95(0x1e*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x5a*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0xaa*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x190*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x1d6*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x9d5f90=0xc8,circle(0x1c*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x3e2c95(0x1e*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x5a*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0xaa*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x190*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x1d6*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x9d5f90=0x12c,circle(0x1c*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x3e2c95(0x1e*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x5a*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0xaa*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x190*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),_0x3e2c95(0x1d6*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x9d5f90*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x3e2c95(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x3e2c95(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x3e2c95(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x3e2c95(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x3e2c95(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x3e2c95(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x5e6315 of elements){typeof _0x5e6315['update']===_0x36e0d4(0x1eb)&&_0x5e6315[_0x36e0d4(0x19a)](),_0x5e6315[_0x36e0d4(0x173)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x36e0d4(0x173)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){if(!warningMessageText)return;push();let _0x1353be=0x1e*SCALE_FACTOR,_0x446faa=height-0x32*SCALE_FACTOR-_0x1353be-0xa*SCALE_FACTOR,_0x2c3f85=0x96*SCALE_FACTOR,_0xf9b36d=0xc8*SCALE_FACTOR;rectMode(CORNER);if(isBlinkingWarning){let _0x1c6991=millis();_0x1c6991-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x1c6991),blinkState&&(fill(0xff,0xb4,0xb4),stroke(0xc8,0x0,0x0),strokeWeight(1.5*SCALE_FACTOR),rect(_0x2c3f85,_0x446faa,_0xf9b36d,_0x1353be,0x5*SCALE_FACTOR),noStroke(),fill(0xc8,0x0,0x0),textAlign(CENTER,CENTER),textSize(0xd*SCALE_FACTOR),textStyle(BOLD),text(warningMessageText,_0x2c3f85+_0xf9b36d/0x2,_0x446faa+_0x1353be/0x2),textStyle(NORMAL));}else fill(0xff,0xff,0xd2),stroke(0xb4,0xb4,0x0),strokeWeight(0x1*SCALE_FACTOR),rect(_0x2c3f85,_0x446faa,_0xf9b36d,_0x1353be,0x5*SCALE_FACTOR),noStroke(),fill(0x32,0x32,0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(warningMessageText,_0x2c3f85+_0xf9b36d/0x2,_0x446faa+_0x1353be/0x2);pop();}function drawMessageBox(){const _0x5b6539=_0x198b66;messageBox['classList'][_0x5b6539(0x154)](_0x5b6539(0x17a))&&(push(),fill('lightgreen'),stroke('green'),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox['textContent'],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x2ffe92=_0x198b66;push(),fill(_0x2ffe92(0x13b)),stroke(_0x2ffe92(0x18d)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x2ffe92(0x186)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x5e3305=_0x198b66;push(),fill(_0x5e3305(0x160)),stroke(_0x5e3305(0x180)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x5e3305(0x186)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0xfbd48=_0x198b66;if(isCalculateButtonVisible){push(),fill(_0xfbd48(0x164)),noStroke(),rectMode(CORNER);let _0x180c3b=0x96*SCALE_FACTOR,_0x543cbd=height-0x32*SCALE_FACTOR,_0x4b525e=0xc8*SCALE_FACTOR,_0x4f4ee1=0x32*SCALE_FACTOR;rect(_0x180c3b,_0x543cbd,_0x4b525e,_0x4f4ee1,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0xfbd48(0x181),_0x180c3b+_0x4b525e/0x2,_0x543cbd+_0x4f4ee1/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x273c03=_0x198b66,_0x3bcfbb=findElementByLabel(_0x273c03(0x1f4)),_0x23dc1e=findElementByLabel(_0x273c03(0x1fc)),_0x2509aa=findElementByLabel(_0x273c03(0x1ea)),_0x590673=findElementByLabel(_0x273c03(0x208));if(!_0x3bcfbb||!_0x23dc1e||!_0x2509aa||!_0x590673)return;if(!(_0x3bcfbb instanceof Switch)||!(_0x23dc1e instanceof Switch)||!(_0x2509aa instanceof Switch)||!(_0x590673 instanceof GroupLamp))return;const _0x1ddbe6=_0x3bcfbb[_0x273c03(0x17f)],_0xaf5387=_0x23dc1e[_0x273c03(0x17f)],_0xce95ab=_0x2509aa[_0x273c03(0x17f)],_0x1c25ad=!_0x1ddbe6&&!_0xaf5387&&_0xce95ab;if(_0x590673[_0x273c03(0x14d)]!==_0x1c25ad)_0x590673[_0x273c03(0x1be)](_0x1c25ad);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x1494ed=_0x198b66,_0x2eef21=findElementByLabel(_0x1494ed(0x1c4)),_0x3fb84e=findElementByLabel(_0x1494ed(0x1c5)),_0xb0d586=findElementByLabel(_0x1494ed(0x16a));if(!_0x2eef21||!_0x3fb84e||!_0xb0d586)return;if(!(_0x2eef21 instanceof Switch)||!(_0x3fb84e instanceof Switch)||!(_0xb0d586 instanceof GroupLamp))return;const _0x1fc25d=_0x2eef21[_0x1494ed(0x17f)],_0x4ab85d=_0x3fb84e['isOpen'],_0x3705a2=!_0x1fc25d&&!_0x4ab85d;if(_0xb0d586[_0x1494ed(0x14d)]!==_0x3705a2)_0xb0d586[_0x1494ed(0x1be)](_0x3705a2);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x57bccf=_0x198b66,_0x12a329=findElementByLabel(_0x57bccf(0x15e)),_0x1651b1=findElementByLabel(_0x57bccf(0x17c)),_0x11e6fa=findElementByLabel(_0x57bccf(0x155));if(!_0x12a329||!_0x1651b1||!_0x11e6fa)return;if(!(_0x12a329 instanceof Switch)||!(_0x1651b1 instanceof Switch)||!(_0x11e6fa instanceof GroupLamp))return;const _0x3cdcf7=_0x12a329[_0x57bccf(0x17f)],_0x537201=_0x1651b1[_0x57bccf(0x17f)],_0x1adce6=!_0x3cdcf7&&!_0x537201;if(_0x11e6fa[_0x57bccf(0x14d)]!==_0x1adce6)_0x11e6fa['setEnabled'](_0x1adce6);else;}function drawVisibilityToggleButton(){const _0x424522=_0x198b66;push();const _0x57aabe=0x226*SCALE_FACTOR,_0x36ac3e=0x55*SCALE_FACTOR,_0x5675b8=0x64*SCALE_FACTOR,_0x4c7389=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x57aabe,_0x36ac3e,_0x5675b8,_0x4c7389,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x302fc7=isC1CurrentlyVisible?'Повернути\x20\x0a\x20навантаження':_0x424522(0x14f);text(_0x302fc7,_0x57aabe+_0x5675b8/0x2,_0x36ac3e+_0x4c7389/0x2),pop();}function paletteElementClick(_0x58f212){const _0x48c4aa=_0x198b66,_0x4cec4a=_0x58f212[_0x48c4aa(0x149)];if(!_0x4cec4a){console[_0x48c4aa(0x1ee)](_0x48c4aa(0x15a));return;}const _0x28ea51=_0x4cec4a[_0x48c4aa(0x1a6)]['elementType'],_0x167fe8=_0x4cec4a[_0x48c4aa(0x1a6)][_0x48c4aa(0x1d7)],_0x27264c=_0x4cec4a[_0x48c4aa(0x1a6)][_0x48c4aa(0x179)],_0x5368e5=parseInt(_0x4cec4a[_0x48c4aa(0x1a6)][_0x48c4aa(0x209)]);if(!_0x28ea51||!_0x167fe8||!_0x27264c||isNaN(_0x5368e5)){console[_0x48c4aa(0x1ee)](_0x48c4aa(0x140),_0x4cec4a[_0x48c4aa(0x1a6)]);return;}canvasElementInstance=createPaletteElementInstance(_0x28ea51,_0x167fe8,_0x27264c,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x5368e5]),paletteElementsData['splice'](_0x5368e5,0x1);const _0x5c6c2b=document[_0x48c4aa(0x139)](_0x48c4aa(0x1ed));_0x5c6c2b['innerHTML']='',createPalette();}function createPaletteElementInstance(_0x200c3d,_0x5e17b4,_0x52f352,_0x4db156,_0x4e48d0,_0x1ccb85){const _0x117404=_0x198b66;let _0x3fd6b9;const _0x4bfdd6=_0x1ccb85?.['powerPerLamp'];switch(_0x200c3d){case'AutotransformerLaboratory':_0x3fd6b9=new AutotransformerLaboratory(_0x4db156,_0x4e48d0,_0x5e17b4);break;case _0x117404(0x1e4):_0x3fd6b9=new Resistor(_0x4db156,_0x4e48d0,_0x5e17b4);_0x5e17b4==='Rk'&&(_0x3fd6b9[_0x117404(0x187)]='20');break;case _0x117404(0x1bd):_0x3fd6b9=new SwitchSPDT(_0x4db156,_0x4e48d0,_0x5e17b4);break;case'Switch':_0x3fd6b9=new Switch(_0x4db156,_0x4e48d0,_0x5e17b4);(_0x5e17b4===_0x117404(0x1f4)||_0x5e17b4===_0x117404(0x1fc)||_0x5e17b4==='SA2'||_0x5e17b4===_0x117404(0x1c5)||_0x5e17b4===_0x117404(0x15e)||_0x5e17b4===_0x117404(0x17c)||_0x5e17b4===_0x117404(0x17b))&&(_0x3fd6b9['isOpen']=![]);break;case _0x117404(0x1a1):_0x3fd6b9=new CustomAmmeter(_0x4db156,_0x4e48d0,_0x5e17b4);break;case _0x117404(0x206):_0x3fd6b9=new Phasemeter(_0x4db156,_0x4e48d0,_0x5e17b4);break;case _0x117404(0x1e1):_0x3fd6b9=new Node(_0x4db156,_0x4e48d0,_0x5e17b4);break;case'Induction':_0x3fd6b9=new Induction(_0x4db156,_0x4e48d0,_0x5e17b4);break;case _0x117404(0x1da):_0x3fd6b9=new Capacity(_0x4db156,_0x4e48d0,_0x5e17b4);break;case _0x117404(0x153):_0x3fd6b9=new Frequency(_0x4db156,_0x4e48d0,_0x5e17b4);break;case'GroupLamp':_0x3fd6b9=new GroupLamp(_0x4db156,_0x4e48d0,_0x5e17b4,_0x4bfdd6);break;default:return null;}return _0x3fd6b9[_0x117404(0x204)]=parseInt(_0x52f352),_0x3fd6b9[_0x117404(0x1df)]=_0x1ccb85,_0x3fd6b9;}function generateNewData(){const _0x354270=_0x198b66,_0x17f6be=[];for(let _0x4ced89=0x5;_0x4ced89<=0x32;_0x4ced89+=0x5){_0x17f6be['push'](_0x4ced89);}const _0x25244d=[];for(let _0x39c44a=0x78;_0x39c44a<=0x9b;_0x39c44a+=0x5){_0x25244d[_0x354270(0x1b2)](_0x39c44a);}let _0x24468e=_0x17f6be[Math['floor'](Math['random']()*_0x17f6be[_0x354270(0x141)])],_0x3a66fb=_0x25244d[Math[_0x354270(0x168)](Math[_0x354270(0x19c)]()*_0x25244d[_0x354270(0x141)])],_0x5645f5={'C1':findElementByLabel('C1')};_0x5645f5['C1'][_0x354270(0x1c1)]=String(_0x24468e),U_phase_mag=String(_0x3a66fb),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x5c1076=_0x198b66,_0x33af40=0x1f4*SCALE_FACTOR,_0x2a4e22=0x46*SCALE_FACTOR,_0x31623f=0xb4*SCALE_FACTOR,_0x47ae11=0x32*SCALE_FACTOR;if(mouseX>_0x33af40&&mouseX<_0x33af40+_0x31623f&&mouseY>_0x2a4e22&&mouseY<_0x2a4e22+_0x47ae11){console[_0x5c1076(0x13f)](_0x5c1076(0x1aa)),isC1CurrentlyVisible=!isC1CurrentlyVisible,console[_0x5c1076(0x13f)](_0x5c1076(0x207),isC1CurrentlyVisible);const _0x117376=findElementByLabel('C1'),_0x3933b6=findElementByLabel(_0x5c1076(0x208));_0x117376 instanceof Capacity&&_0x3933b6 instanceof GroupLamp?(_0x117376[_0x5c1076(0x1f2)](isC1CurrentlyVisible),_0x3933b6[_0x5c1076(0x1f2)](!isC1CurrentlyVisible),console['log'](_0x5c1076(0x1f6)+isC1CurrentlyVisible+_0x5c1076(0x1c2)+!isC1CurrentlyVisible),_0x3933b6[_0x5c1076(0x1bc)]()):console['error'](_0x5c1076(0x1f3));redraw();return;}if(isCalculateButtonVisible){let _0x4c3970=0x96*SCALE_FACTOR,_0x850967=height-0x32*SCALE_FACTOR,_0x15f6d=0xc8*SCALE_FACTOR,_0x4b1140=0x32*SCALE_FACTOR;if(mouseX>_0x4c3970&&mouseX<_0x4c3970+_0x15f6d&&mouseY>_0x850967&&mouseY<_0x850967+_0x4b1140){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x2ca8d7=null,_0x5546b0=-0x1;for(let _0x2d73e8=elements[_0x5c1076(0x141)]-0x1;_0x2d73e8>=0x0;_0x2d73e8--){let _0x54e2d4=elements[_0x2d73e8];if(_0x54e2d4 instanceof GroupLamp&&!_0x54e2d4[_0x5c1076(0x17d)]||_0x54e2d4 instanceof Capacity&&!_0x54e2d4[_0x5c1076(0x17d)])continue;if(_0x54e2d4 instanceof GroupLamp){_0x5546b0=_0x54e2d4[_0x5c1076(0x15f)](mouseX,mouseY);if(_0x5546b0!==-0x1){_0x2ca8d7=_0x54e2d4;break;}}}if(_0x2ca8d7===null)for(let _0x13ff7c=elements[_0x5c1076(0x141)]-0x1;_0x13ff7c>=0x0;_0x13ff7c--){let _0x495ce6=elements[_0x13ff7c];if(_0x495ce6 instanceof GroupLamp&&!_0x495ce6[_0x5c1076(0x17d)]||_0x495ce6 instanceof Capacity&&!_0x495ce6[_0x5c1076(0x17d)])continue;if(_0x495ce6 instanceof Node||_0x495ce6 instanceof StaticTextDisplay)continue;let _0xb7e846=![];if(typeof _0x495ce6['r']!==_0x5c1076(0x1b5)&&!(_0x495ce6 instanceof GroupLamp))dist(mouseX,mouseY,_0x495ce6['x'],_0x495ce6['y'])<_0x495ce6['r']&&(_0xb7e846=!![]);else typeof _0x495ce6['w']!==_0x5c1076(0x1b5)&&typeof _0x495ce6['h']!==_0x5c1076(0x1b5)&&(mouseX>_0x495ce6['x']-_0x495ce6['w']/0x2&&mouseX<_0x495ce6['x']+_0x495ce6['w']/0x2&&mouseY>_0x495ce6['y']-_0x495ce6['h']/0x2&&mouseY<_0x495ce6['y']+_0x495ce6['h']/0x2&&(_0xb7e846=!![]));if(_0xb7e846){_0x2ca8d7=_0x495ce6;break;}}if(_0x2ca8d7){let _0x457241=millis(),_0x4952fc=_0x457241-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0x5ae612=_0x2ca8d7[_0x5c1076(0x1df)]&&_0x2ca8d7[_0x5c1076(0x1df)][_0x5c1076(0x1b4)],_0x2a34a4=![],_0x4ad555=![];if(_0x2ca8d7 instanceof GroupLamp&&_0x5546b0!==-0x1)_0x2ca8d7[_0x5c1076(0x1ba)](_0x5546b0),_0x2a34a4=!![],_0x4ad555=!![];else{if(_0x4952fc){_0x2a34a4=!![],_0x4ad555=!![];if(_0x2ca8d7 instanceof GroupLamp){}else{if(_0x2ca8d7 instanceof SwitchSPDT||_0x2ca8d7 instanceof Switch)_0x2ca8d7[_0x5c1076(0x1ba)]();else{if(_0x2ca8d7 instanceof Resistor&&KirgofTest){let _0x349cc2=prompt(_0x5c1076(0x185)+_0x2ca8d7[_0x5c1076(0x1e6)]+':',_0x2ca8d7[_0x5c1076(0x187)]||'100');_0x349cc2!==null&&(_0x2ca8d7[_0x5c1076(0x187)]=_0x349cc2,calculateCircuit());}else{if(_0x2ca8d7 instanceof AutotransformerLaboratory){let _0x44b916=prompt(_0x5c1076(0x14b)+_0x2ca8d7['label']+':',_0x2ca8d7['voltage']||'50');_0x44b916!==null&&(_0x2ca8d7[_0x5c1076(0x1e2)]=_0x44b916,calculateCircuit());}else{if(_0x2ca8d7 instanceof Induction&&KirgofTest){let _0x43270b=prompt('Введіть\x20індуктивність\x20для\x20'+_0x2ca8d7[_0x5c1076(0x1e6)]+':',_0x2ca8d7['induction']||'5');_0x43270b!==null&&(_0x2ca8d7[_0x5c1076(0x166)]=_0x43270b,calculateCircuit());}else{if(_0x2ca8d7 instanceof Capacity){if(_0x2ca8d7[_0x5c1076(0x17d)]){let _0x5cab1e=prompt(_0x5c1076(0x19e)+_0x2ca8d7[_0x5c1076(0x1e6)]+':',_0x2ca8d7[_0x5c1076(0x1c1)]||'10');_0x5cab1e!==null&&(_0x2ca8d7[_0x5c1076(0x1c1)]=_0x5cab1e,calculateCircuit());}}else{if(_0x2ca8d7 instanceof Frequency){let _0x35c18f=prompt(_0x5c1076(0x1fd)+_0x2ca8d7[_0x5c1076(0x1e6)]+':',_0x2ca8d7[_0x5c1076(0x159)]||'50');_0x35c18f!==null&&(_0x2ca8d7['frequency']=_0x35c18f,calculateCircuit());}}}}}}}}}_0x5ae612&&(_0x4ad555=!![]),!_0x4ad555&&(draggedElement=_0x2ca8d7,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x457241;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x5c1076(0x1b2)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x2c4469=_0x198b66;let _0x174c22=canvasElementInstance||draggedElement;if(_0x174c22){dragOffsetX=0x0,dragOffsetY=0x0;let _0x2a172f=mouseX-dragOffsetX,_0x43d1c2=mouseY-dragOffsetY,_0x2e524f=0x1e*SCALE_FACTOR,_0x3db5c3=_0x2e524f,_0x12121c=_0x2e524f,_0x54f37d=width-_0x2e524f,_0x5b2d76=height-_0x2e524f;_0x174c22['x']=constrain(_0x2a172f,_0x3db5c3,_0x54f37d),_0x174c22['y']=constrain(_0x43d1c2,_0x12121c,_0x5b2d76);if(_0x174c22[_0x2c4469(0x1df)]){let _0x389bf0=dist(_0x174c22['x'],_0x174c22['y'],_0x174c22[_0x2c4469(0x1df)][_0x2c4469(0x137)],_0x174c22[_0x2c4469(0x1df)][_0x2c4469(0x1af)]),_0x4f58e5=Math[_0x2c4469(0x146)](0x0,Math[_0x2c4469(0x19b)](_0x389bf0-SNAP_DISTANCE));distanceBox[_0x2c4469(0x186)]=_0x2c4469(0x202)+_0x4f58e5+'\x20px';}else distanceBox[_0x2c4469(0x186)]='Цільова\x20точка\x20не\x20знайдена';}}function mouseReleased(){const _0x17c9eb=_0x198b66;let _0x94cb41=null,_0x4be2f1;if(canvasElementInstance)elements[_0x17c9eb(0x1b2)](canvasElementInstance),_0x94cb41=canvasElementInstance['placedElementData'],_0x94cb41&&(_0x4be2f1=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x94cb41[_0x17c9eb(0x137)],_0x94cb41[_0x17c9eb(0x1af)]),_0x4be2f1<=SNAP_DISTANCE&&!_0x94cb41[_0x17c9eb(0x161)]&&(canvasElementInstance['x']=_0x94cb41[_0x17c9eb(0x137)],canvasElementInstance['y']=_0x94cb41[_0x17c9eb(0x1af)],_0x94cb41[_0x17c9eb(0x161)]=!![],elementsPlacedCount++,_0x94cb41[_0x17c9eb(0x1b4)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x94cb41=draggedElement[_0x17c9eb(0x1df)],_0x4be2f1=_0x94cb41?dist(draggedElement['x'],draggedElement['y'],_0x94cb41['targetX'],_0x94cb41['targetY']):undefined;if(_0x94cb41){if(_0x4be2f1<=SNAP_DISTANCE&&!_0x94cb41[_0x17c9eb(0x161)])!_0x94cb41[_0x17c9eb(0x161)]&&(draggedElement['x']=_0x94cb41['targetX'],draggedElement['y']=_0x94cb41[_0x17c9eb(0x1af)],_0x94cb41[_0x17c9eb(0x161)]=!![],elementsPlacedCount++,_0x94cb41[_0x17c9eb(0x1b4)]=!![]);else _0x94cb41[_0x17c9eb(0x161)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x94cb41[_0x17c9eb(0x161)]=![],elementsPlacedCount--,_0x94cb41['isFixed']=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x17c9eb(0x186)]='',redraw();}function updateCounterDisplay(){const _0x5cf8ff=_0x198b66;counterBox[_0x5cf8ff(0x186)]=_0x5cf8ff(0x16f)+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x5cf8ff(0x186)]='Схему\x20зібрано!',isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x5863e6=findElementByLabel('C1'),_0x479a05=findElementByLabel(_0x5cf8ff(0x208));_0x5863e6 instanceof Capacity&&_0x479a05 instanceof GroupLamp&&(_0x5863e6['setVisibility'](isC1CurrentlyVisible),_0x479a05['setVisibility'](!isC1CurrentlyVisible),_0x479a05[_0x5cf8ff(0x1bc)](),console['log']('Initial\x20visibility\x20set:\x20C1='+isC1CurrentlyVisible+_0x5cf8ff(0x152)+!isC1CurrentlyVisible)),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x3ec08c=findElementByLabel(_0x5cf8ff(0x208));_0x3ec08c instanceof GroupLamp&&_0x3ec08c[_0x5cf8ff(0x1be)](![]);const _0x4ac8a0=findElementByLabel('C1');if(_0x4ac8a0 instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x559035=_0x198b66;messageBox[_0x559035(0x186)]=_0x559035(0x203),messageBox['classList']['add'](_0x559035(0x17a)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x4e34ad=_0x559035;messageBox[_0x4e34ad(0x190)][_0x4e34ad(0x199)](_0x4e34ad(0x17a));},0x7d0);}function polarToRect(_0x369619,_0x5ad7d9){const _0x29258b=_0x198b66,_0x3b2460=_0x5ad7d9*Math['PI']/0xb4;return{'re':_0x369619*Math['cos'](_0x3b2460),'im':_0x369619*Math[_0x29258b(0x171)](_0x3b2460)};}function rectToPolar(_0x391f32,_0x57008d){const _0x53b5e2=_0x198b66,_0x4a3c40=Math['sqrt'](_0x391f32*_0x391f32+_0x57008d*_0x57008d);let _0x233efb=Math[_0x53b5e2(0x148)](_0x57008d,_0x391f32),_0x513214=_0x233efb*0xb4/Math['PI'];return{'mag':_0x4a3c40,'ang':_0x513214};}function addPhasors(_0x15d6b4,_0x15e6f8){return{'re':_0x15d6b4['re']+_0x15e6f8['re'],'im':_0x15d6b4['im']+_0x15e6f8['im']};}function subtractPhasors(_0x133ab2,_0x4ce767){return{'re':_0x133ab2['re']-_0x4ce767['re'],'im':_0x133ab2['im']-_0x4ce767['im']};}function multiplyPhasors(_0x11393e,_0x41e331){return{'re':_0x11393e['re']*_0x41e331['re']-_0x11393e['im']*_0x41e331['im'],'im':_0x11393e['re']*_0x41e331['im']+_0x11393e['im']*_0x41e331['re']};}function dividePhasors(_0x500391,_0x1b8336){const _0x33a1cf=_0x198b66,_0x35bcc9=_0x1b8336['re']*_0x1b8336['re']+_0x1b8336['im']*_0x1b8336['im'];if(Math[_0x33a1cf(0x1cc)](_0x35bcc9)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0x500391['re']*_0x1b8336['re']+_0x500391['im']*_0x1b8336['im'])/_0x35bcc9,'im':(_0x500391['im']*_0x1b8336['re']-_0x500391['re']*_0x1b8336['im'])/_0x35bcc9};}function invertPhasorRect(_0x3c5688){const _0x1a32b0=_0x198b66,_0x5265a5=_0x3c5688['re']*_0x3c5688['re']+_0x3c5688['im']*_0x3c5688['im'];if(Math[_0x1a32b0(0x1cc)](_0x5265a5)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0x3c5688['re']/_0x5265a5,'im':-_0x3c5688['im']/_0x5265a5};}function calculateCircuit(){const _0x11c1e9=_0x198b66;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();const _0x208956=findElementByLabel(_0x11c1e9(0x1b0)),_0x2bce0f=findElementByLabel(_0x11c1e9(0x172)),_0x2bf4bd=findElementByLabel(_0x11c1e9(0x1cf)),_0x53d510=findElementByLabel(_0x11c1e9(0x150)),_0x56dffa=findElementByLabel('Ub\x20='),_0x59ec6f=findElementByLabel('Uc\x20=');if(_0x208956)_0x208956[_0x11c1e9(0x163)](_0x11c1e9(0x13c));if(_0x2bce0f)_0x2bce0f[_0x11c1e9(0x163)](_0x11c1e9(0x196));if(_0x2bf4bd)_0x2bf4bd[_0x11c1e9(0x163)](_0x11c1e9(0x198));if(_0x53d510)_0x53d510[_0x11c1e9(0x163)](_0x11c1e9(0x1fe));if(_0x56dffa)_0x56dffa['setText'](_0x11c1e9(0x1e7));if(_0x59ec6f)_0x59ec6f[_0x11c1e9(0x163)]('Uc\x20=\x200.0\x20V');const _0x2b1f92=findElementByLabel(_0x11c1e9(0x1c0)),_0x3dc705=findElementByLabel(_0x11c1e9(0x1b9)),_0x3da67d=findElementByLabel(_0x11c1e9(0x19d)),_0x51f3d5=findElementByLabel(_0x11c1e9(0x1a8));if(_0x2b1f92)displayCalculationValue(_0x2b1f92,null,'bottom');if(_0x3dc705)displayCalculationValue(_0x3dc705,null,_0x11c1e9(0x156));if(_0x3da67d)displayCalculationValue(_0x3da67d,null,_0x11c1e9(0x156));if(_0x51f3d5)displayCalculationValue(_0x51f3d5,null,'bottom');return;}const _0x474818=0xe6,_0x138831=0x32,_0x448e2d=0x2*Math['PI']*_0x138831,_0x3d7997=0xe6,_0x43e560=parseFloat(U_phase_mag)||_0x3d7997/Math[_0x11c1e9(0x135)](0x3),_0x170040={'mag':_0x43e560,'ang':0x0},_0x238ade={'mag':_0x43e560,'ang':-0x78},_0x4798c6={'mag':_0x43e560,'ang':0x78},_0x5e1c13=polarToRect(_0x170040[_0x11c1e9(0x13d)],_0x170040[_0x11c1e9(0x1d0)]),_0xb59e76=polarToRect(_0x238ade[_0x11c1e9(0x13d)],_0x238ade[_0x11c1e9(0x1d0)]),_0x12b85a=polarToRect(_0x4798c6['mag'],_0x4798c6[_0x11c1e9(0x1d0)]),_0x24816f=findElementByLabel('HLG1'),_0x297e71=findElementByLabel(_0x11c1e9(0x16a)),_0x1634e7=findElementByLabel(_0x11c1e9(0x155)),_0x15168a=findElementByLabel('C1'),_0x4a3f8f=findElementByLabel(_0x11c1e9(0x1f4)),_0xbcb0ba=findElementByLabel(_0x11c1e9(0x1c4)),_0x571541=findElementByLabel('SA3'),_0x1104eb=findElementByLabel(_0x11c1e9(0x1fc)),_0x252098=findElementByLabel(_0x11c1e9(0x1ea)),_0x562644=findElementByLabel(_0x11c1e9(0x1c5)),_0x2dfac2=findElementByLabel(_0x11c1e9(0x17c)),_0x1a2090=findElementByLabel(_0x11c1e9(0x17b)),_0x416a9a=findElementByLabel(_0x11c1e9(0x1c0)),_0x425ae2=findElementByLabel(_0x11c1e9(0x1b9)),_0x65e8da=findElementByLabel(_0x11c1e9(0x19d)),_0x14bf1a=findElementByLabel(_0x11c1e9(0x1a8)),_0x31722a=findElementByLabel(_0x11c1e9(0x1b0)),_0x405e38=findElementByLabel(_0x11c1e9(0x172)),_0x359f33=findElementByLabel(_0x11c1e9(0x1cf)),_0xe72893=findElementByLabel(_0x11c1e9(0x150)),_0x332916=findElementByLabel(_0x11c1e9(0x1dd)),_0x526cab=findElementByLabel(_0x11c1e9(0x167));if(!_0x24816f||!_0x297e71||!_0x1634e7||!_0x15168a||!_0x4a3f8f||!_0xbcb0ba||!_0x571541||!_0x1104eb||!_0x252098||!_0x562644||!_0x2dfac2||!_0x1a2090||!_0x416a9a||!_0x425ae2||!_0x65e8da||!_0x14bf1a||!_0x31722a||!_0x405e38||!_0x359f33||!_0xe72893||!_0x332916||!_0x526cab){console['error']('Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.'),warningMessageText=_0x11c1e9(0x16d),isBlinkingWarning=!![],hideCalculationValues();return;}hideCalculationValues();let _0x4cfc43={'re':Infinity,'im':0x0},_0x4d7d8d={'re':Infinity,'im':0x0},_0x482dfb={'re':Infinity,'im':0x0};const _0x5f470a=0.01,_0x165217=_0x54476d=>{const _0x4e23ec=_0x11c1e9;if(!_0x54476d||!_0x54476d[_0x4e23ec(0x17d)]||!_0x54476d[_0x4e23ec(0x14d)])return Infinity;const _0x48ddcc=_0x54476d[_0x4e23ec(0x1f8)];if(_0x48ddcc<=0x0)return Infinity;let _0x5d84bd=0x0;for(const _0x2e3033 of _0x54476d[_0x4e23ec(0x19f)]){if(_0x2e3033[_0x4e23ec(0x1bf)])_0x5d84bd++;}if(_0x5d84bd===0x0)return Infinity;const _0x2b97a0=_0x474818*_0x474818/_0x48ddcc;return _0x2b97a0/_0x5d84bd;};if(!_0x4a3f8f['isOpen']&&!_0x1104eb[_0x11c1e9(0x17f)]){if(!_0x252098[_0x11c1e9(0x17f)])_0x4cfc43={'re':_0x5f470a,'im':0x0},_0x24816f[_0x11c1e9(0x14d)]&&_0x24816f[_0x11c1e9(0x1be)](![]);else{const _0x130bd8=_0x165217(_0x24816f);if(_0x24816f['isVisible']&&_0x24816f[_0x11c1e9(0x14d)]&&_0x130bd8!==Infinity)_0x4cfc43={'re':_0x130bd8,'im':0x0};else{if(_0x15168a['isVisible']){const _0x1e6209=parseFloat(_0x15168a[_0x11c1e9(0x1c1)])/0xf4240;_0x1e6209>0x0&&_0x448e2d>0x0&&(_0x4cfc43={'re':0x0,'im':-0x1/(_0x448e2d*_0x1e6209)});}}}}if(!_0xbcb0ba[_0x11c1e9(0x17f)]&&!_0x562644[_0x11c1e9(0x17f)]){const _0x2e4b02=_0x165217(_0x297e71);_0x297e71[_0x11c1e9(0x17d)]&&_0x297e71[_0x11c1e9(0x14d)]&&_0x2e4b02!==Infinity&&(_0x4d7d8d={'re':_0x2e4b02,'im':0x0});}if(!_0x571541[_0x11c1e9(0x17f)]&&!_0x2dfac2[_0x11c1e9(0x17f)]){const _0x3faf71=_0x165217(_0x1634e7);_0x1634e7[_0x11c1e9(0x17d)]&&_0x1634e7[_0x11c1e9(0x14d)]&&_0x3faf71!==Infinity&&(_0x482dfb={'re':_0x3faf71,'im':0x0});}let _0x42cf7e={'re':0x0,'im':0x0},_0x5ebb88={'re':0x0,'im':0x0},_0x106516={'re':0x0,'im':0x0},_0x347db3={'re':0x0,'im':0x0},_0x4d2b45={'re':0x0,'im':0x0},_0x34cd33={'re':0x0,'im':0x0},_0x425581={'re':0x0,'im':0x0},_0x233398={'re':0x0,'im':0x0},_0x547e0f={'re':0x0,'im':0x0},_0x1bd4bd={'re':0x0,'im':0x0};const _0x11adfa=!_0x1a2090[_0x11c1e9(0x17f)],_0x474474=_0x4cfc43['re']!==Infinity||_0x4cfc43['im']!==0x0?invertPhasorRect(_0x4cfc43):{'re':0x0,'im':0x0},_0x11d511=_0x4d7d8d['re']!==Infinity||_0x4d7d8d['im']!==0x0?invertPhasorRect(_0x4d7d8d):{'re':0x0,'im':0x0},_0x33b45a=_0x482dfb['re']!==Infinity||_0x482dfb['im']!==0x0?invertPhasorRect(_0x482dfb):{'re':0x0,'im':0x0},_0x2a770b=addPhasors(_0x474474,addPhasors(_0x11d511,_0x33b45a));let _0x30ca31={'re':0x0,'im':0x0};if(!_0x11adfa&&(Math[_0x11c1e9(0x1cc)](_0x2a770b['re'])>1e-9||Math[_0x11c1e9(0x1cc)](_0x2a770b['im'])>1e-9)){const _0x5bc484=multiplyPhasors(_0x5e1c13,_0x474474),_0x38c2ce=multiplyPhasors(_0xb59e76,_0x11d511),_0x5abe49=multiplyPhasors(_0x12b85a,_0x33b45a),_0x64dbd3=addPhasors(_0x5bc484,addPhasors(_0x38c2ce,_0x5abe49));_0x30ca31=dividePhasors(_0x64dbd3,_0x2a770b);}_0x11adfa?(_0x4d2b45=_0x4cfc43['re']!==Infinity||_0x4cfc43['im']!==0x0?_0x5e1c13:{'re':0x0,'im':0x0},_0x34cd33=_0x4d7d8d['re']!==Infinity||_0x4d7d8d['im']!==0x0?_0xb59e76:{'re':0x0,'im':0x0},_0x425581=_0x482dfb['re']!==Infinity||_0x482dfb['im']!==0x0?_0x12b85a:{'re':0x0,'im':0x0},_0x233398=_0x4d2b45,_0x547e0f=_0x34cd33,_0x1bd4bd=_0x425581):(_0x4d2b45=!_0x4a3f8f[_0x11c1e9(0x17f)]&&(_0x4cfc43['re']!==Infinity||_0x4cfc43['im']!==0x0)?subtractPhasors(_0x5e1c13,_0x30ca31):{'re':0x0,'im':0x0},_0x34cd33=!_0xbcb0ba[_0x11c1e9(0x17f)]&&(_0x4d7d8d['re']!==Infinity||_0x4d7d8d['im']!==0x0)?subtractPhasors(_0xb59e76,_0x30ca31):{'re':0x0,'im':0x0},_0x425581=!_0x571541[_0x11c1e9(0x17f)]&&(_0x482dfb['re']!==Infinity||_0x482dfb['im']!==0x0)?subtractPhasors(_0x12b85a,_0x30ca31):{'re':0x0,'im':0x0},_0x233398=_0x4a3f8f[_0x11c1e9(0x17f)]?{'re':0x0,'im':0x0}:_0x1104eb[_0x11c1e9(0x17f)]?subtractPhasors(_0x5e1c13,_0x30ca31):_0x4d2b45,_0x547e0f=_0xbcb0ba[_0x11c1e9(0x17f)]?{'re':0x0,'im':0x0}:_0x562644[_0x11c1e9(0x17f)]?subtractPhasors(_0xb59e76,_0x30ca31):_0x34cd33,_0x1bd4bd=_0x571541['isOpen']?{'re':0x0,'im':0x0}:_0x2dfac2[_0x11c1e9(0x17f)]?subtractPhasors(_0x12b85a,_0x30ca31):_0x425581);_0x42cf7e=multiplyPhasors(_0x4d2b45,_0x474474),_0x5ebb88=multiplyPhasors(_0x34cd33,_0x11d511),_0x106516=multiplyPhasors(_0x425581,_0x33b45a),_0x347db3=addPhasors(_0x42cf7e,addPhasors(_0x5ebb88,_0x106516));!_0x11adfa&&(_0x347db3={'re':0x0,'im':0x0});const _0x3a18fe=!_0x252098[_0x11c1e9(0x17f)]&&!_0x4a3f8f['isOpen']&&!_0x1104eb['isOpen'];if(_0x3a18fe&&_0x11adfa)warningMessageText='Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!',isBlinkingWarning=!![],(!blinkState||millis()-lastBlinkTime>BLINK_INTERVAL*0x2)&&(blinkState=!![],lastBlinkTime=millis());else!_0x11adfa?(warningMessageText=_0x11c1e9(0x1a3),isBlinkingWarning=![]):(warningMessageText=null,isBlinkingWarning=![]);const _0x1d5ae6=subtractPhasors(_0x5e1c13,_0xb59e76),_0x5c4fa0=subtractPhasors(_0xb59e76,_0x12b85a),_0x14b054=subtractPhasors(_0x12b85a,_0x5e1c13),_0x2445b6=rectToPolar(_0x1d5ae6['re'],_0x1d5ae6['im']),_0x3ca48c=rectToPolar(_0x5c4fa0['re'],_0x5c4fa0['im']),_0x574e0b=rectToPolar(_0x14b054['re'],_0x14b054['im']),_0x2e11be=rectToPolar(_0x233398['re'],_0x233398['im']),_0x21ea90=rectToPolar(_0x547e0f['re'],_0x547e0f['im']),_0x37c603=rectToPolar(_0x1bd4bd['re'],_0x1bd4bd['im']),_0x5a3168=rectToPolar(_0x42cf7e['re'],_0x42cf7e['im']),_0xe8ce4=rectToPolar(_0x5ebb88['re'],_0x5ebb88['im']),_0x5cd16a=rectToPolar(_0x106516['re'],_0x106516['im']),_0x2564ea=rectToPolar(_0x347db3['re'],_0x347db3['im']),_0x5116bf=(_0x3b712a,_0x400b5f,_0x35d126=0x1)=>{const _0x303070=_0x11c1e9;if(isNaN(_0x3b712a)||!isFinite(_0x3b712a))return _0x303070(0x205)+_0x400b5f;if(_0x400b5f==='A'){if(Math[_0x303070(0x1cc)](_0x3b712a)>0x270f)return'>9999\x20A';if(Math[_0x303070(0x1cc)](_0x3b712a)<0.005)_0x3b712a=0x0;_0x35d126=0x2;}return _0x3b712a[_0x303070(0x1d6)](_0x35d126)+'\x20'+_0x400b5f;};displayCalculationValue(_0x416a9a,'Ia\x20=\x20'+_0x5116bf(_0x5a3168[_0x11c1e9(0x13d)],'A'),_0x11c1e9(0x156)),displayCalculationValue(_0x425ae2,_0x11c1e9(0x191)+_0x5116bf(_0xe8ce4[_0x11c1e9(0x13d)],'A'),_0x11c1e9(0x156)),displayCalculationValue(_0x65e8da,_0x11c1e9(0x1fa)+_0x5116bf(_0x5cd16a[_0x11c1e9(0x13d)],'A'),_0x11c1e9(0x156)),displayCalculationValue(_0x14bf1a,_0x11c1e9(0x1ac)+_0x5116bf(_0x2564ea[_0x11c1e9(0x13d)],'A'),_0x11c1e9(0x156));let _0x4ef80e=NaN,_0x4a672e=NaN,_0x4759aa=NaN;if(_0x11adfa)_0x4ef80e=!_0x4a3f8f[_0x11c1e9(0x17f)]&&!_0xbcb0ba[_0x11c1e9(0x17f)]?_0x2445b6[_0x11c1e9(0x13d)]:NaN,_0x4a672e=!_0xbcb0ba['isOpen']&&!_0x571541[_0x11c1e9(0x17f)]?_0x3ca48c[_0x11c1e9(0x13d)]:NaN,_0x4759aa=!_0x571541['isOpen']&&!_0x4a3f8f['isOpen']?_0x574e0b[_0x11c1e9(0x13d)]:NaN;else{if(!_0x4a3f8f['isOpen']&&!_0xbcb0ba[_0x11c1e9(0x17f)])_0x4ef80e=_0x2445b6['mag'];if(!_0xbcb0ba[_0x11c1e9(0x17f)]&&!_0x571541[_0x11c1e9(0x17f)])_0x4a672e=_0x3ca48c[_0x11c1e9(0x13d)];if(!_0x571541[_0x11c1e9(0x17f)]&&!_0x4a3f8f[_0x11c1e9(0x17f)])_0x4759aa=_0x574e0b[_0x11c1e9(0x13d)];if(_0x4a3f8f[_0x11c1e9(0x17f)]&&!_0xbcb0ba[_0x11c1e9(0x17f)]&&!_0x571541[_0x11c1e9(0x17f)])_0x4ef80e=_0x21ea90[_0x11c1e9(0x13d)],_0x4759aa=_0x37c603[_0x11c1e9(0x13d)];else{if(_0xbcb0ba[_0x11c1e9(0x17f)]&&!_0x4a3f8f[_0x11c1e9(0x17f)]&&!_0x571541['isOpen'])_0x4a672e=_0x37c603[_0x11c1e9(0x13d)],_0x4ef80e=_0x2e11be[_0x11c1e9(0x13d)];else _0x571541[_0x11c1e9(0x17f)]&&!_0x4a3f8f[_0x11c1e9(0x17f)]&&!_0xbcb0ba[_0x11c1e9(0x17f)]&&(_0x4759aa=_0x2e11be['mag'],_0x4a672e=_0x21ea90['mag']);}}_0x31722a[_0x11c1e9(0x163)](_0x11c1e9(0x1cb)+_0x5116bf(_0x4ef80e,'V')),_0x405e38[_0x11c1e9(0x163)]('Ubc\x20=\x20'+_0x5116bf(_0x4a672e,'V')),_0x359f33[_0x11c1e9(0x163)](_0x11c1e9(0x1ad)+_0x5116bf(_0x4759aa,'V')),_0xe72893[_0x11c1e9(0x163)](_0x11c1e9(0x18b)+_0x5116bf(_0x2e11be['mag'],'V')),_0x332916[_0x11c1e9(0x163)](_0x11c1e9(0x13a)+_0x5116bf(_0x21ea90['mag'],'V')),_0x526cab['setText'](_0x11c1e9(0x16c)+_0x5116bf(_0x37c603['mag'],'V'));}function findElementByLabel(_0x147e5c){const _0x496d05=_0x198b66;for(const _0x2549e9 of elements){if(_0x2549e9[_0x496d05(0x1e6)]===_0x147e5c)return _0x2549e9;}if(_0x147e5c===_0x496d05(0x1b0))return elements['find'](_0x34009f=>_0x34009f instanceof StaticTextDisplay&&_0x34009f[_0x496d05(0x189)][_0x496d05(0x200)]('Uab\x20='));if(_0x147e5c===_0x496d05(0x172))return elements['find'](_0x33df33=>_0x33df33 instanceof StaticTextDisplay&&_0x33df33[_0x496d05(0x189)][_0x496d05(0x200)](_0x496d05(0x172)));if(_0x147e5c===_0x496d05(0x1cf))return elements[_0x496d05(0x1db)](_0x31bcf3=>_0x31bcf3 instanceof StaticTextDisplay&&_0x31bcf3[_0x496d05(0x189)][_0x496d05(0x200)](_0x496d05(0x1cf)));if(_0x147e5c===_0x496d05(0x150))return elements[_0x496d05(0x1db)](_0x3285d3=>_0x3285d3 instanceof StaticTextDisplay&&_0x3285d3[_0x496d05(0x189)]['startsWith'](_0x496d05(0x150)));if(_0x147e5c===_0x496d05(0x1dd))return elements[_0x496d05(0x1db)](_0x3654bc=>_0x3654bc instanceof StaticTextDisplay&&_0x3654bc[_0x496d05(0x189)][_0x496d05(0x200)](_0x496d05(0x1dd)));if(_0x147e5c===_0x496d05(0x167))return elements[_0x496d05(0x1db)](_0x54944c=>_0x54944c instanceof StaticTextDisplay&&_0x54944c[_0x496d05(0x189)][_0x496d05(0x200)](_0x496d05(0x167)));return null;}function displayCalculationValue(_0x564e99,_0x5bc4c2,_0x2b0a04){const _0x344b36=_0x198b66;if(!_0x564e99||typeof _0x564e99['x']===_0x344b36(0x1b5)||typeof _0x564e99['y']===_0x344b36(0x1b5)){console[_0x344b36(0x1ee)](_0x344b36(0x1d8),_0x564e99);return;}push(),translate(_0x564e99['x'],_0x564e99['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x2b0a04===_0x344b36(0x156)?TOP:BOTTOM);let _0x1c8e7f=0x0;if(_0x564e99 instanceof CustomAmmeter||_0x564e99 instanceof Frequency)_0x1c8e7f=(_0x2b0a04===_0x344b36(0x156)?_0x564e99['r']+0xa:-_0x564e99['r']-0x19)*SCALE_FACTOR;else{if(_0x564e99 instanceof Phasemeter)_0x1c8e7f=(_0x2b0a04==='bottom'?_0x564e99['r']+0xa:-_0x564e99['r']-0x19)*SCALE_FACTOR;else{if(_0x564e99 instanceof Resistor)_0x1c8e7f=(_0x2b0a04==='top'?-_0x564e99['h']/0x2-0xf:_0x564e99['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x564e99 instanceof AutotransformerLaboratory)_0x1c8e7f=(_0x2b0a04===_0x344b36(0x1b6)?-_0x564e99['h']/0x2-0x23:_0x564e99['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x564e99 instanceof Induction)_0x1c8e7f=(_0x2b0a04==='top'?-_0x564e99['h']/0x2-0xf:_0x564e99['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x564e99 instanceof Capacity)_0x1c8e7f=(_0x2b0a04===_0x344b36(0x1b6)?-_0x564e99['h']/0x2-0xf:_0x564e99['h']/0x2+0x14)*SCALE_FACTOR;else _0x564e99 instanceof Lamp&&(_0x1c8e7f=(_0x2b0a04===_0x344b36(0x1b6)?-_0x564e99['h']/0x2-0xf:_0x564e99['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x5bc4c2,0x0,_0x1c8e7f),pop(),_0x564e99[_0x344b36(0x1a9)]=_0x5bc4c2;}function hideCalculationValues(){const _0x118e10=_0x198b66;redraw(),elements[_0x118e10(0x15b)](_0x2cc386=>{_0x2cc386['calculationDisplayValue']=null;});}class CircuitElement{constructor(_0x46c860,_0x48cd73){const _0xbd52c8=_0x198b66;this['x']=_0x46c860,this['y']=_0x48cd73,this[_0xbd52c8(0x204)]=0x1,this[_0xbd52c8(0x176)]=[],this['isDragging']=![],this['placedElementData']=null,this[_0xbd52c8(0x1a9)]=null;}[_0x198b66(0x19a)](){}[_0x198b66(0x173)](){const _0x3d0d9e=_0x198b66;push(),translate(this['x'],this['y']);let _0x1bcff4=0x0;switch(this[_0x3d0d9e(0x204)]){case 0x2:_0x1bcff4=PI/0x2;break;case 0x3:_0x1bcff4=PI;break;case 0x4:_0x1bcff4=0x3*PI/0x2;break;default:_0x1bcff4=0x0;}rotate(_0x1bcff4);if(this[_0x3d0d9e(0x1a9)]!==null){stroke(_0x3d0d9e(0x193)),fill(_0x3d0d9e(0x1b3)),textSize(0xf*SCALE_FACTOR);let _0x515082=textWidth(this[_0x3d0d9e(0x1a9)]);rectMode(CENTER);let _0x42a19e=-0xa*SCALE_FACTOR,_0x221d37=0x28*SCALE_FACTOR,_0x2adf2e=0x2*SCALE_FACTOR,_0x4f04aa=0x2*SCALE_FACTOR;rect(_0x42a19e,_0x221d37,_0x515082+_0x2adf2e*0x2,0x14*SCALE_FACTOR+_0x4f04aa*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x3d0d9e(0x1a9)],_0x42a19e,_0x221d37);}}[_0x198b66(0x136)](){rotate(0x0),pop();}[_0x198b66(0x1a5)](){const _0x211a28=_0x198b66;this['connectors'][_0x211a28(0x15b)](_0x2eacd4=>{const _0x6c3460=_0x211a28;_0x2eacd4['x']=this['x']+cos(this[_0x6c3460(0x145)]())*_0x2eacd4[_0x6c3460(0x177)]-sin(this['rotationAngle']())*_0x2eacd4[_0x6c3460(0x15c)],_0x2eacd4['y']=this['y']+sin(this[_0x6c3460(0x145)]())*_0x2eacd4[_0x6c3460(0x177)]+cos(this[_0x6c3460(0x145)]())*_0x2eacd4[_0x6c3460(0x15c)];});}[_0x198b66(0x145)](){const _0x522453=_0x198b66;switch(this[_0x522453(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x5352b3,_0x1225e2,_0x2e463e){const _0x1a2e6e=_0x198b66;super(_0x5352b3,_0x1225e2),this['r']=0x14*SCALE_FACTOR,this[_0x1a2e6e(0x1e6)]=_0x2e463e,this[_0x1a2e6e(0x1e2)]='12',this[_0x1a2e6e(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x1a2e6e(0x176)][_0x1a2e6e(0x15b)](_0x5cc56e=>{const _0x18c13f=_0x1a2e6e;_0x5cc56e[_0x18c13f(0x177)]*=SCALE_FACTOR;}),this[_0x1a2e6e(0x1bf)]=![];}[_0x198b66(0x1ce)](_0x199d88){const _0xffa9df=_0x198b66;_0x199d88['strokeWeight'](0x1*SCALE_FACTOR),_0x199d88[_0xffa9df(0x1de)](0x0),_0x199d88[_0xffa9df(0x183)](0xff),_0x199d88['circle'](0x0,0x0,this['r']*1.5),_0x199d88[_0xffa9df(0x1d9)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x199d88[_0xffa9df(0x1d9)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x199d88[_0xffa9df(0x1d9)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x199d88[_0xffa9df(0x1ae)](),_0x199d88[_0xffa9df(0x183)](0x0),_0x199d88[_0xffa9df(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x199d88[_0xffa9df(0x189)](this['label'],0x0,this['r']*1.3);}[_0x198b66(0x173)](){const _0xc98334=_0x198b66;super[_0xc98334(0x173)]();let _0x1b0124=0x1*SCALE_FACTOR,_0x31af7a=0x2*_0x1b0124;this['isActive']?(stroke(0x0,0xff,0x0),strokeWeight(_0x31af7a),fill(0xff)):(stroke(0x0),strokeWeight(_0x1b0124),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0xc98334(0x1bf)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0xc98334(0x1e6)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',this['r']*1.4,this['r']*0.9),super['postDisplay'](),this[_0xc98334(0x1a5)]();}['rotationAngle'](){const _0x2b1518=_0x198b66;switch(this[_0x2b1518(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x57256c,_0x284f7f,_0x1353cb){const _0x54ddbe=_0x198b66;super(_0x57256c,_0x284f7f),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x54ddbe(0x1e6)]=_0x1353cb,this[_0x54ddbe(0x187)]=_0x54ddbe(0x144),this[_0x54ddbe(0x194)]=0x0,this[_0x54ddbe(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x54ddbe(0x176)]['forEach'](_0x23afa0=>{const _0xfeb4e5=_0x54ddbe;_0x23afa0[_0xfeb4e5(0x177)]*=SCALE_FACTOR;});}[_0x198b66(0x1ce)](_0x131762){const _0x5c5743=_0x198b66;_0x131762[_0x5c5743(0x1a0)](0x1*SCALE_FACTOR),_0x131762[_0x5c5743(0x1de)](0x0),_0x131762['fill'](0xc8,0x96,0x64),_0x131762[_0x5c5743(0x147)](CENTER),_0x131762[_0x5c5743(0x1c8)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x131762[_0x5c5743(0x1ae)](),_0x131762[_0x5c5743(0x183)](0x0),_0x131762[_0x5c5743(0x1bb)](CENTER,CENTER),_0x131762[_0x5c5743(0x1ab)](0x8*SCALE_FACTOR),_0x131762['text'](this['label'],0x0,0x0);}[_0x198b66(0x173)](){const _0x3fec02=_0x198b66;super[_0x3fec02(0x173)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x3fec02(0x1e6)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['resistance']+_0x3fec02(0x1ef),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super['postDisplay'](),this['updateConnectors']();}[_0x198b66(0x1a5)](){const _0x1dc5de=_0x198b66;this[_0x1dc5de(0x176)]['forEach'](_0x55f96a=>{const _0x1a2876=_0x1dc5de;_0x55f96a['x']=this['x']+cos(this[_0x1a2876(0x145)]())*_0x55f96a[_0x1a2876(0x177)]-sin(this['rotationAngle']())*_0x55f96a[_0x1a2876(0x15c)],_0x55f96a['y']=this['y']+sin(this[_0x1a2876(0x145)]())*_0x55f96a[_0x1a2876(0x177)]+cos(this['rotationAngle']())*_0x55f96a['originalY'];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x61fab7,_0x5cfae7,_0x43323b){const _0x37c858=_0x198b66;super(_0x61fab7,_0x5cfae7),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x37c858(0x146)](this['w'],this['h'])/0x2,this['label']=_0x43323b,this[_0x37c858(0x1c1)]='9',this['isVisible']=!![],this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors']['forEach'](_0x2f9709=>{const _0x3c9125=_0x37c858;_0x2f9709[_0x3c9125(0x177)]*=SCALE_FACTOR;});}[_0x198b66(0x1f2)](_0x581ab7){const _0xb3ea74=_0x198b66;if(_0x581ab7===this[_0xb3ea74(0x17d)])return;this['isVisible']=_0x581ab7,redraw();}['displayPalette'](_0x1e1c23){const _0x1dc11c=_0x198b66;_0x1e1c23['strokeWeight'](0x1*SCALE_FACTOR),_0x1e1c23[_0x1dc11c(0x1de)](0x0),_0x1e1c23['line'](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x1e1c23[_0x1dc11c(0x1d9)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x1e1c23[_0x1dc11c(0x1d9)](this['w']/0x5,0x0,this['w'],0x0),_0x1e1c23[_0x1dc11c(0x1d9)](-this['w']/0x5,0x0,-this['w'],0x0),_0x1e1c23['noStroke'](),_0x1e1c23['fill'](0x0),_0x1e1c23[_0x1dc11c(0x1bb)](CENTER,CENTER),_0x1e1c23[_0x1dc11c(0x1ab)](0x8*SCALE_FACTOR),_0x1e1c23[_0x1dc11c(0x189)](this['label'],-this['w']/0x2,-this['h']*0.5);}[_0x198b66(0x173)](){const _0x41e207=_0x198b66;if(!this[_0x41e207(0x17d)])return;super[_0x41e207(0x173)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x41e207(0x1c1)]+_0x41e207(0x1a4),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x41e207(0x136)](),this[_0x41e207(0x1a5)]();}[_0x198b66(0x1a5)](){const _0x397913=_0x198b66;this['connectors'][_0x397913(0x15b)](_0x32cd72=>{const _0x41e358=_0x397913;_0x32cd72['x']=this['x']+cos(this[_0x41e358(0x145)]())*_0x32cd72[_0x41e358(0x177)]-sin(this[_0x41e358(0x145)]())*_0x32cd72[_0x41e358(0x15c)],_0x32cd72['y']=this['y']+sin(this[_0x41e358(0x145)]())*_0x32cd72[_0x41e358(0x177)]+cos(this[_0x41e358(0x145)]())*_0x32cd72[_0x41e358(0x15c)];});}[_0x198b66(0x145)](){const _0x1e7bfa=_0x198b66;switch(this[_0x1e7bfa(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x5a1e1b,_0xe427ef,_0x3371a4){const _0x42002d=_0x198b66;super(_0x5a1e1b,_0xe427ef),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this['label']=_0x3371a4,this[_0x42002d(0x159)]='50',this[_0x42002d(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x42002d(0x15b)](_0x39ba12=>{_0x39ba12['originalX']*=SCALE_FACTOR;});}[_0x198b66(0x1ce)](_0x28d48f){const _0xd2fc76=_0x198b66;_0x28d48f[_0xd2fc76(0x1a0)](0x1*SCALE_FACTOR),_0x28d48f[_0xd2fc76(0x1de)](0x0),_0x28d48f[_0xd2fc76(0x183)](0xdc),_0x28d48f['circle'](0x0,0x0,this['r']*1.5),_0x28d48f[_0xd2fc76(0x1ae)](),_0x28d48f[_0xd2fc76(0x183)](0x0),_0x28d48f[_0xd2fc76(0x1bb)](CENTER,CENTER),_0x28d48f[_0xd2fc76(0x1ab)](0x8*SCALE_FACTOR),_0x28d48f['text'](this[_0xd2fc76(0x1e6)],this['r']*0.6,this['r']*1.3);}[_0x198b66(0x173)](){const _0x9c19ca=_0x198b66;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x9c19ca(0x1e6)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x9c19ca(0x159)]+_0x9c19ca(0x18c),0x0,this['r']+0x3*SCALE_FACTOR),super['postDisplay'](),this[_0x9c19ca(0x1a5)]();}['updateConnectors'](){const _0x46347b=_0x198b66;this['connectors'][_0x46347b(0x15b)](_0x11c0fd=>{const _0x21f75a=_0x46347b;_0x11c0fd['x']=this['x']+cos(this[_0x21f75a(0x145)]())*_0x11c0fd[_0x21f75a(0x177)]-sin(this[_0x21f75a(0x145)]())*_0x11c0fd[_0x21f75a(0x15c)],_0x11c0fd['y']=this['y']+sin(this[_0x21f75a(0x145)]())*_0x11c0fd[_0x21f75a(0x177)]+cos(this[_0x21f75a(0x145)]())*_0x11c0fd[_0x21f75a(0x15c)];});}[_0x198b66(0x145)](){const _0x22147d=_0x198b66;switch(this[_0x22147d(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x423275,_0x5344b0,_0x83527f){const _0x22148b=_0x198b66;super(_0x423275,_0x5344b0),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x22148b(0x146)](this['w'],this['h'])/0x2,this[_0x22148b(0x1e6)]=_0x83527f,this[_0x22148b(0x166)]='440',this[_0x22148b(0x194)]=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x22148b(0x176)]['forEach'](_0x49d9d1=>{_0x49d9d1['originalX']*=SCALE_FACTOR;});}[_0x198b66(0x1ce)](_0x1beaf5){const _0x105513=_0x198b66;_0x1beaf5[_0x105513(0x1a0)](0x1*SCALE_FACTOR),_0x1beaf5[_0x105513(0x1de)](0x0);let _0x473fa6=this['h']*0.25,_0x5ebd77=this['w']*0.6,_0x3c84f7=-_0x5ebd77/0x2,_0x192f58=0x0,_0x4b6435=_0x5ebd77/0x3;_0x1beaf5[_0x105513(0x143)]();const _0x573d50=0x3;for(let _0x521088=0x0;_0x521088<_0x573d50;_0x521088++){let _0x5a5ed8=_0x3c84f7+_0x521088*_0x4b6435;_0x1beaf5[_0x105513(0x195)](_0x5a5ed8+_0x4b6435/0x2,_0x192f58,_0x4b6435,_0x473fa6,PI,0x0);}_0x1beaf5[_0x105513(0x1d9)](_0x3c84f7,0x0,_0x3c84f7-0xa,0x0),_0x1beaf5['line'](_0x5ebd77/0x2,0x0,_0x5ebd77/0x2+0xa,0x0),_0x1beaf5['noStroke'](),_0x1beaf5['fill'](0x0),_0x1beaf5[_0x105513(0x1bb)](CENTER,CENTER),_0x1beaf5[_0x105513(0x1ab)](0x8*SCALE_FACTOR),_0x1beaf5[_0x105513(0x189)](this[_0x105513(0x1e6)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}['display'](){const _0x19a2eb=_0x198b66;super[_0x19a2eb(0x173)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x57c1f1=this['h']*0.25,_0x5bdfba=this['w']*0.6,_0x1a43b5=-_0x5bdfba/0x2,_0x2318a1=0x0,_0x4029e2=_0x5bdfba/0x3;noFill();const _0x394a5c=0x3;for(let _0xcd35a4=0x0;_0xcd35a4<_0x394a5c;_0xcd35a4++){let _0x4226ce=_0x1a43b5+_0xcd35a4*_0x4029e2;arc(_0x4226ce+_0x4029e2/0x2,_0x2318a1,_0x4029e2,_0x57c1f1,PI,0x0);}line(_0x1a43b5,0x0,_0x1a43b5-_0x5bdfba/0x3,0x0),line(_0x5bdfba/0x2,0x0,_0x5bdfba*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x19a2eb(0x1e6)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x19a2eb(0x166)]+_0x19a2eb(0x14e),0x0,this['h']/0xa)),super['postDisplay'](),this[_0x19a2eb(0x1a5)]();}['updateConnectors'](){this['connectors']['forEach'](_0x2600bb=>{const _0x35060f=_0x3402;_0x2600bb['x']=this['x']+cos(this[_0x35060f(0x145)]())*_0x2600bb[_0x35060f(0x177)]-sin(this[_0x35060f(0x145)]())*_0x2600bb[_0x35060f(0x15c)],_0x2600bb['y']=this['y']+sin(this[_0x35060f(0x145)]())*_0x2600bb[_0x35060f(0x177)]+cos(this['rotationAngle']())*_0x2600bb['originalY'];});}[_0x198b66(0x145)](){const _0x3c33f9=_0x198b66;switch(this[_0x3c33f9(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x921150,_0x566653,_0xffd8c){const _0x81845f=_0x198b66;super(_0x921150,_0x566653),this['r']=0x11*SCALE_FACTOR,this['label']=_0xffd8c,this[_0x81845f(0x13e)]=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x81845f(0x176)][_0x81845f(0x15b)](_0x488aba=>{const _0x4c02ec=_0x81845f;_0x488aba[_0x4c02ec(0x177)]*=SCALE_FACTOR;});}[_0x198b66(0x1ce)](_0x1073a2){const _0x4d0856=_0x198b66;_0x1073a2[_0x4d0856(0x1a0)](0x1*SCALE_FACTOR),_0x1073a2['stroke'](0x0),_0x1073a2['fill'](0xdc),_0x1073a2[_0x4d0856(0x1cd)](0x0,0x0,this['r']*1.5),_0x1073a2[_0x4d0856(0x1ae)](),_0x1073a2['fill'](0x0),_0x1073a2[_0x4d0856(0x1bb)](CENTER,CENTER),_0x1073a2['textSize'](0x8*SCALE_FACTOR),_0x1073a2[_0x4d0856(0x189)](this[_0x4d0856(0x1e6)],this['r']*0.6,this['r']*1.3);}[_0x198b66(0x173)](){const _0x13a2eb=_0x198b66;super[_0x13a2eb(0x173)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x13a2eb(0x1e6)],0x0,0x0),super[_0x13a2eb(0x136)](),this[_0x13a2eb(0x1a5)]();}[_0x198b66(0x1a5)](){const _0x33f90a=_0x198b66;this[_0x33f90a(0x176)]['forEach'](_0x2e02d1=>{const _0x477760=_0x33f90a;_0x2e02d1['x']=this['x']+cos(this[_0x477760(0x145)]())*_0x2e02d1[_0x477760(0x177)]-sin(this[_0x477760(0x145)]())*_0x2e02d1['originalY'],_0x2e02d1['y']=this['y']+sin(this['rotationAngle']())*_0x2e02d1['originalX']+cos(this[_0x477760(0x145)]())*_0x2e02d1['originalY'];});}[_0x198b66(0x145)](){const _0x215074=_0x198b66;switch(this[_0x215074(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x371ac6,_0x3e1426,_0x593664){const _0x381170=_0x198b66;super(_0x371ac6,_0x3e1426),this['r']=0x11*SCALE_FACTOR,this['label']=_0x593664,this[_0x381170(0x18f)]=0x0,this[_0x381170(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x381170(0x176)][_0x381170(0x15b)](_0x25a335=>{_0x25a335['originalX']*=SCALE_FACTOR;});}[_0x198b66(0x1ce)](_0x3419f3){const _0x2dae4b=_0x198b66;_0x3419f3[_0x2dae4b(0x1a0)](0x1*SCALE_FACTOR),_0x3419f3[_0x2dae4b(0x1de)](0x0),_0x3419f3[_0x2dae4b(0x183)](0xdc),_0x3419f3['circle'](0x0,0x0,this['r']*0x1);const _0x525718=0.8;_0x3419f3['line'](-this['r']*_0x525718,0x0,this['r']*_0x525718,0x0),_0x3419f3[_0x2dae4b(0x1d9)](0x0,-this['r']*_0x525718,0x0,this['r']*_0x525718),_0x3419f3[_0x2dae4b(0x1d9)](0x0,-this['r']*_0x525718,-this['r']*_0x525718,-this['r']*_0x525718),_0x3419f3[_0x2dae4b(0x1d9)](-this['r']*_0x525718,-this['r']*_0x525718,-this['r']*_0x525718,0x0),_0x3419f3['fill'](0x0),_0x3419f3[_0x2dae4b(0x1cd)](0x0,this['r']*_0x525718,this['r']*0.2),_0x3419f3[_0x2dae4b(0x1cd)](-this['r']*_0x525718,0x0,this['r']*0.2),_0x3419f3[_0x2dae4b(0x1cd)](0x0,-this['r']*_0x525718,this['r']*0.2),_0x3419f3[_0x2dae4b(0x1ae)](),_0x3419f3[_0x2dae4b(0x183)](0x0),_0x3419f3[_0x2dae4b(0x1bb)](CENTER,CENTER),_0x3419f3[_0x2dae4b(0x1ab)](0xa*SCALE_FACTOR),_0x3419f3[_0x2dae4b(0x189)](this[_0x2dae4b(0x1e6)],this['r']*_0x525718,-this['r']*_0x525718);}[_0x198b66(0x173)](){const _0x27ff52=_0x198b66;super[_0x27ff52(0x173)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this['label'],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x27ff52(0x136)](),this[_0x27ff52(0x1a5)]();}['updateConnectors'](){const _0x28904c=_0x198b66;this[_0x28904c(0x176)]['forEach'](_0x53bf8d=>{const _0x33f19b=_0x28904c;_0x53bf8d['x']=this['x']+cos(this[_0x33f19b(0x145)]())*_0x53bf8d[_0x33f19b(0x177)]-sin(this[_0x33f19b(0x145)]())*_0x53bf8d['originalY'],_0x53bf8d['y']=this['y']+sin(this['rotationAngle']())*_0x53bf8d['originalX']+cos(this[_0x33f19b(0x145)]())*_0x53bf8d['originalY'];});}[_0x198b66(0x145)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}function _0x3268(){const _0x39901a=['Л\x20А\x20Т\x20Р','rect','waveformColorCurrent','P:\x20','Uab\x20=\x20','abs','circle','displayPalette','Uca\x20=','ang','Switch\x20','drawWaveforms','39672xzZgSI','offsetX','updateConnectorPositions','toFixed','elementLabel','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','line','Capacity','find','currentAmplitude','Ub\x20=','stroke','placedElementData','_previousLampStates','Node','voltage','state','Resistor','userAgent','label','Ub\x20=\x200.0\x20V','368946mFqyNd','test','SA12','function','\x20Вт','palette','error','\x20Ом','boolean','add','setVisibility','Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.','SA1','power','Set\x20C1\x20visible:\x20','phaseAngleDeg','powerPerLamp','pop','Ic\x20=\x20','toggleTimer','SA11','Введіть\x20частоту\x20для\x20','Ua\x20=\x200.0\x20V','GroupLamp','startsWith','1869690KNVsyM','Відстань\x20до\x20точки:\x20','Correctly\x20placed!','orientation','0.0\x20','Phasemeter','isC1CurrentlyVisible\x20is\x20now:','HLG1','paletteIndex','height','numLamps','sqrt','postDisplay','targetX','1139940UvLsMT','getElementById','Ub\x20=\x20','lightyellow','Uab\x20=\x200.0\x20V','mag','current','log','Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!','length','canvas','noFill','100','rotationAngle','max','rectMode','atan2','currentTarget','tapPosition','Введіть\x20напругу\x20для\x20','Switch','isEnabled','\x20\x20мГн','Переключити\x20на\x20\x0a\x20конденсатор','Ua\x20=','palette-element',',\x20HLG1=','Frequency','contains','HLG3','bottom','div','cos','frequency','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','forEach','originalY','3710735wTIfve','SA3','getClickedLampIndex','lightcyan','placed','lampRadius','setText','#4CAF50','type','induction','Uc\x20=','floor','angle','HLG2','width','Uc\x20=\x20','Помилка:\x20Елемент\x20не\x20знайдено','voltageAmplitude','Потрібно\x20поставити\x20елементів:\x20','1070QsfdBh','sin','Ubc\x20=','display','innerWidth','Напруга','connectors','originalX','1448040KrNAiW','elementOrientation','show','SA4','SA31','isVisible','total_power','isOpen','blue','Дослідні\x20дані','appendChild','fill','frequencyHz','Введіть\x20опір\x20для\x20','textContent','resistance','isTogglingLamp','text','elementType','Ua\x20=\x20','\x20Гц','orange','drawingContext','phase','classList','Ib\x20=\x20','angleMode','lightgray','voltageDrop','arc','Ubc\x20=\x200.0\x20V','innerHTML','Uca\x20=\x200.0\x20V','remove','update','round','random','PA3','Введіть\x20ємність\x20для\x20','lamps','strokeWeight','CustomAmmeter','setLineDash','Нейтральний\x20провід\x20відімкнуто!','\x20мкФ','updateConnectors','dataset','12LnQRHV','PA4','calculationDisplayValue','Toggle\x20Visibility\x20Button\x20Clicked!','textSize','In\x20=\x20','Uca\x20=\x20','noStroke','targetY','Uab\x20=','44658JvumUM','push','240','isFixed','undefined','top','waveformColorVoltage','5BlbpyN','PA2','toggleState','textAlign','calculateTotalPower','SwitchSPDT','setEnabled','isActive','PA1','capacity',',\x20HLG1\x20visible:\x20','copy','SA2','SA21','click'];_0x3268=function(){return _0x39901a;};return _0x3268();}class Node extends CircuitElement{constructor(_0x1a28af,_0x12ef39,_0x46a520=''){const _0x5dd344=_0x198b66;super(_0x1a28af,_0x12ef39),this['r']=0x14*SCALE_FACTOR,this[_0x5dd344(0x1e6)]=_0x46a520,this[_0x5dd344(0x192)]=0x3,this[_0x5dd344(0x176)]=this[_0x5dd344(0x1d5)]();}[_0x198b66(0x1d5)](){const _0x4fd8a0=_0x198b66;let _0x425822=[];switch(this[_0x4fd8a0(0x192)]){case 0x1:_0x425822=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x425822=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x425822=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x425822=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x425822=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x425822['forEach'](_0xecf0ff=>{const _0x1c3e2f=_0x4fd8a0;_0xecf0ff[_0x1c3e2f(0x177)]*=SCALE_FACTOR,_0xecf0ff[_0x1c3e2f(0x15c)]*=SCALE_FACTOR;}),_0x425822;}[_0x198b66(0x1ce)](_0x2febf2){const _0x453001=_0x198b66;_0x2febf2[_0x453001(0x1a0)](1.5*SCALE_FACTOR),_0x2febf2[_0x453001(0x1de)](0x0);let _0x3db99b=this['r']*0.75;_0x2febf2[_0x453001(0x1d9)](0x0,-_0x3db99b,0x0,_0x3db99b),_0x2febf2[_0x453001(0x1d9)](-_0x3db99b,0x0,_0x3db99b,0x0);}[_0x198b66(0x173)](){const _0x481ea0=_0x198b66;super[_0x481ea0(0x173)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x50a609=this['r']*1.5;switch(this['angleMode']){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x50a609,0x0,0x0),line(-_0x50a609,0x0,_0x50a609,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x481ea0(0x1e6)],0x0,_0x50a609+0x5*SCALE_FACTOR),super[_0x481ea0(0x136)](),this['updateConnectors']();}['update'](){const _0xf582d8=_0x198b66;this[_0xf582d8(0x192)]=Math[_0xf582d8(0x19b)](this[_0xf582d8(0x169)]),this[_0xf582d8(0x176)]=this[_0xf582d8(0x1d5)]();}[_0x198b66(0x1a5)](){const _0x52ddd2=_0x198b66;this['connectors'][_0x52ddd2(0x15b)](_0x37b09b=>{const _0x54d7dc=_0x52ddd2;_0x37b09b['x']=this['x']+cos(this[_0x54d7dc(0x145)]())*_0x37b09b['originalX']-sin(this[_0x54d7dc(0x145)]())*_0x37b09b['originalY'],_0x37b09b['y']=this['y']+sin(this[_0x54d7dc(0x145)]())*_0x37b09b[_0x54d7dc(0x177)]+cos(this[_0x54d7dc(0x145)]())*_0x37b09b[_0x54d7dc(0x15c)];});}[_0x198b66(0x145)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x495f42,_0x32a0d0,_0x6cd774){const _0x177724=_0x198b66;super(_0x495f42,_0x32a0d0),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x177724(0x1e6)]=_0x6cd774,this[_0x177724(0x1e3)]=0x2,this[_0x177724(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x177724(0x176)][_0x177724(0x15b)](_0x1bf60f=>{const _0x5bafc9=_0x177724;_0x1bf60f[_0x5bafc9(0x177)]*=SCALE_FACTOR,_0x1bf60f[_0x5bafc9(0x15c)]*=SCALE_FACTOR;});}[_0x198b66(0x1ce)](_0x25d070){const _0x4058c8=_0x198b66;_0x25d070['strokeWeight'](1.5*SCALE_FACTOR),_0x25d070[_0x4058c8(0x1de)](0x0),_0x25d070[_0x4058c8(0x143)](),_0x25d070[_0x4058c8(0x147)](CENTER),_0x25d070[_0x4058c8(0x1c8)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x25d070['line'](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x25d070[_0x4058c8(0x1d9)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x25d070[_0x4058c8(0x1d9)](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x25d070[_0x4058c8(0x1d9)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x25d070[_0x4058c8(0x1ae)](),_0x25d070[_0x4058c8(0x183)](0x0),_0x25d070[_0x4058c8(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x25d070[_0x4058c8(0x189)](this[_0x4058c8(0x1e6)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x152003=_0x198b66;super[_0x152003(0x173)](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this['state']===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this[_0x152003(0x1e3)]===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this[_0x152003(0x1e3)]===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x152003(0x1e6)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x152003(0x136)](),this['updateConnectors']();}[_0x198b66(0x1ba)](){const _0x56b031=_0x198b66;this[_0x56b031(0x1e3)]=this[_0x56b031(0x1e3)]===0x1?0x2:0x1;if(this[_0x56b031(0x1e6)]===_0x56b031(0x1f4)){let _0x1ae8fb=findElementByLabel('E1');_0x1ae8fb&&(_0x1ae8fb[_0x56b031(0x1bf)]=this['state']===0x2);}else{if(this[_0x56b031(0x1e6)]===_0x56b031(0x1c4)){let _0x194b44=findElementByLabel('E2');_0x194b44&&(_0x194b44[_0x56b031(0x1bf)]=this[_0x56b031(0x1e3)]===0x1);}}redraw(),calculateCircuit();}[_0x198b66(0x1a5)](){const _0x2402f7=_0x198b66;this[_0x2402f7(0x176)]['forEach'](_0x158a79=>{const _0x1423e1=_0x2402f7;_0x158a79['x']=this['x']+cos(this[_0x1423e1(0x145)]())*_0x158a79[_0x1423e1(0x177)]-sin(this[_0x1423e1(0x145)]())*_0x158a79[_0x1423e1(0x15c)],_0x158a79['y']=this['y']+sin(this[_0x1423e1(0x145)]())*_0x158a79['originalX']+cos(this['rotationAngle']())*_0x158a79[_0x1423e1(0x15c)];});}['rotationAngle'](){const _0x3bc538=_0x198b66;switch(this[_0x3bc538(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0xb139a8,_0x4b7946,_0x551b4c){const _0x1ed0cd=_0x198b66;super(_0xb139a8,_0x4b7946),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this['label']=_0x551b4c,this['isOpen']=!![],this[_0x1ed0cd(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x1ed0cd(0x176)][_0x1ed0cd(0x15b)](_0x168071=>{_0x168071['originalX']*=SCALE_FACTOR;});}['displayPalette'](_0x354ccd){const _0x38f48e=_0x198b66;_0x354ccd[_0x38f48e(0x1a0)](1.5*SCALE_FACTOR),_0x354ccd[_0x38f48e(0x1de)](0x0),_0x354ccd[_0x38f48e(0x1d9)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x354ccd[_0x38f48e(0x1d9)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x354ccd[_0x38f48e(0x1d9)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x354ccd['noFill'](),_0x354ccd[_0x38f48e(0x147)](CENTER),_0x354ccd[_0x38f48e(0x1c8)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x354ccd[_0x38f48e(0x1ae)](),_0x354ccd['fill'](0x0),_0x354ccd[_0x38f48e(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x354ccd[_0x38f48e(0x189)](this[_0x38f48e(0x1e6)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x4729a8=_0x198b66;super[_0x4729a8(0x173)](),strokeWeight(1.5*SCALE_FACTOR),this[_0x4729a8(0x17f)]?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this['isOpen']?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4729a8(0x1e6)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x4729a8(0x136)](),this[_0x4729a8(0x1a5)]();}[_0x198b66(0x1ba)](){const _0x7ca040=_0x198b66;this[_0x7ca040(0x17f)]=!this['isOpen'],console[_0x7ca040(0x13f)](_0x7ca040(0x1d1)+this[_0x7ca040(0x1e6)]+'\x20toggled.\x20Now\x20isOpen:\x20'+this[_0x7ca040(0x17f)]),updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}['updateConnectors'](){const _0x6f9ad2=_0x198b66;this[_0x6f9ad2(0x176)][_0x6f9ad2(0x15b)](_0x2e1145=>{const _0x589a68=_0x6f9ad2;_0x2e1145['x']=this['x']+cos(this[_0x589a68(0x145)]())*_0x2e1145[_0x589a68(0x177)]-sin(this[_0x589a68(0x145)]())*_0x2e1145['originalY'],_0x2e1145['y']=this['y']+sin(this[_0x589a68(0x145)]())*_0x2e1145[_0x589a68(0x177)]+cos(this['rotationAngle']())*_0x2e1145['originalY'];});}[_0x198b66(0x145)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x3d6106,_0x5a9496,_0x851dfd){const _0x48a220=_0x198b66;this['x']=_0x3d6106,this['y']=_0x5a9496,this[_0x48a220(0x189)]=_0x851dfd;}[_0x198b66(0x163)](_0x4248b5){const _0x58546b=_0x198b66;this[_0x58546b(0x189)]=_0x4248b5;}[_0x198b66(0x173)](){const _0x3c09e1=_0x198b66;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke('lightgray'),fill(_0x3c09e1(0x1b3)),textSize(0xf*SCALE_FACTOR);let _0x16ab5b=textWidth(this[_0x3c09e1(0x189)]);rectMode(CENTER);let _0x4efb9e=0x0,_0x2878cb=0x0,_0x248ba2=0x2*SCALE_FACTOR,_0x23d60a=0x2*SCALE_FACTOR;this[_0x3c09e1(0x189)]&&rect(_0x4efb9e,_0x2878cb,_0x16ab5b+_0x248ba2*0x2,0x14*SCALE_FACTOR+_0x23d60a*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x3c09e1(0x189)],_0x4efb9e,_0x2878cb),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x3945e6,_0x33fbed,_0x2f99e3){const _0x1ebc95=_0x198b66;super(_0x3945e6,_0x33fbed),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x1ebc95(0x146)](this['w'],this['h'])/0x2,this[_0x1ebc95(0x1e6)]=_0x2f99e3,this[_0x1ebc95(0x14a)]=0.5,this[_0x1ebc95(0x1e2)]='50',this[_0x1ebc95(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}['display'](){const _0x1b628e=_0x198b66;super[_0x1b628e(0x173)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x334670=this['h'],_0x291060=this['w'];let _0x55d87b=_0x334670*1.2,_0x169f79=_0x291060*0.35,_0x19c481=-_0x55d87b/0x2,_0xc4789e=_0x55d87b/0x2,_0x577add=-_0x291060*0.1;drawingContext[_0x1b628e(0x1a2)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x577add-_0x169f79,-_0x334670*1.4,_0x169f79*0x2,2.8*_0x334670),drawingContext[_0x1b628e(0x1a2)]([]),noFill();const _0x4e4d0c=0x3,_0x22db04=_0x55d87b/_0x4e4d0c;for(let _0x49f955=0x0;_0x49f955<_0x4e4d0c;_0x49f955++){let _0x586424=_0x19c481+_0x49f955*_0x22db04;arc(_0x577add-_0x334670/0xa*2.2,_0x586424+_0x22db04/0x2,_0x169f79,_0x22db04,-PI/0x2,PI/0x2);}line(_0x577add-_0x169f79/0x2-0x3,_0x19c481-_0x334670/0xa,_0x577add-_0x169f79/0x2-0x3,_0x19c481),line(_0x577add-_0x169f79/0x2-0x3,_0x19c481-_0x334670/0xa,_0x577add-_0x169f79*1.5,_0x19c481-_0x334670/0xa),line(_0x577add-_0x169f79/0x2-0x3,_0xc4789e,_0x577add-_0x169f79/0x2-0x3,_0xc4789e+_0x334670*0.4),line(_0x577add-_0x169f79*1.5,_0xc4789e+_0x334670*0.4,_0x577add-_0x169f79/0x2-0x3,_0xc4789e+_0x334670*0.4);let _0x1f71fd=lerp(_0x19c481,_0xc4789e,this[_0x1b628e(0x14a)]);line(_0x577add+_0x169f79/0x3,_0x1f71fd,_0x577add+_0x169f79/0x4+0x19*SCALE_FACTOR,_0x1f71fd),fill(0x0),triangle(_0x334670/0x14,-_0x334670/0x14,-_0x334670/0xa,0x0,_0x334670/0x14,_0x334670/0x14),circle(_0x577add-_0x169f79/0x2-0x3,_0xc4789e+_0x334670*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Л\x20А\x20Т\x20Р',-_0x291060/0xa,-_0x334670*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',-_0x291060/0xa,_0x334670*1.6),super[_0x1b628e(0x136)]();}['displayPalette'](_0x543cb9){const _0x1a50b4=_0x198b66;_0x543cb9[_0x1a50b4(0x1a0)](0x1*SCALE_FACTOR),_0x543cb9['stroke'](0x0);let _0xd97f5f=this['h']*0.6,_0x33745d=this['w']*0.25,_0x5dde4d=-_0xd97f5f/0x2,_0x96b65a=_0xd97f5f/0x2,_0x318158=-this['w']*0.1;_0x543cb9[_0x1a50b4(0x18e)][_0x1a50b4(0x1a2)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x543cb9[_0x1a50b4(0x1c8)](_0x318158-_0x33745d,_0x5dde4d-_0xd97f5f/0x2,_0x33745d+0xf,_0xd97f5f*0x2),_0x543cb9[_0x1a50b4(0x18e)][_0x1a50b4(0x1a2)]([]),_0x543cb9[_0x1a50b4(0x143)]();const _0x139653=0x3,_0x133c16=_0xd97f5f/_0x139653;for(let _0x2fea4f=0x0;_0x2fea4f<_0x139653;_0x2fea4f++){let _0x26f2e2=_0x5dde4d+_0x2fea4f*_0x133c16;_0x543cb9['arc'](_0x318158-0xf,_0x26f2e2+_0x133c16/0x2,_0x33745d,_0x133c16,-PI/0x2,PI/0x2);}_0x543cb9[_0x1a50b4(0x1d9)](_0x318158-_0x33745d/0x2-0x3,_0x5dde4d-0xa,_0x318158-_0x33745d/0x2-0x3,_0x5dde4d),_0x543cb9[_0x1a50b4(0x1d9)](_0x318158-_0x33745d/0x2-0x3,_0x5dde4d-0xa,_0x318158-_0x33745d*1.5,_0x5dde4d-0xa),_0x543cb9['line'](_0x318158-_0x33745d/0x2-0x3,_0x96b65a,_0x318158-_0x33745d/0x2-0x3,_0x96b65a+0xa),_0x543cb9[_0x1a50b4(0x1d9)](_0x318158-_0x33745d*1.5,_0x96b65a+0xa,_0x318158-_0x33745d/0x2-0x3,_0x96b65a+0xa);let _0x288637=lerp(_0x5dde4d,_0x96b65a,this[_0x1a50b4(0x14a)]);_0x543cb9['line'](_0x318158+_0x33745d/0x4,_0x288637,_0x318158+_0x33745d/0x4+0xc*SCALE_FACTOR,_0x288637),_0x543cb9[_0x1a50b4(0x183)](0x0),_0x543cb9['triangle'](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x543cb9[_0x1a50b4(0x183)](0x0),_0x543cb9[_0x1a50b4(0x1ae)](),_0x543cb9[_0x1a50b4(0x1ab)](0xa*SCALE_FACTOR),_0x543cb9[_0x1a50b4(0x1bb)](CENTER,BOTTOM),_0x543cb9[_0x1a50b4(0x189)](_0x1a50b4(0x1c7),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x1df741,_0x4f348f,_0x5b6ac2,_0x3b2fc8){const _0x373bec=_0x198b66;super(_0x1df741,_0x4f348f),this[_0x373bec(0x16b)]=_0x5b6ac2,this['height']=_0x3b2fc8,this[_0x373bec(0x1c9)]=color(0x0,0xff,0x0),this['waveformColorVoltage']=color(0x0,0x94,0xff),this[_0x373bec(0x1dc)]=0x0,this['voltageAmplitude']=0x0,this[_0x373bec(0x184)]=0x32,this[_0x373bec(0x1f7)]=0x0;}['updateWaveform'](_0x242db4,_0x29a3da,_0x3a59bc,_0xefcb9a){const _0x3d8fe5=_0x198b66;this[_0x3d8fe5(0x1dc)]=_0x242db4,this[_0x3d8fe5(0x16e)]=_0x29a3da,this['frequencyHz']=_0x3a59bc,this[_0x3d8fe5(0x1f7)]=_0xefcb9a;}[_0x198b66(0x173)](){const _0xd0d793=_0x198b66;push(),translate(this['x'],this['y']),stroke('lightgray'),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0xd0d793(0x16b)],this['height']),drawingContext['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this[_0xd0d793(0x20a)]/0x2,this[_0xd0d793(0x16b)],this[_0xd0d793(0x20a)]/0x2),line(this['width']/0x2,0x0,this[_0xd0d793(0x16b)]/0x2,this[_0xd0d793(0x20a)]),drawingContext[_0xd0d793(0x1a2)]([]),stroke(this[_0xd0d793(0x1b7)]),fill(this[_0xd0d793(0x1b7)]),rect(0x0,this['height']*0.7,this[_0xd0d793(0x16b)]/0x3,this[_0xd0d793(0x20a)]/0x8),stroke(this[_0xd0d793(0x1c9)]),fill(this[_0xd0d793(0x1c9)]),rect(0x0,this[_0xd0d793(0x20a)]*0.85,this[_0xd0d793(0x16b)]/0x3,this[_0xd0d793(0x20a)]/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0xd0d793(0x175),this[_0xd0d793(0x16b)]/0x6,this[_0xd0d793(0x20a)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Струм',this[_0xd0d793(0x16b)]/0x6,this['height']*0.97),(this[_0xd0d793(0x1dc)]>0x0||this[_0xd0d793(0x16e)]>0x0)&&this[_0xd0d793(0x1d2)](),pop();}[_0x198b66(0x1d2)](){const _0x2777f3=_0x198b66;push(),translate(0x14*SCALE_FACTOR,this[_0x2777f3(0x20a)]/0x2);const _0x1e33af=0x96,_0x6c78cd=0x3*PI/_0x1e33af,_0x579a1a=this[_0x2777f3(0x20a)]/0x4;stroke(this[_0x2777f3(0x1c9)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x4caa05=this['phaseAngleDeg']*PI/0xb4;for(let _0x16cbf0=0x0;_0x16cbf0<=_0x1e33af;_0x16cbf0++){const _0x30032c=_0x16cbf0*_0x6c78cd,_0xbabb80=sin(_0x30032c-_0x4caa05)*this[_0x2777f3(0x20a)]*0.25;vertex(_0x16cbf0*this[_0x2777f3(0x16b)]/_0x1e33af-0x14*SCALE_FACTOR,-_0xbabb80);}endShape(),stroke(this['waveformColorVoltage']),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x5abe72=0x0;_0x5abe72<=_0x1e33af;_0x5abe72++){const _0x51f43b=_0x5abe72*_0x6c78cd,_0x597784=sin(_0x51f43b)*this[_0x2777f3(0x20a)]*0.45;vertex(_0x5abe72*this['width']/_0x1e33af-0x14*SCALE_FACTOR,-_0x597784);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x43760f,_0x139f2a,_0x3d25c7){const _0x12c8a0=_0x198b66;super(_0x43760f,_0x139f2a),this['r']=0xf*SCALE_FACTOR,this[_0x12c8a0(0x1e6)]=_0x3d25c7,this[_0x12c8a0(0x1f5)]='30',this[_0x12c8a0(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x12c8a0(0x176)][_0x12c8a0(0x15b)](_0x5274d0=>{const _0x98aa1e=_0x12c8a0;_0x5274d0[_0x98aa1e(0x177)]*=SCALE_FACTOR;}),this[_0x12c8a0(0x1bf)]=![];}[_0x198b66(0x1ce)](_0xcddfc6){const _0x1af8e3=_0x198b66;_0xcddfc6[_0x1af8e3(0x1a0)](0x1*SCALE_FACTOR),_0xcddfc6[_0x1af8e3(0x1de)](0x0),_0xcddfc6['fill'](0xff),_0xcddfc6[_0x1af8e3(0x1cd)](0x0,0x0,this['r']*1.5);const _0x340bf7=this['r']*0.707106781*0.75;_0xcddfc6[_0x1af8e3(0x1d9)](-_0x340bf7,_0x340bf7,_0x340bf7,-_0x340bf7),_0xcddfc6[_0x1af8e3(0x1d9)](-_0x340bf7,-_0x340bf7,_0x340bf7,_0x340bf7),_0xcddfc6['noStroke'](),_0xcddfc6[_0x1af8e3(0x183)](0x0),_0xcddfc6[_0x1af8e3(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0xcddfc6[_0x1af8e3(0x189)](this[_0x1af8e3(0x1e6)],0x0,this['r']*1.3);}[_0x198b66(0x173)](){const _0x77023=_0x198b66;super['display']();let _0x39baf9=0x1*SCALE_FACTOR,_0x3d9827=0x2*_0x39baf9;this[_0x77023(0x1bf)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0x3d9827),fill(0xff)):(stroke(0x0),strokeWeight(_0x39baf9),fill(0xff));const _0x1bf38d=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x1bf38d,_0x1bf38d,_0x1bf38d,-_0x1bf38d),line(-_0x1bf38d,-_0x1bf38d,_0x1bf38d,_0x1bf38d);if(this[_0x77023(0x1bf)])for(let _0x209339=0x0;_0x209339<0x168;_0x209339+=0x1e){const _0x40dd07=_0x209339*(Math['PI']/0xb4),_0x4af050=1.15*this['r'],_0x318945=1.4*this['r'],_0x377166=_0x318945*Math[_0x77023(0x158)](_0x40dd07),_0x1a5fc2=_0x318945*Math[_0x77023(0x171)](_0x40dd07),_0xd65b6=_0x4af050*Math[_0x77023(0x158)](_0x40dd07),_0x562b73=_0x4af050*Math[_0x77023(0x171)](_0x40dd07);line(_0xd65b6,_0x562b73,_0x377166,_0x1a5fc2);}rotate(0x0),this['isActive']?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this['label'],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this[_0x77023(0x1f5)]+'\x20Вт',0x0,this['r']*1.2),super[_0x77023(0x136)](),this[_0x77023(0x1a5)]();}[_0x198b66(0x1ba)](){const _0x2c5410=_0x198b66;this[_0x2c5410(0x1bf)]?this[_0x2c5410(0x1bf)]=![]:this[_0x2c5410(0x1bf)]=!![];}[_0x198b66(0x145)](){const _0x2f8b1a=_0x198b66;switch(this[_0x2f8b1a(0x204)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x4c10f2,_0x4cd254,_0x6957a,_0x33c096=0x1e){const _0x30e900=_0x198b66;super(_0x4c10f2,_0x4cd254),this[_0x30e900(0x134)]=0x5,this['lampRadius']=0xf*SCALE_FACTOR,this['lampSpacing']=this['lampRadius']*0x2+0xa*SCALE_FACTOR,this[_0x30e900(0x1e6)]=_0x6957a,this[_0x30e900(0x1f8)]=parseFloat(_0x33c096)||0x1e,this[_0x30e900(0x17e)]=0x0,this[_0x30e900(0x17d)]=!![],this[_0x30e900(0x14d)]=!![],this[_0x30e900(0x1e0)]=[],this['w']=this[_0x30e900(0x134)]*this[_0x30e900(0x162)]*0x2+(this['numLamps']-0x1)*(this['lampSpacing']-this[_0x30e900(0x162)]*0x2),this['h']=this[_0x30e900(0x162)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x30e900(0x19f)]=[];const _0x2ed461=-(this['w']/0x2)+this[_0x30e900(0x162)];for(let _0x286b0b=0x0;_0x286b0b<this[_0x30e900(0x134)];_0x286b0b++){const _0x5ee553=!![];this['lamps'][_0x30e900(0x1b2)]({'isActive':_0x5ee553,'offsetX':_0x2ed461+_0x286b0b*this['lampSpacing'],'offsetY':0x0}),this[_0x30e900(0x1e0)][_0x30e900(0x1b2)](_0x5ee553);}this[_0x30e900(0x176)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x30e900(0x1bc)](),this['isTogglingLamp']=![],this['toggleTimer']=null;}[_0x198b66(0x1f2)](_0x452e60){const _0x50928d=_0x198b66;if(_0x452e60===this[_0x50928d(0x17d)])return;this[_0x50928d(0x17d)]=_0x452e60,this[_0x50928d(0x1bc)](),redraw();}[_0x198b66(0x1be)](_0x552989){const _0x39c2a8=_0x198b66;if(_0x552989===this[_0x39c2a8(0x14d)])return;this[_0x39c2a8(0x14d)]=_0x552989;if(!this[_0x39c2a8(0x14d)]){for(let _0x5e2c73=0x0;_0x5e2c73<this[_0x39c2a8(0x134)];_0x5e2c73++){this[_0x39c2a8(0x1e0)][_0x5e2c73]=this['lamps'][_0x5e2c73][_0x39c2a8(0x1bf)];}for(let _0x1f08ff of this[_0x39c2a8(0x19f)]){_0x1f08ff[_0x39c2a8(0x1bf)]=![];}}else for(let _0x45d15a=0x0;_0x45d15a<this[_0x39c2a8(0x134)];_0x45d15a++){this[_0x39c2a8(0x19f)][_0x45d15a][_0x39c2a8(0x1bf)]=typeof this[_0x39c2a8(0x1e0)][_0x45d15a]===_0x39c2a8(0x1f0)?this[_0x39c2a8(0x1e0)][_0x45d15a]:![];}this[_0x39c2a8(0x1bc)](),redraw();}[_0x198b66(0x1ba)](_0x4a132d){const _0x57c64c=_0x198b66;if(!this[_0x57c64c(0x14d)]||!this[_0x57c64c(0x17d)])return;if(this[_0x57c64c(0x188)])return;_0x4a132d>=0x0&&_0x4a132d<this[_0x57c64c(0x134)]&&(this['isTogglingLamp']=!![],this[_0x57c64c(0x19f)][_0x4a132d][_0x57c64c(0x1bf)]=!this[_0x57c64c(0x19f)][_0x4a132d]['isActive'],this[_0x57c64c(0x1e0)][_0x4a132d]=this['lamps'][_0x4a132d]['isActive'],this[_0x57c64c(0x1bc)](),clearTimeout(this[_0x57c64c(0x1fb)]),this['toggleTimer']=setTimeout(()=>{const _0x40b28a=_0x57c64c;this[_0x40b28a(0x188)]=![],redraw();},0xc8));}[_0x198b66(0x1bc)](){const _0x52c771=_0x198b66;if(!this[_0x52c771(0x14d)]||!this[_0x52c771(0x17d)]){this['total_power']=0x0;return;}let _0x3f39ee=0x0;for(const _0x3f7481 of this[_0x52c771(0x19f)]){_0x3f7481[_0x52c771(0x1bf)]&&(_0x3f39ee+=this[_0x52c771(0x1f8)]);}this[_0x52c771(0x17e)]=_0x3f39ee;}[_0x198b66(0x15f)](_0x51b8b6,_0xe39eb9){const _0x30af7c=_0x198b66;if(!this[_0x30af7c(0x17d)])return-0x1;for(let _0x356b21=0x0;_0x356b21<this['numLamps'];_0x356b21++){const _0x243b8d=this['lamps'][_0x356b21],_0x2d7880=this['x']+_0x243b8d[_0x30af7c(0x1d4)],_0x1bfaf9=this['y']+_0x243b8d['offsetY'],_0x729c77=dist(_0x51b8b6,_0xe39eb9,_0x2d7880,_0x1bfaf9);if(_0x729c77<this[_0x30af7c(0x162)])return _0x356b21;}return-0x1;}[_0x198b66(0x1ce)](_0x131902){const _0x2779ef=_0x198b66;_0x131902[_0x2779ef(0x1a0)](0x1*SCALE_FACTOR),_0x131902[_0x2779ef(0x1de)](0x0);const _0x27dc0b=this[_0x2779ef(0x162)]*0.5,_0x749d01=_0x27dc0b*0x2+0x2*SCALE_FACTOR,_0x594a31=this[_0x2779ef(0x134)]*_0x27dc0b*0x2+(this['numLamps']-0x1)*0x2*SCALE_FACTOR,_0x4acaf9=-_0x594a31/0x2+_0x27dc0b;for(let _0x5c4fdd=0x0;_0x5c4fdd<this[_0x2779ef(0x134)];_0x5c4fdd++){_0x131902['fill'](0xff),_0x131902[_0x2779ef(0x1cd)](_0x4acaf9+_0x5c4fdd*_0x749d01,0x0,_0x27dc0b*0x2);const _0x2845e8=_0x27dc0b*0.707;_0x131902[_0x2779ef(0x1d9)](_0x4acaf9+_0x5c4fdd*_0x749d01-_0x2845e8,_0x2845e8,_0x4acaf9+_0x5c4fdd*_0x749d01+_0x2845e8,-_0x2845e8),_0x131902[_0x2779ef(0x1d9)](_0x4acaf9+_0x5c4fdd*_0x749d01-_0x2845e8,-_0x2845e8,_0x4acaf9+_0x5c4fdd*_0x749d01+_0x2845e8,_0x2845e8);}_0x131902[_0x2779ef(0x1ae)](),_0x131902[_0x2779ef(0x183)](0x0),_0x131902[_0x2779ef(0x1bb)](CENTER,BOTTOM),_0x131902['textSize'](0x8*SCALE_FACTOR),_0x131902[_0x2779ef(0x189)](this[_0x2779ef(0x1e6)],0x0,_0x27dc0b+0xa*SCALE_FACTOR);}[_0x198b66(0x173)](){const _0x4f1aed=_0x198b66;if(!this[_0x4f1aed(0x17d)])return;push(),translate(this['x'],this['y']);for(let _0x2622a9=0x0;_0x2622a9<this[_0x4f1aed(0x134)];_0x2622a9++){const _0x4e413d=this[_0x4f1aed(0x19f)][_0x2622a9];push(),translate(_0x4e413d['offsetX'],_0x4e413d['offsetY']);let _0x67c95e=0x1*SCALE_FACTOR,_0x5a4bd4=0x2*_0x67c95e,_0x262ca2=color(0xff),_0x46b9c1=color(0x0);_0x4e413d[_0x4f1aed(0x1bf)]?(_0x46b9c1=color(0xff,0xd8,0x0),strokeWeight(_0x5a4bd4),_0x262ca2=color(0xff,0xff,0xc8)):strokeWeight(_0x67c95e);!this['isEnabled']&&(_0x46b9c1=color(0x96),_0x262ca2=color(0xdc),strokeWeight(_0x67c95e));stroke(_0x46b9c1),fill(_0x262ca2),circle(0x0,0x0,this[_0x4f1aed(0x162)]*0x2);const _0x583d20=this[_0x4f1aed(0x162)]*0.707;line(-_0x583d20,_0x583d20,_0x583d20,-_0x583d20),line(-_0x583d20,-_0x583d20,_0x583d20,_0x583d20),line(-1.3*this['lampRadius'],0x0,-this[_0x4f1aed(0x162)],0x0),line(1.3*this[_0x4f1aed(0x162)],0x0,this['lampRadius'],0x0);if(_0x4e413d[_0x4f1aed(0x1bf)]&&this[_0x4f1aed(0x14d)]){stroke(_0x46b9c1),strokeWeight(0x1*SCALE_FACTOR);for(let _0x5eb309=0x0;_0x5eb309<0x168;_0x5eb309+=0x2d){const _0x56bbe6=radians(_0x5eb309),_0x5a9c19=1.15*this['lampRadius'],_0x3d5b78=1.4*this[_0x4f1aed(0x162)];line(_0x5a9c19*cos(_0x56bbe6),_0x5a9c19*sin(_0x56bbe6),_0x3d5b78*cos(_0x56bbe6),_0x3d5b78*sin(_0x56bbe6));}}pop();}noStroke(),fill(this[_0x4f1aed(0x14d)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this[_0x4f1aed(0x162)]-0x5*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this[_0x4f1aed(0x17e)]>0x0&&text(_0x4f1aed(0x1ca)+this[_0x4f1aed(0x17e)][_0x4f1aed(0x1d6)](0x0)+_0x4f1aed(0x1ec),0x0,this[_0x4f1aed(0x162)]+0x5*SCALE_FACTOR),pop(),this['updateConnectors']();}['updateConnectors'](){const _0x426270=_0x198b66,_0x1147f7=this[_0x426270(0x145)]();this[_0x426270(0x176)]['forEach'](_0x45b820=>{const _0x5789c1=_0x426270;_0x45b820['x']=this['x']+cos(_0x1147f7)*_0x45b820[_0x5789c1(0x177)]-sin(_0x1147f7)*_0x45b820[_0x5789c1(0x15c)],_0x45b820['y']=this['y']+sin(_0x1147f7)*_0x45b820[_0x5789c1(0x177)]+cos(_0x1147f7)*_0x45b820['originalY'];});}['rotationAngle'](){return 0x0;}}

    </script>

</body>
</html>