<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>


const _0x4fc365=_0x47b9;(function(_0x22a0af,_0x65c17a){const _0x67604b=_0x47b9,_0x105e3a=_0x22a0af();while(!![]){try{const _0x5b8c62=parseInt(_0x67604b(0x16b))/0x1+parseInt(_0x67604b(0x1e7))/0x2*(parseInt(_0x67604b(0x1a9))/0x3)+-parseInt(_0x67604b(0x1c0))/0x4*(-parseInt(_0x67604b(0x1aa))/0x5)+parseInt(_0x67604b(0x1d3))/0x6+-parseInt(_0x67604b(0x17f))/0x7*(-parseInt(_0x67604b(0x15e))/0x8)+-parseInt(_0x67604b(0x1b7))/0x9*(parseInt(_0x67604b(0x1de))/0xa)+-parseInt(_0x67604b(0x1d1))/0xb;if(_0x5b8c62===_0x65c17a)break;else _0x105e3a['push'](_0x105e3a['shift']());}catch(_0xedb816){_0x105e3a['push'](_0x105e3a['shift']());}}}(_0x3cbb,0xb2ab8));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x4fc365(0x1ec)](navigator[_0x4fc365(0x1ef)]),isLargeMobileScreen=window['innerWidth']>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':'Switch','label':_0x4fc365(0x19a),'targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1a7),'label':_0x4fc365(0x145),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1a7),'label':_0x4fc365(0x1ff),'targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA2','targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1a7),'label':_0x4fc365(0x1ca),'targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1a7),'label':'SA3','targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1a7),'label':'SA31','targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1a7),'label':_0x4fc365(0x142),'targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x155),'label':'PA1','targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x155),'label':_0x4fc365(0x1d8),'targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x155),'label':_0x4fc365(0x16d),'targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x155),'label':_0x4fc365(0x1a0),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x1dc),'label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x4fc365(0x20d),'label':_0x4fc365(0x179),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x4fc365(0x20d),'label':_0x4fc365(0x1f2),'targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x4fc365(0x20d),'label':'HLG3','targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;function _0x3cbb(){const _0x14abe4=['remove','Л\x20А\x20Т\x20Р','add','orientation','Ic\x20=\x20Error','SwitchSPDT','currentAmplitude','\x20px','boolean','lightcyan','updateConnectors','lightgray','getClickedLampIndex','isFixed','palette','Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.','Введіть\x20частоту\x20для\x20','targetX','SA1','Uab\x20=\x200.0\x20V','error','\x20\x20мГн','_previousLampStates','setEnabled','PA4','Переключити\x20на\x20\x0a\x20конденсатор','240','drawWaveforms','voltageDrop','calculationDisplayValue','Струм','Switch','drawingContext','102BKqsqP','730SgadoP','mag','undefined','Uab\x20=\x20Error','Induction','Введіть\x20ємність\x20для\x20','toggleState','show','#4CAF50','forEach','resistance','originalY','floor','558ZXlUbL','offsetY','displayPalette','frequency','textAlign','ang','sqrt','tapPosition','frequencyHz','4064byuqQL','isEnabled','postDisplay','angleMode','click','textContent','elementOrientation','lampRadius','orange','top','SA21','AutotransformerLaboratory','stroke','lightyellow','type','update','>9999\x20A','3668016oUVlHu','isDragging','922026yuLeko','abs','voltage','height','translate','PA2','capacity','paletteIndex','Node','Capacity','Ubc\x20=','150470ODOiZh','toggleTimer','isActive','classList','waveformColorVoltage','state','\x20Гц','rotationAngle','Напруга','5038DLMVlx','text','isTogglingLamp','startsWith','toFixed','test','lamps','noStroke','userAgent','rectMode','Uca\x20=\x20Error','HLG2','Uc\x20=','sin','Введіть\x20опір\x20для\x20','Ub\x20=','Uca\x20=\x20','waveformColorCurrent','Ua\x20=\x20','label','total_power','addEventListener','appendChild','canvas','SA12','green','powerPerLamp','Ia\x20=\x20','elementLabel','find','Ub\x20=\x20','offsetX','copy','Correctly\x20placed!','Ic\x20=\x20','setText','SA2','Дослідні\x20дані','GroupLamp','cos','Ua\x20=','rect','placed','contains','SA4','round','In\x20=\x20','SA11','targetY','phaseAngleDeg','voltageAmplitude','innerHTML','dataset','P:\x20','Схему\x20зібрано!','numLamps','Uca\x20=','isVisible','placedElementData','Введіть\x20напругу\x20для\x20','100','updateConnectorPositions','PA1','CustomAmmeter','Ubc\x20=\x20','Ib\x20=\x20','Ua\x20=\x20Error','strokeWeight','line','\x20мкФ','calculateTotalPower','Uab\x20=','3417304mJHias','arc','power','noFill','Повернути\x20\x0a\x20навантаження','getElementById','Ua\x20=\x200.0\x20V','textSize','Помилка:\x20Елемент\x20не\x20знайдено','induction','In\x20=\x20Error','Resistor','HLG3','1183386pxRQOY','setLineDash','PA3','blue','connectors','fill','elementType','length','Uc\x20=\x200.0\x20V','SA3','circle','Uc\x20=\x20','isOpen','Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!','HLG1','bottom','setVisibility','SA31','div','phase','7yPuQZk','max','push','display','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','width','\x20Вт','lampSpacing','originalX'];_0x3cbb=function(){return _0x14abe4;};return _0x3cbb();}const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=132.8,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;let isTogglingVisibility=![],visibilityToggleTimer=null;const VISIBILITY_TOGGLE_DELAY=0xfa;function setup(){const _0x4157dc=_0x4fc365;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData['length'],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x4157dc(0x15d)),elements[_0x4157dc(0x181)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x4157dc(0x1dd)),elements[_0x4157dc(0x181)](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x4157dc(0x14e)),elements['push'](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x4157dc(0x20f)),elements[_0x4157dc(0x181)](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,'Ub\x20='),elements[_0x4157dc(0x181)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x4157dc(0x1f3)),elements[_0x4157dc(0x181)](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x5667e2=_0x4fc365;let _0x97c2f3={'SA2':null,'E2':null};paletteElementsData[_0x5667e2(0x1b3)](_0x42037d=>{const _0x48f0aa=_0x5667e2;let _0x858469=createPaletteElementInstance(_0x42037d[_0x48f0aa(0x1ce)],_0x42037d['label'],_0x42037d[_0x48f0aa(0x18b)],_0x42037d[_0x48f0aa(0x199)],_0x42037d[_0x48f0aa(0x146)],_0x42037d);_0x858469['label']==='Rk'&&(_0x858469['resistance']='20'),elements[_0x48f0aa(0x181)](_0x858469),_0x42037d[_0x48f0aa(0x140)]=!![],_0x42037d[_0x48f0aa(0x195)]=!![],_0x858469[_0x48f0aa(0x150)][_0x48f0aa(0x140)]=!![],_0x858469[_0x48f0aa(0x150)][_0x48f0aa(0x195)]=!![];}),paletteElementsData=[];const _0x9ca2c5=document[_0x5667e2(0x163)](_0x5667e2(0x196));_0x9ca2c5[_0x5667e2(0x149)]='',createPalette();}function createPalette(){const _0x4539c4=_0x4fc365,_0x419b51=document[_0x4539c4(0x163)](_0x4539c4(0x196));paletteElementsData[_0x4539c4(0x1b3)]((_0x369e3b,_0x30923c)=>{const _0x51f925=_0x4539c4,_0x4b51d8=document['createElement'](_0x51f925(0x17d));_0x4b51d8[_0x51f925(0x1e1)][_0x51f925(0x18a)]('palette-element');let _0x547e3a=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x547e3a['clear'](),_0x547e3a[_0x51f925(0x181)](),_0x547e3a[_0x51f925(0x1d7)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x25078c=createPaletteElementInstance(_0x369e3b[_0x51f925(0x1ce)],_0x369e3b[_0x51f925(0x1fa)],_0x369e3b['orientation'],0x0,0x0,_0x369e3b);_0x25078c['orientation']=_0x369e3b['orientation'],_0x25078c[_0x51f925(0x1b9)](_0x547e3a),_0x547e3a['pop']();const _0x4646ae=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x4646ae[_0x51f925(0x207)](_0x547e3a,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x4b51d8['appendChild'](_0x4646ae[_0x51f925(0x1fe)]),_0x4b51d8[_0x51f925(0x14a)][_0x51f925(0x171)]=_0x369e3b[_0x51f925(0x1ce)],_0x4b51d8[_0x51f925(0x14a)][_0x51f925(0x203)]=_0x369e3b[_0x51f925(0x1fa)],_0x4b51d8[_0x51f925(0x14a)][_0x51f925(0x1c6)]=_0x369e3b[_0x51f925(0x18b)],_0x4b51d8[_0x51f925(0x14a)][_0x51f925(0x1da)]=_0x30923c,_0x4b51d8[_0x51f925(0x1fc)](_0x51f925(0x1c4),paletteElementClick),_0x419b51[_0x51f925(0x1fd)](_0x4b51d8);});}function draw(){const _0x298fba=_0x4fc365;background(0xf0),strokeWeight(0x1);const _0x22769f=0x2bc*SCALE_FACTOR,_0x4404ab=0x1c2*SCALE_FACTOR,_0x162309=0x32*SCALE_FACTOR;stroke(_0x298fba(0x193));function _0x51612d(_0x57d43b,_0x42102b,_0x101e3c,_0x1c906c){line(_0x57d43b,_0x42102b,_0x101e3c,_0x1c906c);}for(let _0x1c02db=0x0;_0x1c02db<=_0x4404ab;_0x1c02db+=_0x162309){_0x51612d(0x0,_0x1c02db,_0x22769f,_0x1c02db);}for(let _0x28d0ac=0x0;_0x28d0ac<=_0x22769f;_0x28d0ac+=_0x162309){_0x51612d(_0x28d0ac,0x0,_0x28d0ac,_0x4404ab);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x51612d(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x51612d(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x51612d(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x51612d(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x6eedbb=0x64;circle(0x1c*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x51612d(0x1e*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x5a*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0xaa*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x192*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x1d6*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x6eedbb=0xc8,circle(0x1c*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x51612d(0x1e*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x5a*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0xaa*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x192*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x1d6*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x6eedbb=0x12c,circle(0x1c*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x51612d(0x1e*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x5a*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0xaa*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0xc6*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x192*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),_0x51612d(0x1d6*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x6eedbb*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x51612d(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x51612d(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x51612d(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x51612d(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x51612d(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x51612d(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0x371f53 of elements){typeof _0x371f53[_0x298fba(0x1cf)]==='function'&&_0x371f53[_0x298fba(0x1cf)](),_0x371f53[_0x298fba(0x182)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x298fba(0x182)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){if(!warningMessageText)return;push();let _0x3a7183=0x1e*SCALE_FACTOR,_0x7e66df=height-0x32*SCALE_FACTOR-_0x3a7183-0xa*SCALE_FACTOR,_0x241f1f=0x96*SCALE_FACTOR,_0x3b6028=0xc8*SCALE_FACTOR;rectMode(CORNER);if(isBlinkingWarning){let _0x5c6ed5=millis();_0x5c6ed5-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x5c6ed5),blinkState&&(fill(0xff,0xb4,0xb4),stroke(0xc8,0x0,0x0),strokeWeight(1.5*SCALE_FACTOR),rect(_0x241f1f,_0x7e66df,_0x3b6028,_0x3a7183,0x5*SCALE_FACTOR),noStroke(),fill(0xc8,0x0,0x0),textAlign(CENTER,CENTER),textSize(0xd*SCALE_FACTOR),textStyle(BOLD),text(warningMessageText,_0x241f1f+_0x3b6028/0x2,_0x7e66df+_0x3a7183/0x2),textStyle(NORMAL));}else fill(0xff,0xff,0xd2),stroke(0xb4,0xb4,0x0),strokeWeight(0x1*SCALE_FACTOR),rect(_0x241f1f,_0x7e66df,_0x3b6028,_0x3a7183,0x5*SCALE_FACTOR),noStroke(),fill(0x32,0x32,0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(warningMessageText,_0x241f1f+_0x3b6028/0x2,_0x7e66df+_0x3a7183/0x2);pop();}function drawMessageBox(){const _0x58a312=_0x4fc365;messageBox[_0x58a312(0x1e1)][_0x58a312(0x141)]('show')&&(push(),fill('lightgreen'),stroke(_0x58a312(0x200)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0x58a312(0x1c5)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x29dbc1=_0x4fc365;push(),fill(_0x29dbc1(0x1cd)),stroke(_0x29dbc1(0x1c8)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x29dbc1(0x1c5)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x382ca0=_0x4fc365;push(),fill(_0x382ca0(0x191)),stroke(_0x382ca0(0x16e)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox['textContent'],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x29a014=_0x4fc365;if(isCalculateButtonVisible){push(),fill(_0x29a014(0x1b2)),noStroke(),rectMode(CORNER);let _0x4cc5c4=0x96*SCALE_FACTOR,_0x64d1e0=height-0x32*SCALE_FACTOR,_0x122d2d=0xc8*SCALE_FACTOR,_0x240bdb=0x32*SCALE_FACTOR;rect(_0x4cc5c4,_0x64d1e0,_0x122d2d,_0x240bdb,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x29a014(0x20c),_0x4cc5c4+_0x122d2d/0x2,_0x64d1e0+_0x240bdb/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x12e2a0=_0x4fc365,_0x55aeec=findElementByLabel(_0x12e2a0(0x19a)),_0xe3b8da=findElementByLabel(_0x12e2a0(0x145)),_0x1ff8a9=findElementByLabel('SA12'),_0xa6fafc=findElementByLabel(_0x12e2a0(0x179));if(!_0x55aeec||!_0xe3b8da||!_0x1ff8a9||!_0xa6fafc)return;if(!(_0x55aeec instanceof Switch)||!(_0xe3b8da instanceof Switch)||!(_0x1ff8a9 instanceof Switch)||!(_0xa6fafc instanceof GroupLamp))return;const _0x44c8cd=_0x55aeec[_0x12e2a0(0x177)],_0xe1d6f2=_0xe3b8da[_0x12e2a0(0x177)],_0x4552c4=_0x1ff8a9[_0x12e2a0(0x177)],_0x599ebb=!_0x44c8cd&&!_0xe1d6f2&&_0x4552c4;if(_0xa6fafc[_0x12e2a0(0x1c1)]!==_0x599ebb)_0xa6fafc['setEnabled'](_0x599ebb);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x582039=_0x4fc365,_0x375435=findElementByLabel(_0x582039(0x20b)),_0x37ca32=findElementByLabel('SA21'),_0x5f26e7=findElementByLabel(_0x582039(0x1f2));if(!_0x375435||!_0x37ca32||!_0x5f26e7)return;if(!(_0x375435 instanceof Switch)||!(_0x37ca32 instanceof Switch)||!(_0x5f26e7 instanceof GroupLamp))return;const _0x400742=_0x375435[_0x582039(0x177)],_0x7b757d=_0x37ca32['isOpen'],_0x4e476a=!_0x400742&&!_0x7b757d;if(_0x5f26e7['isEnabled']!==_0x4e476a)_0x5f26e7[_0x582039(0x19f)](_0x4e476a);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x539427=_0x4fc365,_0x1cc04b=findElementByLabel(_0x539427(0x174)),_0x51d059=findElementByLabel(_0x539427(0x17c)),_0x8a6998=findElementByLabel(_0x539427(0x16a));if(!_0x1cc04b||!_0x51d059||!_0x8a6998)return;if(!(_0x1cc04b instanceof Switch)||!(_0x51d059 instanceof Switch)||!(_0x8a6998 instanceof GroupLamp))return;const _0x4d869b=_0x1cc04b[_0x539427(0x177)],_0x43f342=_0x51d059[_0x539427(0x177)],_0x3e73a4=!_0x4d869b&&!_0x43f342;if(_0x8a6998[_0x539427(0x1c1)]!==_0x3e73a4)_0x8a6998[_0x539427(0x19f)](_0x3e73a4);else;}function drawVisibilityToggleButton(){const _0x36ba3b=_0x4fc365;push();const _0x3afaba=0x226*SCALE_FACTOR,_0x2200a5=0x55*SCALE_FACTOR,_0x147ad6=0x64*SCALE_FACTOR,_0x37f2fa=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x3afaba,_0x2200a5,_0x147ad6,_0x37f2fa,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x7077e=isC1CurrentlyVisible?_0x36ba3b(0x162):_0x36ba3b(0x1a1);text(_0x7077e,_0x3afaba+_0x147ad6/0x2,_0x2200a5+_0x37f2fa/0x2),pop();}function paletteElementClick(_0x5d63b6){const _0x1b75d7=_0x4fc365,_0x4b15db=_0x5d63b6['currentTarget'];if(!_0x4b15db){console[_0x1b75d7(0x19c)]('paletteElement\x20is\x20null\x20in\x20paletteElementClick!');return;}const _0x3b3f6e=_0x4b15db[_0x1b75d7(0x14a)][_0x1b75d7(0x171)],_0x4548c2=_0x4b15db[_0x1b75d7(0x14a)][_0x1b75d7(0x203)],_0x1eece0=_0x4b15db['dataset'][_0x1b75d7(0x1c6)],_0xade12b=parseInt(_0x4b15db[_0x1b75d7(0x14a)][_0x1b75d7(0x1da)]);if(!_0x3b3f6e||!_0x4548c2||!_0x1eece0||isNaN(_0xade12b)){console[_0x1b75d7(0x19c)]('Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!',_0x4b15db[_0x1b75d7(0x14a)]);return;}canvasElementInstance=createPaletteElementInstance(_0x3b3f6e,_0x4548c2,_0x1eece0,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0xade12b]),paletteElementsData['splice'](_0xade12b,0x1);const _0x335735=document[_0x1b75d7(0x163)](_0x1b75d7(0x196));_0x335735[_0x1b75d7(0x149)]='',createPalette();}function createPaletteElementInstance(_0x196756,_0x6b057a,_0x55e8dc,_0x30cd54,_0xe8f5ec,_0x26f3d3){const _0x30ceac=_0x4fc365;let _0x77a103;const _0x53f601=_0x26f3d3?.['powerPerLamp'];switch(_0x196756){case _0x30ceac(0x1cb):_0x77a103=new AutotransformerLaboratory(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case _0x30ceac(0x169):_0x77a103=new Resistor(_0x30cd54,_0xe8f5ec,_0x6b057a);_0x6b057a==='Rk'&&(_0x77a103[_0x30ceac(0x1b4)]='20');break;case _0x30ceac(0x18d):_0x77a103=new SwitchSPDT(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case _0x30ceac(0x1a7):_0x77a103=new Switch(_0x30cd54,_0xe8f5ec,_0x6b057a);(_0x6b057a==='SA1'||_0x6b057a==='SA11'||_0x6b057a===_0x30ceac(0x20b)||_0x6b057a===_0x30ceac(0x1ca)||_0x6b057a===_0x30ceac(0x174)||_0x6b057a==='SA31'||_0x6b057a==='SA4')&&(_0x77a103[_0x30ceac(0x177)]=![]);break;case'CustomAmmeter':_0x77a103=new CustomAmmeter(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case'Phasemeter':_0x77a103=new Phasemeter(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case _0x30ceac(0x1db):_0x77a103=new Node(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case _0x30ceac(0x1ae):_0x77a103=new Induction(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case'Capacity':_0x77a103=new Capacity(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case'Frequency':_0x77a103=new Frequency(_0x30cd54,_0xe8f5ec,_0x6b057a);break;case _0x30ceac(0x20d):_0x77a103=new GroupLamp(_0x30cd54,_0xe8f5ec,_0x6b057a,_0x53f601);break;default:return null;}return _0x77a103[_0x30ceac(0x18b)]=parseInt(_0x55e8dc),_0x77a103[_0x30ceac(0x150)]=_0x26f3d3,_0x77a103;}function generateNewData(){const _0x3fcdba=_0x4fc365,_0x141583=[];for(let _0x2126b0=0x5;_0x2126b0<=0x32;_0x2126b0+=0x5){_0x141583[_0x3fcdba(0x181)](_0x2126b0);}const _0x5b579d=[];for(let _0x41d642=0x78;_0x41d642<=0x9b;_0x41d642+=0x5){_0x5b579d[_0x3fcdba(0x181)](_0x41d642);}let _0x2c3456=_0x141583[Math[_0x3fcdba(0x1b6)](Math['random']()*_0x141583[_0x3fcdba(0x172)])],_0x5ac4cf=_0x5b579d[Math[_0x3fcdba(0x1b6)](Math['random']()*_0x5b579d[_0x3fcdba(0x172)])],_0x55a29d={'C1':findElementByLabel('C1')};_0x55a29d['C1'][_0x3fcdba(0x1d9)]=String(_0x2c3456),U_phase_mag=String(_0x5ac4cf),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x3031aa=_0x4fc365,_0x52a24c=0x226*SCALE_FACTOR,_0x312541=0x55*SCALE_FACTOR,_0x2439cf=0x64*SCALE_FACTOR,_0x5d3e3a=0x3c*SCALE_FACTOR;if(mouseX>_0x52a24c&&mouseX<_0x52a24c+_0x2439cf&&mouseY>_0x312541&&mouseY<_0x312541+_0x5d3e3a){if(isTogglingVisibility)return;isTogglingVisibility=!![],isC1CurrentlyVisible=!isC1CurrentlyVisible;const _0x380a70=findElementByLabel('C1'),_0x48685d=findElementByLabel(_0x3031aa(0x179));_0x380a70 instanceof Capacity&&_0x48685d instanceof GroupLamp?(_0x380a70['setVisibility'](isC1CurrentlyVisible),_0x48685d[_0x3031aa(0x17b)](!isC1CurrentlyVisible),_0x48685d[_0x3031aa(0x15c)](),calculateCircuit()):console[_0x3031aa(0x19c)]('Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.');redraw(),clearTimeout(visibilityToggleTimer),visibilityToggleTimer=setTimeout(()=>{isTogglingVisibility=![];},VISIBILITY_TOGGLE_DELAY);return;}if(isCalculateButtonVisible){let _0x54cb8e=0x96*SCALE_FACTOR,_0x38dd4c=height-0x32*SCALE_FACTOR,_0x156922=0xc8*SCALE_FACTOR,_0x4f3877=0x32*SCALE_FACTOR;if(mouseX>_0x54cb8e&&mouseX<_0x54cb8e+_0x156922&&mouseY>_0x38dd4c&&mouseY<_0x38dd4c+_0x4f3877){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x18881b=null,_0x235647=-0x1;for(let _0x1c81a4=elements[_0x3031aa(0x172)]-0x1;_0x1c81a4>=0x0;_0x1c81a4--){let _0x50b0db=elements[_0x1c81a4];if(_0x50b0db instanceof GroupLamp&&!_0x50b0db[_0x3031aa(0x14f)]||_0x50b0db instanceof Capacity&&!_0x50b0db[_0x3031aa(0x14f)])continue;if(_0x50b0db instanceof GroupLamp){_0x235647=_0x50b0db[_0x3031aa(0x194)](mouseX,mouseY);if(_0x235647!==-0x1){_0x18881b=_0x50b0db;break;}}}if(_0x18881b===null)for(let _0x53d6ec=elements[_0x3031aa(0x172)]-0x1;_0x53d6ec>=0x0;_0x53d6ec--){let _0x115032=elements[_0x53d6ec];if(_0x115032 instanceof GroupLamp&&!_0x115032['isVisible']||_0x115032 instanceof Capacity&&!_0x115032[_0x3031aa(0x14f)])continue;if(_0x115032 instanceof Node||_0x115032 instanceof StaticTextDisplay)continue;let _0x524820=![];if(typeof _0x115032['r']!=='undefined'&&!(_0x115032 instanceof GroupLamp))dist(mouseX,mouseY,_0x115032['x'],_0x115032['y'])<_0x115032['r']&&(_0x524820=!![]);else{if(typeof _0x115032['w']!==_0x3031aa(0x1ac)&&typeof _0x115032['h']!==_0x3031aa(0x1ac)){push(),translate(_0x115032['x'],_0x115032['y']);let _0x4e40b4=0x0;switch(_0x115032['orientation']){case 0x2:_0x4e40b4=PI/0x2;break;case 0x3:_0x4e40b4=PI;break;case 0x4:_0x4e40b4=0x3*PI/0x2;break;}let _0x5036db=mouseX-_0x115032['x'],_0x4a353a=mouseY-_0x115032['y'],_0x3e9a82=_0x5036db*cos(-_0x4e40b4)-_0x4a353a*sin(-_0x4e40b4),_0x1b3a63=_0x5036db*sin(-_0x4e40b4)+_0x4a353a*cos(-_0x4e40b4);abs(_0x3e9a82)<_0x115032['w']/0x2&&abs(_0x1b3a63)<_0x115032['h']/0x2&&(_0x524820=!![]),pop();}}if(_0x524820){_0x18881b=_0x115032;break;}}if(_0x18881b){let _0x386207=millis(),_0x332cbd=_0x386207-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0x1143d7=_0x18881b[_0x3031aa(0x150)]&&_0x18881b['placedElementData'][_0x3031aa(0x195)],_0x5057bb=![],_0x1ff421=![];if(_0x18881b instanceof GroupLamp&&_0x235647!==-0x1)_0x18881b[_0x3031aa(0x1b0)](_0x235647),_0x5057bb=!![],_0x1ff421=!![];else{if(_0x332cbd){_0x5057bb=!![],_0x1ff421=!![];if(_0x18881b instanceof SwitchSPDT||_0x18881b instanceof Switch)_0x18881b[_0x3031aa(0x1b0)]();else{if(_0x18881b instanceof Resistor&&KirgofTest){let _0x21b21c=prompt(_0x3031aa(0x1f5)+_0x18881b[_0x3031aa(0x1fa)]+':',_0x18881b[_0x3031aa(0x1b4)]||_0x3031aa(0x152));_0x21b21c!==null&&!isNaN(parseFloat(_0x21b21c))&&(_0x18881b[_0x3031aa(0x1b4)]=_0x21b21c,calculateCircuit());}else{if(_0x18881b instanceof AutotransformerLaboratory&&KirgofTest){let _0x2cd46b=prompt(_0x3031aa(0x151)+_0x18881b[_0x3031aa(0x1fa)]+':',_0x18881b[_0x3031aa(0x1d5)]||'50');_0x2cd46b!==null&&!isNaN(parseFloat(_0x2cd46b))&&(_0x18881b[_0x3031aa(0x1d5)]=_0x2cd46b,calculateCircuit());}else{if(_0x18881b instanceof Induction&&KirgofTest){let _0x6ff11=prompt('Введіть\x20індуктивність\x20для\x20'+_0x18881b['label']+':',_0x18881b[_0x3031aa(0x167)]||'5');_0x6ff11!==null&&!isNaN(parseFloat(_0x6ff11))&&(_0x18881b[_0x3031aa(0x167)]=_0x6ff11,calculateCircuit());}else{if(_0x18881b instanceof Capacity){if(_0x18881b['isVisible']){let _0x6385e9=prompt(_0x3031aa(0x1af)+_0x18881b[_0x3031aa(0x1fa)]+':',_0x18881b[_0x3031aa(0x1d9)]||'10');_0x6385e9!==null&&!isNaN(parseFloat(_0x6385e9))&&(_0x18881b[_0x3031aa(0x1d9)]=_0x6385e9,calculateCircuit());}}else{if(_0x18881b instanceof Frequency&&KirgofTest){let _0x33911c=prompt(_0x3031aa(0x198)+_0x18881b[_0x3031aa(0x1fa)]+':',_0x18881b['frequency']||'50');_0x33911c!==null&&!isNaN(parseFloat(_0x33911c))&&(_0x18881b[_0x3031aa(0x1ba)]=_0x33911c,calculateCircuit());}}}}}}}}_0x1143d7&&(_0x1ff421=!![]),!_0x1ff421&&(draggedElement=_0x18881b,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x386207;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x3031aa(0x181)](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else{draggedElement=null;if(canvasElementInstance){const _0x138ba8=canvasElementInstance[_0x3031aa(0x150)];if(_0x138ba8){}canvasElementInstance=null,redraw();}}}function mouseDragged(){const _0x2c6e0b=_0x4fc365;let _0x2d22cb=canvasElementInstance||draggedElement;if(_0x2d22cb){dragOffsetX=0x0,dragOffsetY=0x0;let _0x5a2c8a=mouseX-dragOffsetX,_0x37c09f=mouseY-dragOffsetY,_0x4712fb=0x1e*SCALE_FACTOR,_0x1871ab=_0x4712fb,_0x4954d4=_0x4712fb,_0x174f60=width-_0x4712fb,_0x5017d3=height-_0x4712fb;_0x2d22cb['x']=constrain(_0x5a2c8a,_0x1871ab,_0x174f60),_0x2d22cb['y']=constrain(_0x37c09f,_0x4954d4,_0x5017d3);if(_0x2d22cb[_0x2c6e0b(0x150)]){let _0x15c4ba=dist(_0x2d22cb['x'],_0x2d22cb['y'],_0x2d22cb[_0x2c6e0b(0x150)][_0x2c6e0b(0x199)],_0x2d22cb[_0x2c6e0b(0x150)][_0x2c6e0b(0x146)]),_0x48425b=Math['max'](0x0,Math['round'](_0x15c4ba-SNAP_DISTANCE));distanceBox[_0x2c6e0b(0x1c5)]='Відстань\x20до\x20точки:\x20'+_0x48425b+_0x2c6e0b(0x18f);}else distanceBox['textContent']='Цільова\x20точка\x20не\x20знайдена';}}function mouseReleased(){const _0x4a0202=_0x4fc365;let _0x506898=null,_0x350214;if(canvasElementInstance)elements[_0x4a0202(0x181)](canvasElementInstance),_0x506898=canvasElementInstance[_0x4a0202(0x150)],_0x506898&&(_0x350214=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x506898['targetX'],_0x506898[_0x4a0202(0x146)]),_0x350214<=SNAP_DISTANCE&&!_0x506898['placed']&&(canvasElementInstance['x']=_0x506898[_0x4a0202(0x199)],canvasElementInstance['y']=_0x506898[_0x4a0202(0x146)],_0x506898['placed']=!![],elementsPlacedCount++,_0x506898[_0x4a0202(0x195)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x506898=draggedElement['placedElementData'],_0x350214=_0x506898?dist(draggedElement['x'],draggedElement['y'],_0x506898[_0x4a0202(0x199)],_0x506898['targetY']):undefined;if(_0x506898){if(_0x350214<=SNAP_DISTANCE&&!_0x506898[_0x4a0202(0x140)])!_0x506898[_0x4a0202(0x140)]&&(draggedElement['x']=_0x506898[_0x4a0202(0x199)],draggedElement['y']=_0x506898[_0x4a0202(0x146)],_0x506898[_0x4a0202(0x140)]=!![],elementsPlacedCount++,_0x506898[_0x4a0202(0x195)]=!![]);else _0x506898[_0x4a0202(0x140)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x506898[_0x4a0202(0x140)]=![],elementsPlacedCount--,_0x506898[_0x4a0202(0x195)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox['textContent']='',redraw();}function updateCounterDisplay(){const _0x89fe80=_0x4fc365;counterBox[_0x89fe80(0x1c5)]='Потрібно\x20поставити\x20елементів:\x20'+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox[_0x89fe80(0x1c5)]=_0x89fe80(0x14c),isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x2eea4e=findElementByLabel('C1'),_0x1618a3=findElementByLabel('HLG1');_0x2eea4e instanceof Capacity&&_0x1618a3 instanceof GroupLamp&&(_0x2eea4e[_0x89fe80(0x17b)](isC1CurrentlyVisible),_0x1618a3[_0x89fe80(0x17b)](!isC1CurrentlyVisible),_0x1618a3[_0x89fe80(0x15c)]()),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x3b77d5=findElementByLabel('HLG1');_0x3b77d5 instanceof GroupLamp&&_0x3b77d5[_0x89fe80(0x19f)](![]);const _0xfa3e4=findElementByLabel('C1');if(_0xfa3e4 instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x189526=_0x4fc365;messageBox[_0x189526(0x1c5)]=_0x189526(0x208),messageBox[_0x189526(0x1e1)][_0x189526(0x18a)]('show'),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x96ea2b=_0x189526;messageBox[_0x96ea2b(0x1e1)][_0x96ea2b(0x188)](_0x96ea2b(0x1b1));},0x7d0);}function polarToRect(_0x26792f,_0x189633){const _0x542bad=_0x4fc365,_0x309283=_0x189633*Math['PI']/0xb4;return{'re':_0x26792f*Math[_0x542bad(0x20e)](_0x309283),'im':_0x26792f*Math[_0x542bad(0x1f4)](_0x309283)};}function rectToPolar(_0x24c1a5,_0x1c75e1){const _0x523770=_0x4fc365,_0x1480f6=Math[_0x523770(0x1bd)](_0x24c1a5*_0x24c1a5+_0x1c75e1*_0x1c75e1);let _0x36aaff=Math['atan2'](_0x1c75e1,_0x24c1a5),_0x5727be=_0x36aaff*0xb4/Math['PI'];return{'mag':_0x1480f6,'ang':_0x5727be};}function addPhasors(_0x200cf5,_0x41f8f7){return{'re':_0x200cf5['re']+_0x41f8f7['re'],'im':_0x200cf5['im']+_0x41f8f7['im']};}function subtractPhasors(_0x2f0dd3,_0x2bdb95){return{'re':_0x2f0dd3['re']-_0x2bdb95['re'],'im':_0x2f0dd3['im']-_0x2bdb95['im']};}function multiplyPhasors(_0x190769,_0x45bf6d){return{'re':_0x190769['re']*_0x45bf6d['re']-_0x190769['im']*_0x45bf6d['im'],'im':_0x190769['re']*_0x45bf6d['im']+_0x190769['im']*_0x45bf6d['re']};}function _0x47b9(_0x35d385,_0x262fd9){const _0x3cbb39=_0x3cbb();return _0x47b9=function(_0x47b966,_0x37206c){_0x47b966=_0x47b966-0x140;let _0x1c91bf=_0x3cbb39[_0x47b966];return _0x1c91bf;},_0x47b9(_0x35d385,_0x262fd9);}function dividePhasors(_0xdf63bd,_0x457412){const _0x258ab9=_0x457412['re']*_0x457412['re']+_0x457412['im']*_0x457412['im'];if(Math['abs'](_0x258ab9)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0xdf63bd['re']*_0x457412['re']+_0xdf63bd['im']*_0x457412['im'])/_0x258ab9,'im':(_0xdf63bd['im']*_0x457412['re']-_0xdf63bd['re']*_0x457412['im'])/_0x258ab9};}function invertPhasorRect(_0x86cc17){const _0x48fe60=_0x4fc365,_0x378036=_0x86cc17['re']*_0x86cc17['re']+_0x86cc17['im']*_0x86cc17['im'];if(Math[_0x48fe60(0x1d4)](_0x378036)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0x86cc17['re']/_0x378036,'im':-_0x86cc17['im']/_0x378036};}function calculateCircuit(){const _0x39fc4f=_0x4fc365;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();const _0x1c1933=findElementByLabel('Uab\x20='),_0x41fca6=findElementByLabel(_0x39fc4f(0x1dd)),_0x22d2ce=findElementByLabel(_0x39fc4f(0x14e)),_0x250ae8=findElementByLabel(_0x39fc4f(0x20f)),_0x9bd234=findElementByLabel(_0x39fc4f(0x1f6)),_0x2b1d54=findElementByLabel(_0x39fc4f(0x1f3));if(_0x1c1933)_0x1c1933[_0x39fc4f(0x20a)](_0x39fc4f(0x19b));if(_0x41fca6)_0x41fca6[_0x39fc4f(0x20a)]('Ubc\x20=\x200.0\x20V');if(_0x22d2ce)_0x22d2ce[_0x39fc4f(0x20a)]('Uca\x20=\x200.0\x20V');if(_0x250ae8)_0x250ae8[_0x39fc4f(0x20a)](_0x39fc4f(0x164));if(_0x9bd234)_0x9bd234['setText']('Ub\x20=\x200.0\x20V');if(_0x2b1d54)_0x2b1d54['setText'](_0x39fc4f(0x173));const _0x292a45=findElementByLabel(_0x39fc4f(0x154)),_0x421a16=findElementByLabel(_0x39fc4f(0x1d8)),_0x4112d6=findElementByLabel('PA3'),_0x4f674b=findElementByLabel('PA4');if(_0x292a45)displayCalculationValue(_0x292a45,null,_0x39fc4f(0x17a));if(_0x421a16)displayCalculationValue(_0x421a16,null,_0x39fc4f(0x17a));if(_0x4112d6)displayCalculationValue(_0x4112d6,null,'bottom');if(_0x4f674b)displayCalculationValue(_0x4f674b,null,_0x39fc4f(0x17a));return;}const _0x486486=0xe6,_0x211f4c=0x32,_0x38e5c7=0x2*Math['PI']*_0x211f4c,_0x2990f9=0xe6,_0xe5d1c9=parseFloat(U_phase_mag)||_0x2990f9/Math['sqrt'](0x3),_0x160a9e={'mag':_0xe5d1c9,'ang':0x0},_0x38bf5e={'mag':_0xe5d1c9,'ang':-0x78},_0x20a839={'mag':_0xe5d1c9,'ang':0x78},_0x5bbb76=polarToRect(_0x160a9e[_0x39fc4f(0x1ab)],_0x160a9e['ang']),_0x163d39=polarToRect(_0x38bf5e['mag'],_0x38bf5e[_0x39fc4f(0x1bc)]),_0x3100ac=polarToRect(_0x20a839[_0x39fc4f(0x1ab)],_0x20a839[_0x39fc4f(0x1bc)]),_0x567476=findElementByLabel(_0x39fc4f(0x179)),_0x13521e=findElementByLabel(_0x39fc4f(0x1f2)),_0x5e9c86=findElementByLabel('HLG3'),_0x54a0aa=findElementByLabel('C1'),_0x5a6361=findElementByLabel('SA1'),_0x8ac860=findElementByLabel(_0x39fc4f(0x20b)),_0x30cbab=findElementByLabel(_0x39fc4f(0x174)),_0x4e9e4c=findElementByLabel('SA11'),_0x2181d1=findElementByLabel(_0x39fc4f(0x1ff)),_0x146941=findElementByLabel(_0x39fc4f(0x1ca)),_0x3e672b=findElementByLabel(_0x39fc4f(0x17c)),_0x379c9d=findElementByLabel(_0x39fc4f(0x142)),_0x3d90a8=findElementByLabel(_0x39fc4f(0x154)),_0x5db080=findElementByLabel(_0x39fc4f(0x1d8)),_0x39abd0=findElementByLabel('PA3'),_0x3de258=findElementByLabel(_0x39fc4f(0x1a0)),_0x10b69d=findElementByLabel(_0x39fc4f(0x15d)),_0x21ec3c=findElementByLabel('Ubc\x20='),_0x2a69cf=findElementByLabel('Uca\x20='),_0x1d90cf=findElementByLabel(_0x39fc4f(0x20f)),_0x3c0a50=findElementByLabel('Ub\x20='),_0x52d6f6=findElementByLabel(_0x39fc4f(0x1f3));if(!_0x567476||!_0x13521e||!_0x5e9c86||!_0x54a0aa||!_0x5a6361||!_0x8ac860||!_0x30cbab||!_0x4e9e4c||!_0x2181d1||!_0x146941||!_0x3e672b||!_0x379c9d||!_0x3d90a8||!_0x5db080||!_0x39abd0||!_0x3de258||!_0x10b69d||!_0x21ec3c||!_0x2a69cf||!_0x1d90cf||!_0x3c0a50||!_0x52d6f6){console[_0x39fc4f(0x19c)](_0x39fc4f(0x197)),warningMessageText=_0x39fc4f(0x166),isBlinkingWarning=!![],hideCalculationValues();if(_0x10b69d)_0x10b69d[_0x39fc4f(0x20a)](_0x39fc4f(0x1ad));if(_0x21ec3c)_0x21ec3c[_0x39fc4f(0x20a)]('Ubc\x20=\x20Error');if(_0x2a69cf)_0x2a69cf[_0x39fc4f(0x20a)](_0x39fc4f(0x1f1));if(_0x1d90cf)_0x1d90cf[_0x39fc4f(0x20a)](_0x39fc4f(0x158));if(_0x3c0a50)_0x3c0a50[_0x39fc4f(0x20a)]('Ub\x20=\x20Error');if(_0x52d6f6)_0x52d6f6['setText']('Uc\x20=\x20Error');if(_0x3d90a8)displayCalculationValue(_0x3d90a8,'Ia\x20=\x20Error','bottom');if(_0x5db080)displayCalculationValue(_0x5db080,'Ib\x20=\x20Error','bottom');if(_0x39abd0)displayCalculationValue(_0x39abd0,_0x39fc4f(0x18c),'bottom');if(_0x3de258)displayCalculationValue(_0x3de258,_0x39fc4f(0x168),'bottom');return;}hideCalculationValues();let _0xdceab0={'re':Infinity,'im':0x0},_0x279cda={'re':Infinity,'im':0x0},_0x5f4630={'re':Infinity,'im':0x0};const _0x5c54dd=0.01,_0x1cb8dd=_0x1fd6dd=>{const _0x164d92=_0x39fc4f;if(!_0x1fd6dd||!_0x1fd6dd[_0x164d92(0x14f)]||!_0x1fd6dd['isEnabled'])return Infinity;const _0x3fe27d=_0x1fd6dd[_0x164d92(0x201)];if(_0x3fe27d<=0x0)return Infinity;let _0x2604df=0x0;for(const _0x2e07f9 of _0x1fd6dd[_0x164d92(0x1ed)]){if(_0x2e07f9['isActive'])_0x2604df++;}if(_0x2604df===0x0)return Infinity;const _0x5a8bb3=_0x486486*_0x486486/_0x3fe27d;return _0x5a8bb3/_0x2604df;},_0x37249b=!_0x4e9e4c['isOpen'],_0x1cef73=!_0x146941['isOpen'],_0x416f80=!_0x3e672b[_0x39fc4f(0x177)],_0x406197=!_0x2181d1['isOpen'];if(_0x37249b){if(_0x406197)_0xdceab0={'re':_0x5c54dd,'im':0x0},_0x567476[_0x39fc4f(0x1c1)]&&_0x567476[_0x39fc4f(0x19f)](![]);else{const _0x544a79=_0x1cb8dd(_0x567476);if(_0x567476[_0x39fc4f(0x14f)]&&_0x567476['isEnabled']&&_0x544a79!==Infinity)_0xdceab0={'re':_0x544a79,'im':0x0};else{if(_0x54a0aa[_0x39fc4f(0x14f)]){const _0x5cf3ac=parseFloat(_0x54a0aa[_0x39fc4f(0x1d9)])/0xf4240;_0x5cf3ac>0x0&&_0x38e5c7>0x0&&(_0xdceab0={'re':0x0,'im':-0x1/(_0x38e5c7*_0x5cf3ac)});}}!_0x567476[_0x39fc4f(0x1c1)]&&!_0x406197&&updateHlg1StateBasedOnSA1AndSA11();}}else _0x567476[_0x39fc4f(0x1c1)]&&_0x567476[_0x39fc4f(0x19f)](![]);if(_0x1cef73){const _0x5e9069=_0x1cb8dd(_0x13521e);_0x13521e[_0x39fc4f(0x14f)]&&_0x13521e[_0x39fc4f(0x1c1)]&&_0x5e9069!==Infinity&&(_0x279cda={'re':_0x5e9069,'im':0x0});}else _0x13521e[_0x39fc4f(0x1c1)]&&_0x13521e[_0x39fc4f(0x19f)](![]);if(_0x416f80){const _0x4ba2fc=_0x1cb8dd(_0x5e9c86);_0x5e9c86[_0x39fc4f(0x14f)]&&_0x5e9c86[_0x39fc4f(0x1c1)]&&_0x4ba2fc!==Infinity&&(_0x5f4630={'re':_0x4ba2fc,'im':0x0});}else _0x5e9c86[_0x39fc4f(0x1c1)]&&_0x5e9c86[_0x39fc4f(0x19f)](![]);let _0x4a164a={'re':0x0,'im':0x0},_0x43d92e={'re':0x0,'im':0x0},_0x4d2185={'re':0x0,'im':0x0},_0xa6f795={'re':0x0,'im':0x0},_0x5b7dc8={'re':0x0,'im':0x0},_0xb01235={'re':0x0,'im':0x0},_0x2d7d66={'re':0x0,'im':0x0};const _0x774cbd=!_0x5a6361[_0x39fc4f(0x177)],_0xe3492c=!_0x8ac860[_0x39fc4f(0x177)],_0x1b26f7=!_0x30cbab[_0x39fc4f(0x177)],_0x1ff01a=!_0x379c9d[_0x39fc4f(0x177)],_0x40b768=_0xdceab0['re']!==Infinity||_0xdceab0['im']!==0x0?invertPhasorRect(_0xdceab0):{'re':0x0,'im':0x0},_0x3546e7=_0x279cda['re']!==Infinity||_0x279cda['im']!==0x0?invertPhasorRect(_0x279cda):{'re':0x0,'im':0x0},_0x573a99=_0x5f4630['re']!==Infinity||_0x5f4630['im']!==0x0?invertPhasorRect(_0x5f4630):{'re':0x0,'im':0x0};let _0x3d1293={'re':0x0,'im':0x0};if(!_0x1ff01a){const _0xfb5fd7=_0x774cbd?_0x40b768:{'re':0x0,'im':0x0},_0x24f60c=_0xe3492c?_0x3546e7:{'re':0x0,'im':0x0},_0x34401d=_0x1b26f7?_0x573a99:{'re':0x0,'im':0x0},_0x510951=addPhasors(_0xfb5fd7,addPhasors(_0x24f60c,_0x34401d));if(Math['abs'](_0x510951['re'])>1e-9||Math[_0x39fc4f(0x1d4)](_0x510951['im'])>1e-9){const _0x3523c9=multiplyPhasors(_0x774cbd?_0x5bbb76:{'re':0x0,'im':0x0},_0xfb5fd7),_0x5ad81a=multiplyPhasors(_0xe3492c?_0x163d39:{'re':0x0,'im':0x0},_0x24f60c),_0x15a483=multiplyPhasors(_0x1b26f7?_0x3100ac:{'re':0x0,'im':0x0},_0x34401d),_0x5b6d1c=addPhasors(_0x3523c9,addPhasors(_0x5ad81a,_0x15a483));_0x3d1293=dividePhasors(_0x5b6d1c,_0x510951);}}_0x5b7dc8=_0x774cbd?subtractPhasors(_0x5bbb76,_0x3d1293):{'re':0x0,'im':0x0},_0xb01235=_0xe3492c?subtractPhasors(_0x163d39,_0x3d1293):{'re':0x0,'im':0x0},_0x2d7d66=_0x1b26f7?subtractPhasors(_0x3100ac,_0x3d1293):{'re':0x0,'im':0x0},_0x4a164a=_0x774cbd&&(_0xdceab0['re']!==Infinity||_0xdceab0['im']!==0x0)?multiplyPhasors(_0x5b7dc8,_0x40b768):{'re':0x0,'im':0x0},_0x43d92e=_0xe3492c&&(_0x279cda['re']!==Infinity||_0x279cda['im']!==0x0)?multiplyPhasors(_0xb01235,_0x3546e7):{'re':0x0,'im':0x0},_0x4d2185=_0x1b26f7&&(_0x5f4630['re']!==Infinity||_0x5f4630['im']!==0x0)?multiplyPhasors(_0x2d7d66,_0x573a99):{'re':0x0,'im':0x0},_0xa6f795=addPhasors(_0x4a164a,addPhasors(_0x43d92e,_0x4d2185));if(!_0x1ff01a){if(Math[_0x39fc4f(0x1d4)](_0xa6f795['re'])>1e-9||Math[_0x39fc4f(0x1d4)](_0xa6f795['im'])>1e-9){}_0xa6f795={'re':0x0,'im':0x0};}const _0x21e402=_0x774cbd&&_0x37249b&&_0x406197;if(_0x21e402&&_0x1ff01a)warningMessageText=_0x39fc4f(0x178),isBlinkingWarning=!![];else!_0x1ff01a?(warningMessageText='Нейтральний\x20провід\x20відімкнуто!',isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0):(warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0);let _0x2ada12={'re':0x0,'im':0x0},_0xdbcbcf={'re':0x0,'im':0x0},_0x39c324={'re':0x0,'im':0x0};_0x774cbd&&(_0x2ada12=subtractPhasors(_0x5bbb76,_0x3d1293));_0xe3492c&&(_0xdbcbcf=subtractPhasors(_0x163d39,_0x3d1293));_0x1b26f7&&(_0x39c324=subtractPhasors(_0x3100ac,_0x3d1293));const _0x19f867=rectToPolar(_0x2ada12['re'],_0x2ada12['im']),_0x18a47c=rectToPolar(_0xdbcbcf['re'],_0xdbcbcf['im']),_0xd00ccb=rectToPolar(_0x39c324['re'],_0x39c324['im']);let _0x2a5dab={'re':0x0,'im':0x0},_0x837c6b={'re':0x0,'im':0x0},_0x2fcba3={'re':0x0,'im':0x0};_0x2a5dab=subtractPhasors(_0x2ada12,_0xdbcbcf),_0x837c6b=subtractPhasors(_0xdbcbcf,_0x39c324),_0x2fcba3=subtractPhasors(_0x39c324,_0x2ada12);const _0x3a5538=rectToPolar(_0x2a5dab['re'],_0x2a5dab['im']),_0x3abc08=rectToPolar(_0x837c6b['re'],_0x837c6b['im']),_0x24e93d=rectToPolar(_0x2fcba3['re'],_0x2fcba3['im']),_0x40b7fe=rectToPolar(_0x4a164a['re'],_0x4a164a['im']),_0x13e605=rectToPolar(_0x43d92e['re'],_0x43d92e['im']),_0x1c7907=rectToPolar(_0x4d2185['re'],_0x4d2185['im']),_0x3a4aa9=rectToPolar(_0xa6f795['re'],_0xa6f795['im']),_0x4dd276=(_0x385d58,_0x32391c,_0x5f20be=0x1)=>{const _0x4a31ee=_0x39fc4f;if(isNaN(_0x385d58)||!isFinite(_0x385d58))return'---\x20'+_0x32391c;if(Math[_0x4a31ee(0x1d4)](_0x385d58)<0.001)_0x385d58=0x0;if(_0x32391c==='A'){if(Math['abs'](_0x385d58)>0x270f)return _0x4a31ee(0x1d0);_0x5f20be=0x2;}else _0x32391c==='V'&&(_0x5f20be=Math[_0x4a31ee(0x1d4)](_0x385d58)<0xa?0x2:0x1);return _0x385d58[_0x4a31ee(0x1eb)](_0x5f20be)+'\x20'+_0x32391c;};displayCalculationValue(_0x3d90a8,_0x39fc4f(0x202)+_0x4dd276(_0x40b7fe[_0x39fc4f(0x1ab)],'A'),_0x39fc4f(0x17a)),displayCalculationValue(_0x5db080,_0x39fc4f(0x157)+_0x4dd276(_0x13e605[_0x39fc4f(0x1ab)],'A'),_0x39fc4f(0x17a)),displayCalculationValue(_0x39abd0,_0x39fc4f(0x209)+_0x4dd276(_0x1c7907[_0x39fc4f(0x1ab)],'A'),_0x39fc4f(0x17a)),displayCalculationValue(_0x3de258,_0x39fc4f(0x144)+_0x4dd276(_0x3a4aa9[_0x39fc4f(0x1ab)],'A'),_0x39fc4f(0x17a)),_0x10b69d[_0x39fc4f(0x20a)]('Uab\x20=\x20'+_0x4dd276(_0x3a5538['mag'],'V')),_0x21ec3c[_0x39fc4f(0x20a)](_0x39fc4f(0x156)+_0x4dd276(_0x3abc08['mag'],'V')),_0x2a69cf[_0x39fc4f(0x20a)](_0x39fc4f(0x1f7)+_0x4dd276(_0x24e93d[_0x39fc4f(0x1ab)],'V')),_0x1d90cf[_0x39fc4f(0x20a)](_0x39fc4f(0x1f9)+_0x4dd276(_0x19f867['mag'],'V')),_0x3c0a50[_0x39fc4f(0x20a)](_0x39fc4f(0x205)+_0x4dd276(_0x18a47c[_0x39fc4f(0x1ab)],'V')),_0x52d6f6['setText'](_0x39fc4f(0x176)+_0x4dd276(_0xd00ccb[_0x39fc4f(0x1ab)],'V'));if(isBlinkingWarning){let _0x428d31=millis();_0x428d31-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x428d31);}else blinkState=!![];}function findElementByLabel(_0x24963d){const _0xcfc6c2=_0x4fc365;for(const _0x2cd78e of elements){if(_0x2cd78e[_0xcfc6c2(0x1fa)]===_0x24963d)return _0x2cd78e;}if(_0x24963d==='Uab\x20=')return elements[_0xcfc6c2(0x204)](_0x45e096=>_0x45e096 instanceof StaticTextDisplay&&_0x45e096[_0xcfc6c2(0x1e8)][_0xcfc6c2(0x1ea)](_0xcfc6c2(0x15d)));if(_0x24963d==='Ubc\x20=')return elements[_0xcfc6c2(0x204)](_0x4c8e4b=>_0x4c8e4b instanceof StaticTextDisplay&&_0x4c8e4b['text'][_0xcfc6c2(0x1ea)]('Ubc\x20='));if(_0x24963d===_0xcfc6c2(0x14e))return elements[_0xcfc6c2(0x204)](_0x533867=>_0x533867 instanceof StaticTextDisplay&&_0x533867[_0xcfc6c2(0x1e8)][_0xcfc6c2(0x1ea)](_0xcfc6c2(0x14e)));if(_0x24963d===_0xcfc6c2(0x20f))return elements[_0xcfc6c2(0x204)](_0x41f8ae=>_0x41f8ae instanceof StaticTextDisplay&&_0x41f8ae[_0xcfc6c2(0x1e8)][_0xcfc6c2(0x1ea)](_0xcfc6c2(0x20f)));if(_0x24963d===_0xcfc6c2(0x1f6))return elements[_0xcfc6c2(0x204)](_0x45b755=>_0x45b755 instanceof StaticTextDisplay&&_0x45b755['text'][_0xcfc6c2(0x1ea)](_0xcfc6c2(0x1f6)));if(_0x24963d==='Uc\x20=')return elements[_0xcfc6c2(0x204)](_0x109935=>_0x109935 instanceof StaticTextDisplay&&_0x109935['text'][_0xcfc6c2(0x1ea)](_0xcfc6c2(0x1f3)));return null;}function displayCalculationValue(_0xb5f4bf,_0x2fbc86,_0x1510b1){const _0x353f9b=_0x4fc365;if(!_0xb5f4bf||typeof _0xb5f4bf['x']===_0x353f9b(0x1ac)||typeof _0xb5f4bf['y']===_0x353f9b(0x1ac)){console[_0x353f9b(0x19c)](_0x353f9b(0x183),_0xb5f4bf);return;}push(),translate(_0xb5f4bf['x'],_0xb5f4bf['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x1510b1===_0x353f9b(0x17a)?TOP:BOTTOM);let _0xbb23c9=0x0;if(_0xb5f4bf instanceof CustomAmmeter||_0xb5f4bf instanceof Frequency)_0xbb23c9=(_0x1510b1===_0x353f9b(0x17a)?_0xb5f4bf['r']+0xa:-_0xb5f4bf['r']-0x19)*SCALE_FACTOR;else{if(_0xb5f4bf instanceof Phasemeter)_0xbb23c9=(_0x1510b1==='bottom'?_0xb5f4bf['r']+0xa:-_0xb5f4bf['r']-0x19)*SCALE_FACTOR;else{if(_0xb5f4bf instanceof Resistor)_0xbb23c9=(_0x1510b1===_0x353f9b(0x1c9)?-_0xb5f4bf['h']/0x2-0xf:_0xb5f4bf['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0xb5f4bf instanceof AutotransformerLaboratory)_0xbb23c9=(_0x1510b1==='top'?-_0xb5f4bf['h']/0x2-0x23:_0xb5f4bf['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0xb5f4bf instanceof Induction)_0xbb23c9=(_0x1510b1===_0x353f9b(0x1c9)?-_0xb5f4bf['h']/0x2-0xf:_0xb5f4bf['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0xb5f4bf instanceof Capacity)_0xbb23c9=(_0x1510b1===_0x353f9b(0x1c9)?-_0xb5f4bf['h']/0x2-0xf:_0xb5f4bf['h']/0x2+0x14)*SCALE_FACTOR;else _0xb5f4bf instanceof Lamp&&(_0xbb23c9=(_0x1510b1===_0x353f9b(0x1c9)?-_0xb5f4bf['h']/0x2-0xf:_0xb5f4bf['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x2fbc86,0x0,_0xbb23c9),pop(),_0xb5f4bf[_0x353f9b(0x1a5)]=_0x2fbc86;}function hideCalculationValues(){const _0x322392=_0x4fc365;redraw(),elements[_0x322392(0x1b3)](_0x4057cf=>{const _0x5838d9=_0x322392;_0x4057cf[_0x5838d9(0x1a5)]=null;});}class CircuitElement{constructor(_0x2e0cd9,_0x2fb9f6){const _0x3ba55d=_0x4fc365;this['x']=_0x2e0cd9,this['y']=_0x2fb9f6,this[_0x3ba55d(0x18b)]=0x1,this[_0x3ba55d(0x16f)]=[],this[_0x3ba55d(0x1d2)]=![],this[_0x3ba55d(0x150)]=null,this[_0x3ba55d(0x1a5)]=null;}[_0x4fc365(0x1cf)](){}[_0x4fc365(0x182)](){const _0x2c80f1=_0x4fc365;push(),translate(this['x'],this['y']);let _0x11b3ea=0x0;switch(this[_0x2c80f1(0x18b)]){case 0x2:_0x11b3ea=PI/0x2;break;case 0x3:_0x11b3ea=PI;break;case 0x4:_0x11b3ea=0x3*PI/0x2;break;default:_0x11b3ea=0x0;}rotate(_0x11b3ea);if(this[_0x2c80f1(0x1a5)]!==null){stroke(_0x2c80f1(0x193)),fill(_0x2c80f1(0x1a2)),textSize(0xf*SCALE_FACTOR);let _0x283226=textWidth(this[_0x2c80f1(0x1a5)]);rectMode(CENTER);let _0x4b1902=-0xa*SCALE_FACTOR,_0x17fa6a=0x28*SCALE_FACTOR,_0x1a68a7=0x2*SCALE_FACTOR,_0x290291=0x2*SCALE_FACTOR;rect(_0x4b1902,_0x17fa6a,_0x283226+_0x1a68a7*0x2,0x14*SCALE_FACTOR+_0x290291*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x2c80f1(0x1a5)],_0x4b1902,_0x17fa6a);}}[_0x4fc365(0x1c2)](){rotate(0x0),pop();}['updateConnectors'](){const _0x2dc0cb=_0x4fc365;this['connectors'][_0x2dc0cb(0x1b3)](_0x81a3c3=>{const _0x5e16f2=_0x2dc0cb;_0x81a3c3['x']=this['x']+cos(this[_0x5e16f2(0x1e5)]())*_0x81a3c3['originalX']-sin(this[_0x5e16f2(0x1e5)]())*_0x81a3c3[_0x5e16f2(0x1b5)],_0x81a3c3['y']=this['y']+sin(this[_0x5e16f2(0x1e5)]())*_0x81a3c3[_0x5e16f2(0x187)]+cos(this[_0x5e16f2(0x1e5)]())*_0x81a3c3[_0x5e16f2(0x1b5)];});}[_0x4fc365(0x1e5)](){const _0x2a1b2b=_0x4fc365;switch(this[_0x2a1b2b(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x2f6e07,_0x3b4ca3,_0xc8c46d){const _0x20dfa5=_0x4fc365;super(_0x2f6e07,_0x3b4ca3),this['r']=0x14*SCALE_FACTOR,this[_0x20dfa5(0x1fa)]=_0xc8c46d,this[_0x20dfa5(0x1d5)]='12',this[_0x20dfa5(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x20dfa5(0x16f)][_0x20dfa5(0x1b3)](_0x33c6e0=>{const _0x2edefb=_0x20dfa5;_0x33c6e0[_0x2edefb(0x187)]*=SCALE_FACTOR;}),this[_0x20dfa5(0x1e0)]=![];}[_0x4fc365(0x1b9)](_0x5003d1){const _0x32530f=_0x4fc365;_0x5003d1[_0x32530f(0x159)](0x1*SCALE_FACTOR),_0x5003d1[_0x32530f(0x1cc)](0x0),_0x5003d1[_0x32530f(0x170)](0xff),_0x5003d1[_0x32530f(0x175)](0x0,0x0,this['r']*1.5),_0x5003d1[_0x32530f(0x15a)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x5003d1[_0x32530f(0x15a)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x5003d1[_0x32530f(0x15a)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x5003d1['noStroke'](),_0x5003d1[_0x32530f(0x170)](0x0),_0x5003d1['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x5003d1[_0x32530f(0x1e8)](this[_0x32530f(0x1fa)],0x0,this['r']*1.3);}['display'](){const _0x12e416=_0x4fc365;super['display']();let _0x38d3a2=0x1*SCALE_FACTOR,_0x5c88b6=0x2*_0x38d3a2;this[_0x12e416(0x1e0)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x5c88b6),fill(0xff)):(stroke(0x0),strokeWeight(_0x38d3a2),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x12e416(0x1e0)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this['label'],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x12e416(0x1c2)](),this[_0x12e416(0x192)]();}['rotationAngle'](){const _0xfb5082=_0x4fc365;switch(this[_0xfb5082(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x331cc8,_0x371d3d,_0x5a1072){const _0x20a77a=_0x4fc365;super(_0x331cc8,_0x371d3d),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x20a77a(0x1fa)]=_0x5a1072,this[_0x20a77a(0x1b4)]=_0x20a77a(0x152),this['voltageDrop']=0x0,this[_0x20a77a(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x20a77a(0x16f)][_0x20a77a(0x1b3)](_0x506486=>{const _0x1fb11d=_0x20a77a;_0x506486[_0x1fb11d(0x187)]*=SCALE_FACTOR;});}[_0x4fc365(0x1b9)](_0x3b1e3c){const _0x174548=_0x4fc365;_0x3b1e3c[_0x174548(0x159)](0x1*SCALE_FACTOR),_0x3b1e3c[_0x174548(0x1cc)](0x0),_0x3b1e3c['fill'](0xc8,0x96,0x64),_0x3b1e3c[_0x174548(0x1f0)](CENTER),_0x3b1e3c[_0x174548(0x210)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x3b1e3c[_0x174548(0x1ee)](),_0x3b1e3c[_0x174548(0x170)](0x0),_0x3b1e3c[_0x174548(0x1bb)](CENTER,CENTER),_0x3b1e3c[_0x174548(0x165)](0x8*SCALE_FACTOR),_0x3b1e3c[_0x174548(0x1e8)](this[_0x174548(0x1fa)],0x0,0x0);}['display'](){const _0x2de7b7=_0x4fc365;super[_0x2de7b7(0x182)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x2de7b7(0x1fa)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x2de7b7(0x1b4)]+'\x20Ом',0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super['postDisplay'](),this[_0x2de7b7(0x192)]();}[_0x4fc365(0x192)](){const _0xabbdd1=_0x4fc365;this[_0xabbdd1(0x16f)][_0xabbdd1(0x1b3)](_0x3bc861=>{const _0x301781=_0xabbdd1;_0x3bc861['x']=this['x']+cos(this[_0x301781(0x1e5)]())*_0x3bc861[_0x301781(0x187)]-sin(this['rotationAngle']())*_0x3bc861[_0x301781(0x1b5)],_0x3bc861['y']=this['y']+sin(this[_0x301781(0x1e5)]())*_0x3bc861[_0x301781(0x187)]+cos(this[_0x301781(0x1e5)]())*_0x3bc861[_0x301781(0x1b5)];});}[_0x4fc365(0x1e5)](){const _0x412c01=_0x4fc365;switch(this[_0x412c01(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x21f009,_0x331796,_0x14f746){const _0x339c7a=_0x4fc365;super(_0x21f009,_0x331796),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x339c7a(0x180)](this['w'],this['h'])/0x2,this[_0x339c7a(0x1fa)]=_0x14f746,this['capacity']='18',this[_0x339c7a(0x14f)]=!![],this[_0x339c7a(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x339c7a(0x16f)][_0x339c7a(0x1b3)](_0x2732a4=>{const _0x4a33e1=_0x339c7a;_0x2732a4[_0x4a33e1(0x187)]*=SCALE_FACTOR;});}[_0x4fc365(0x17b)](_0x55bf99){const _0x4bdac7=_0x4fc365;if(_0x55bf99===this[_0x4bdac7(0x14f)])return;this[_0x4bdac7(0x14f)]=_0x55bf99,redraw();}['displayPalette'](_0x3bb62f){const _0x50ae93=_0x4fc365;_0x3bb62f['strokeWeight'](0x1*SCALE_FACTOR),_0x3bb62f['stroke'](0x0),_0x3bb62f[_0x50ae93(0x15a)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x3bb62f[_0x50ae93(0x15a)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x3bb62f[_0x50ae93(0x15a)](this['w']/0x5,0x0,this['w'],0x0),_0x3bb62f[_0x50ae93(0x15a)](-this['w']/0x5,0x0,-this['w'],0x0),_0x3bb62f[_0x50ae93(0x1ee)](),_0x3bb62f['fill'](0x0),_0x3bb62f[_0x50ae93(0x1bb)](CENTER,CENTER),_0x3bb62f[_0x50ae93(0x165)](0x8*SCALE_FACTOR),_0x3bb62f[_0x50ae93(0x1e8)](this[_0x50ae93(0x1fa)],-this['w']/0x2,-this['h']*0.5);}[_0x4fc365(0x182)](){const _0x42e6d0=_0x4fc365;if(!this[_0x42e6d0(0x14f)])return;super[_0x42e6d0(0x182)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x42e6d0(0x1fa)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x42e6d0(0x1d9)]+_0x42e6d0(0x15b),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x42e6d0(0x1c2)](),this[_0x42e6d0(0x192)]();}[_0x4fc365(0x192)](){this['connectors']['forEach'](_0x4c0303=>{const _0x216479=_0x47b9;_0x4c0303['x']=this['x']+cos(this[_0x216479(0x1e5)]())*_0x4c0303[_0x216479(0x187)]-sin(this[_0x216479(0x1e5)]())*_0x4c0303[_0x216479(0x1b5)],_0x4c0303['y']=this['y']+sin(this[_0x216479(0x1e5)]())*_0x4c0303[_0x216479(0x187)]+cos(this[_0x216479(0x1e5)]())*_0x4c0303['originalY'];});}[_0x4fc365(0x1e5)](){const _0x2c81b5=_0x4fc365;switch(this[_0x2c81b5(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x4591a7,_0x5a2fb4,_0x4dbaef){const _0x117542=_0x4fc365;super(_0x4591a7,_0x5a2fb4),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this[_0x117542(0x1fa)]=_0x4dbaef,this[_0x117542(0x1ba)]='50',this[_0x117542(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x117542(0x16f)][_0x117542(0x1b3)](_0x3bde4a=>{const _0x2f8b89=_0x117542;_0x3bde4a[_0x2f8b89(0x187)]*=SCALE_FACTOR;});}[_0x4fc365(0x1b9)](_0x4d1567){const _0x286ab8=_0x4fc365;_0x4d1567[_0x286ab8(0x159)](0x1*SCALE_FACTOR),_0x4d1567['stroke'](0x0),_0x4d1567[_0x286ab8(0x170)](0xdc),_0x4d1567[_0x286ab8(0x175)](0x0,0x0,this['r']*1.5),_0x4d1567[_0x286ab8(0x1ee)](),_0x4d1567[_0x286ab8(0x170)](0x0),_0x4d1567['textAlign'](CENTER,CENTER),_0x4d1567[_0x286ab8(0x165)](0x8*SCALE_FACTOR),_0x4d1567[_0x286ab8(0x1e8)](this[_0x286ab8(0x1fa)],this['r']*0.6,this['r']*1.3);}[_0x4fc365(0x182)](){const _0x518b64=_0x4fc365;super[_0x518b64(0x182)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x518b64(0x1fa)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['frequency']+_0x518b64(0x1e4),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x518b64(0x1c2)](),this[_0x518b64(0x192)]();}[_0x4fc365(0x192)](){const _0x25d2cf=_0x4fc365;this['connectors'][_0x25d2cf(0x1b3)](_0x1463a4=>{const _0x455a7f=_0x25d2cf;_0x1463a4['x']=this['x']+cos(this['rotationAngle']())*_0x1463a4['originalX']-sin(this[_0x455a7f(0x1e5)]())*_0x1463a4[_0x455a7f(0x1b5)],_0x1463a4['y']=this['y']+sin(this[_0x455a7f(0x1e5)]())*_0x1463a4[_0x455a7f(0x187)]+cos(this[_0x455a7f(0x1e5)]())*_0x1463a4[_0x455a7f(0x1b5)];});}['rotationAngle'](){const _0x1b7c9d=_0x4fc365;switch(this[_0x1b7c9d(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x265f94,_0x472c1e,_0x10fe22){const _0x4db276=_0x4fc365;super(_0x265f94,_0x472c1e),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x4db276(0x180)](this['w'],this['h'])/0x2,this['label']=_0x10fe22,this['induction']='440',this[_0x4db276(0x1a4)]=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x4db276(0x16f)]['forEach'](_0x13535c=>{const _0x1bedf8=_0x4db276;_0x13535c[_0x1bedf8(0x187)]*=SCALE_FACTOR;});}[_0x4fc365(0x1b9)](_0x1752e7){const _0x1a3fc0=_0x4fc365;_0x1752e7[_0x1a3fc0(0x159)](0x1*SCALE_FACTOR),_0x1752e7[_0x1a3fc0(0x1cc)](0x0);let _0x45a93e=this['h']*0.25,_0x197c48=this['w']*0.6,_0x4e1115=-_0x197c48/0x2,_0xbaabc8=0x0,_0x1fa6d8=_0x197c48/0x3;_0x1752e7[_0x1a3fc0(0x161)]();const _0x168f74=0x3;for(let _0x122556=0x0;_0x122556<_0x168f74;_0x122556++){let _0x1ce4ec=_0x4e1115+_0x122556*_0x1fa6d8;_0x1752e7[_0x1a3fc0(0x15f)](_0x1ce4ec+_0x1fa6d8/0x2,_0xbaabc8,_0x1fa6d8,_0x45a93e,PI,0x0);}_0x1752e7[_0x1a3fc0(0x15a)](_0x4e1115,0x0,_0x4e1115-0xa,0x0),_0x1752e7['line'](_0x197c48/0x2,0x0,_0x197c48/0x2+0xa,0x0),_0x1752e7[_0x1a3fc0(0x1ee)](),_0x1752e7[_0x1a3fc0(0x170)](0x0),_0x1752e7[_0x1a3fc0(0x1bb)](CENTER,CENTER),_0x1752e7['textSize'](0x8*SCALE_FACTOR),_0x1752e7[_0x1a3fc0(0x1e8)](this[_0x1a3fc0(0x1fa)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x4fc365(0x182)](){const _0x809774=_0x4fc365;super[_0x809774(0x182)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x534cc4=this['h']*0.25,_0x138e5a=this['w']*0.6,_0x36b591=-_0x138e5a/0x2,_0x2bc8e2=0x0,_0x330048=_0x138e5a/0x3;noFill();const _0x2daece=0x3;for(let _0x331c60=0x0;_0x331c60<_0x2daece;_0x331c60++){let _0x347e2a=_0x36b591+_0x331c60*_0x330048;arc(_0x347e2a+_0x330048/0x2,_0x2bc8e2,_0x330048,_0x534cc4,PI,0x0);}line(_0x36b591,0x0,_0x36b591-_0x138e5a/0x3,0x0),line(_0x138e5a/0x2,0x0,_0x138e5a*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x809774(0x167)]+_0x809774(0x19d),0x0,this['h']/0xa)),super[_0x809774(0x1c2)](),this[_0x809774(0x192)]();}['updateConnectors'](){this['connectors']['forEach'](_0x3d1854=>{const _0x258b3e=_0x47b9;_0x3d1854['x']=this['x']+cos(this[_0x258b3e(0x1e5)]())*_0x3d1854[_0x258b3e(0x187)]-sin(this[_0x258b3e(0x1e5)]())*_0x3d1854[_0x258b3e(0x1b5)],_0x3d1854['y']=this['y']+sin(this['rotationAngle']())*_0x3d1854['originalX']+cos(this[_0x258b3e(0x1e5)]())*_0x3d1854[_0x258b3e(0x1b5)];});}[_0x4fc365(0x1e5)](){const _0x2f3ce6=_0x4fc365;switch(this[_0x2f3ce6(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x526add,_0x4b23a5,_0xf8ac85){const _0x5ff92a=_0x4fc365;super(_0x526add,_0x4b23a5),this['r']=0x11*SCALE_FACTOR,this[_0x5ff92a(0x1fa)]=_0xf8ac85,this['current']=0x0,this[_0x5ff92a(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x5ff92a(0x16f)][_0x5ff92a(0x1b3)](_0x19384f=>{const _0x6c7d92=_0x5ff92a;_0x19384f[_0x6c7d92(0x187)]*=SCALE_FACTOR;});}['displayPalette'](_0x36a8c1){const _0x30627=_0x4fc365;_0x36a8c1[_0x30627(0x159)](0x1*SCALE_FACTOR),_0x36a8c1[_0x30627(0x1cc)](0x0),_0x36a8c1[_0x30627(0x170)](0xdc),_0x36a8c1['circle'](0x0,0x0,this['r']*1.5),_0x36a8c1[_0x30627(0x1ee)](),_0x36a8c1[_0x30627(0x170)](0x0),_0x36a8c1[_0x30627(0x1bb)](CENTER,CENTER),_0x36a8c1[_0x30627(0x165)](0x8*SCALE_FACTOR),_0x36a8c1[_0x30627(0x1e8)](this[_0x30627(0x1fa)],this['r']*0.6,this['r']*1.3);}[_0x4fc365(0x182)](){const _0x3a36f0=_0x4fc365;super[_0x3a36f0(0x182)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),super[_0x3a36f0(0x1c2)](),this[_0x3a36f0(0x192)]();}[_0x4fc365(0x192)](){const _0x48d6d4=_0x4fc365;this[_0x48d6d4(0x16f)][_0x48d6d4(0x1b3)](_0x1b2952=>{const _0x2fe95b=_0x48d6d4;_0x1b2952['x']=this['x']+cos(this[_0x2fe95b(0x1e5)]())*_0x1b2952['originalX']-sin(this['rotationAngle']())*_0x1b2952['originalY'],_0x1b2952['y']=this['y']+sin(this['rotationAngle']())*_0x1b2952[_0x2fe95b(0x187)]+cos(this[_0x2fe95b(0x1e5)]())*_0x1b2952['originalY'];});}[_0x4fc365(0x1e5)](){const _0x28acef=_0x4fc365;switch(this[_0x28acef(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x228a85,_0x1f665b,_0xb275d){const _0x257bc4=_0x4fc365;super(_0x228a85,_0x1f665b),this['r']=0x11*SCALE_FACTOR,this[_0x257bc4(0x1fa)]=_0xb275d,this[_0x257bc4(0x17e)]=0x0,this[_0x257bc4(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x257bc4(0x16f)][_0x257bc4(0x1b3)](_0x5deec0=>{const _0x2d231d=_0x257bc4;_0x5deec0[_0x2d231d(0x187)]*=SCALE_FACTOR;});}[_0x4fc365(0x1b9)](_0xd6de88){const _0x335bcc=_0x4fc365;_0xd6de88['strokeWeight'](0x1*SCALE_FACTOR),_0xd6de88[_0x335bcc(0x1cc)](0x0),_0xd6de88[_0x335bcc(0x170)](0xdc),_0xd6de88[_0x335bcc(0x175)](0x0,0x0,this['r']*0x1);const _0xb53e01=0.8;_0xd6de88[_0x335bcc(0x15a)](-this['r']*_0xb53e01,0x0,this['r']*_0xb53e01,0x0),_0xd6de88[_0x335bcc(0x15a)](0x0,-this['r']*_0xb53e01,0x0,this['r']*_0xb53e01),_0xd6de88[_0x335bcc(0x15a)](0x0,-this['r']*_0xb53e01,-this['r']*_0xb53e01,-this['r']*_0xb53e01),_0xd6de88[_0x335bcc(0x15a)](-this['r']*_0xb53e01,-this['r']*_0xb53e01,-this['r']*_0xb53e01,0x0),_0xd6de88[_0x335bcc(0x170)](0x0),_0xd6de88['circle'](0x0,this['r']*_0xb53e01,this['r']*0.2),_0xd6de88[_0x335bcc(0x175)](-this['r']*_0xb53e01,0x0,this['r']*0.2),_0xd6de88[_0x335bcc(0x175)](0x0,-this['r']*_0xb53e01,this['r']*0.2),_0xd6de88[_0x335bcc(0x1ee)](),_0xd6de88['fill'](0x0),_0xd6de88[_0x335bcc(0x1bb)](CENTER,CENTER),_0xd6de88[_0x335bcc(0x165)](0xa*SCALE_FACTOR),_0xd6de88['text'](this[_0x335bcc(0x1fa)],this['r']*_0xb53e01,-this['r']*_0xb53e01);}[_0x4fc365(0x182)](){const _0x3b3eb8=_0x4fc365;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this[_0x3b3eb8(0x1fa)],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super['postDisplay'](),this[_0x3b3eb8(0x192)]();}[_0x4fc365(0x192)](){const _0x1c9403=_0x4fc365;this['connectors'][_0x1c9403(0x1b3)](_0x3a66c6=>{const _0x95c9b7=_0x1c9403;_0x3a66c6['x']=this['x']+cos(this[_0x95c9b7(0x1e5)]())*_0x3a66c6[_0x95c9b7(0x187)]-sin(this[_0x95c9b7(0x1e5)]())*_0x3a66c6['originalY'],_0x3a66c6['y']=this['y']+sin(this[_0x95c9b7(0x1e5)]())*_0x3a66c6['originalX']+cos(this['rotationAngle']())*_0x3a66c6[_0x95c9b7(0x1b5)];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x3149a1,_0x3e87ad,_0x4d5f9a=''){const _0x302d06=_0x4fc365;super(_0x3149a1,_0x3e87ad),this['r']=0x14*SCALE_FACTOR,this[_0x302d06(0x1fa)]=_0x4d5f9a,this[_0x302d06(0x1c3)]=0x3,this['connectors']=this['updateConnectorPositions']();}[_0x4fc365(0x153)](){const _0x5d6922=_0x4fc365;let _0x47503e=[];switch(this[_0x5d6922(0x1c3)]){case 0x1:_0x47503e=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x47503e=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x47503e=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x47503e=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x47503e=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x47503e['forEach'](_0x170a40=>{const _0x1b82e4=_0x5d6922;_0x170a40['originalX']*=SCALE_FACTOR,_0x170a40[_0x1b82e4(0x1b5)]*=SCALE_FACTOR;}),_0x47503e;}[_0x4fc365(0x1b9)](_0x292e3f){const _0x1fd27f=_0x4fc365;_0x292e3f[_0x1fd27f(0x159)](1.5*SCALE_FACTOR),_0x292e3f[_0x1fd27f(0x1cc)](0x0);let _0x5956cb=this['r']*0.75;_0x292e3f[_0x1fd27f(0x15a)](0x0,-_0x5956cb,0x0,_0x5956cb),_0x292e3f['line'](-_0x5956cb,0x0,_0x5956cb,0x0);}[_0x4fc365(0x182)](){const _0x649482=_0x4fc365;super[_0x649482(0x182)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0xf2da46=this['r']*1.5;switch(this[_0x649482(0x1c3)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0xf2da46,0x0,0x0),line(-_0xf2da46,0x0,_0xf2da46,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,_0xf2da46+0x5*SCALE_FACTOR),super[_0x649482(0x1c2)](),this[_0x649482(0x192)]();}[_0x4fc365(0x1cf)](){const _0xad8df8=_0x4fc365;this['angleMode']=Math[_0xad8df8(0x143)](this['angle']),this[_0xad8df8(0x16f)]=this[_0xad8df8(0x153)]();}[_0x4fc365(0x192)](){const _0x59252f=_0x4fc365;this[_0x59252f(0x16f)][_0x59252f(0x1b3)](_0xb0a590=>{const _0x2e0d6d=_0x59252f;_0xb0a590['x']=this['x']+cos(this[_0x2e0d6d(0x1e5)]())*_0xb0a590['originalX']-sin(this[_0x2e0d6d(0x1e5)]())*_0xb0a590[_0x2e0d6d(0x1b5)],_0xb0a590['y']=this['y']+sin(this[_0x2e0d6d(0x1e5)]())*_0xb0a590[_0x2e0d6d(0x187)]+cos(this[_0x2e0d6d(0x1e5)]())*_0xb0a590[_0x2e0d6d(0x1b5)];});}[_0x4fc365(0x1e5)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x1ed647,_0xd57e9b,_0x517b6a){const _0x120e7f=_0x4fc365;super(_0x1ed647,_0xd57e9b),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x120e7f(0x1fa)]=_0x517b6a,this[_0x120e7f(0x1e3)]=0x2,this[_0x120e7f(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x120e7f(0x16f)][_0x120e7f(0x1b3)](_0x395775=>{const _0x8eff52=_0x120e7f;_0x395775[_0x8eff52(0x187)]*=SCALE_FACTOR,_0x395775[_0x8eff52(0x1b5)]*=SCALE_FACTOR;});}[_0x4fc365(0x1b9)](_0xb6b6bb){const _0x345018=_0x4fc365;_0xb6b6bb[_0x345018(0x159)](1.5*SCALE_FACTOR),_0xb6b6bb[_0x345018(0x1cc)](0x0),_0xb6b6bb[_0x345018(0x161)](),_0xb6b6bb[_0x345018(0x1f0)](CENTER),_0xb6b6bb[_0x345018(0x210)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0xb6b6bb[_0x345018(0x15a)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0xb6b6bb[_0x345018(0x15a)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0xb6b6bb['line'](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0xb6b6bb[_0x345018(0x15a)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0xb6b6bb[_0x345018(0x1ee)](),_0xb6b6bb['fill'](0x0),_0xb6b6bb[_0x345018(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0xb6b6bb['text'](this[_0x345018(0x1fa)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x4fc365(0x182)](){const _0x5cc47f=_0x4fc365;super['display'](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this['state']===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this['state']===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this['state']===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x5cc47f(0x1fa)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x5cc47f(0x1c2)](),this[_0x5cc47f(0x192)]();}['toggleState'](){const _0x42ce30=_0x4fc365;this[_0x42ce30(0x1e3)]=this['state']===0x1?0x2:0x1;if(this[_0x42ce30(0x1fa)]===_0x42ce30(0x19a)){let _0x1d5848=findElementByLabel('E1');_0x1d5848&&(_0x1d5848[_0x42ce30(0x1e0)]=this[_0x42ce30(0x1e3)]===0x2);}else{if(this[_0x42ce30(0x1fa)]===_0x42ce30(0x20b)){let _0x4d5ac9=findElementByLabel('E2');_0x4d5ac9&&(_0x4d5ac9[_0x42ce30(0x1e0)]=this[_0x42ce30(0x1e3)]===0x1);}}redraw(),calculateCircuit();}['updateConnectors'](){const _0x4b3805=_0x4fc365;this[_0x4b3805(0x16f)][_0x4b3805(0x1b3)](_0x2be8af=>{const _0x2260f1=_0x4b3805;_0x2be8af['x']=this['x']+cos(this[_0x2260f1(0x1e5)]())*_0x2be8af['originalX']-sin(this['rotationAngle']())*_0x2be8af[_0x2260f1(0x1b5)],_0x2be8af['y']=this['y']+sin(this['rotationAngle']())*_0x2be8af['originalX']+cos(this[_0x2260f1(0x1e5)]())*_0x2be8af['originalY'];});}[_0x4fc365(0x1e5)](){const _0x1338c0=_0x4fc365;switch(this[_0x1338c0(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x1a6199,_0x3073ff,_0x13b830){const _0x2b9165=_0x4fc365;super(_0x1a6199,_0x3073ff),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x2b9165(0x1fa)]=_0x13b830,this[_0x2b9165(0x177)]=!![],this[_0x2b9165(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x2b9165(0x1b3)](_0x123ab8=>{const _0x310d69=_0x2b9165;_0x123ab8[_0x310d69(0x187)]*=SCALE_FACTOR;});}['displayPalette'](_0x48d45b){const _0x6e582c=_0x4fc365;_0x48d45b['strokeWeight'](1.5*SCALE_FACTOR),_0x48d45b[_0x6e582c(0x1cc)](0x0),_0x48d45b[_0x6e582c(0x15a)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x48d45b[_0x6e582c(0x15a)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x48d45b[_0x6e582c(0x15a)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x48d45b['noFill'](),_0x48d45b['rectMode'](CENTER),_0x48d45b['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x48d45b[_0x6e582c(0x1ee)](),_0x48d45b[_0x6e582c(0x170)](0x0),_0x48d45b[_0x6e582c(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x48d45b[_0x6e582c(0x1e8)](this[_0x6e582c(0x1fa)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x4fc365(0x182)](){const _0xc058d3=_0x4fc365;super['display'](),strokeWeight(1.5*SCALE_FACTOR),this['isOpen']?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this['isOpen']?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0xc058d3(0x1fa)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0xc058d3(0x1c2)](),this[_0xc058d3(0x192)]();}[_0x4fc365(0x1b0)](){const _0x2da55d=_0x4fc365;this[_0x2da55d(0x177)]=!this[_0x2da55d(0x177)],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}['updateConnectors'](){const _0x5b46e3=_0x4fc365;this[_0x5b46e3(0x16f)][_0x5b46e3(0x1b3)](_0x40ad55=>{const _0xc816b6=_0x5b46e3;_0x40ad55['x']=this['x']+cos(this[_0xc816b6(0x1e5)]())*_0x40ad55[_0xc816b6(0x187)]-sin(this[_0xc816b6(0x1e5)]())*_0x40ad55['originalY'],_0x40ad55['y']=this['y']+sin(this[_0xc816b6(0x1e5)]())*_0x40ad55[_0xc816b6(0x187)]+cos(this[_0xc816b6(0x1e5)]())*_0x40ad55[_0xc816b6(0x1b5)];});}[_0x4fc365(0x1e5)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x29d1bd,_0x524a08,_0x504282){const _0x9e23cf=_0x4fc365;this['x']=_0x29d1bd,this['y']=_0x524a08,this[_0x9e23cf(0x1e8)]=_0x504282;}[_0x4fc365(0x20a)](_0x5059ad){const _0x2f6f00=_0x4fc365;this[_0x2f6f00(0x1e8)]=_0x5059ad;}[_0x4fc365(0x182)](){const _0x93dbba=_0x4fc365;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x93dbba(0x193)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x183783=textWidth(this[_0x93dbba(0x1e8)]);rectMode(CENTER);let _0x142440=0x0,_0x45d208=0x0,_0x41b5cc=0x2*SCALE_FACTOR,_0xade411=0x2*SCALE_FACTOR;this[_0x93dbba(0x1e8)]&&rect(_0x142440,_0x45d208,_0x183783+_0x41b5cc*0x2,0x14*SCALE_FACTOR+_0xade411*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this['text'],_0x142440,_0x45d208),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x19c9c,_0x369ecd,_0x38178e){const _0x1cb4a0=_0x4fc365;super(_0x19c9c,_0x369ecd),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this['label']=_0x38178e,this[_0x1cb4a0(0x1be)]=0.5,this[_0x1cb4a0(0x1d5)]='50',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}[_0x4fc365(0x182)](){const _0x1ef2a0=_0x4fc365;super[_0x1ef2a0(0x182)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0xb414e7=this['h'],_0x4bd134=this['w'];let _0x224057=_0xb414e7*1.2,_0x328820=_0x4bd134*0.35,_0x5f6591=-_0x224057/0x2,_0x7e05a1=_0x224057/0x2,_0x33db7a=-_0x4bd134*0.1;drawingContext[_0x1ef2a0(0x16c)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x33db7a-_0x328820,-_0xb414e7*1.4,_0x328820*0x2,2.8*_0xb414e7),drawingContext[_0x1ef2a0(0x16c)]([]),noFill();const _0x5ca8b7=0x3,_0x2ff682=_0x224057/_0x5ca8b7;for(let _0x2a2c40=0x0;_0x2a2c40<_0x5ca8b7;_0x2a2c40++){let _0xa59808=_0x5f6591+_0x2a2c40*_0x2ff682;arc(_0x33db7a-_0xb414e7/0xa*2.2,_0xa59808+_0x2ff682/0x2,_0x328820,_0x2ff682,-PI/0x2,PI/0x2);}line(_0x33db7a-_0x328820/0x2-0x3,_0x5f6591-_0xb414e7/0xa,_0x33db7a-_0x328820/0x2-0x3,_0x5f6591),line(_0x33db7a-_0x328820/0x2-0x3,_0x5f6591-_0xb414e7/0xa,_0x33db7a-_0x328820*1.5,_0x5f6591-_0xb414e7/0xa),line(_0x33db7a-_0x328820/0x2-0x3,_0x7e05a1,_0x33db7a-_0x328820/0x2-0x3,_0x7e05a1+_0xb414e7*0.4),line(_0x33db7a-_0x328820*1.5,_0x7e05a1+_0xb414e7*0.4,_0x33db7a-_0x328820/0x2-0x3,_0x7e05a1+_0xb414e7*0.4);let _0x6c424b=lerp(_0x5f6591,_0x7e05a1,this['tapPosition']);line(_0x33db7a+_0x328820/0x3,_0x6c424b,_0x33db7a+_0x328820/0x4+0x19*SCALE_FACTOR,_0x6c424b),fill(0x0),triangle(_0xb414e7/0x14,-_0xb414e7/0x14,-_0xb414e7/0xa,0x0,_0xb414e7/0x14,_0xb414e7/0x14),circle(_0x33db7a-_0x328820/0x2-0x3,_0x7e05a1+_0xb414e7*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Л\x20А\x20Т\x20Р',-_0x4bd134/0xa,-_0xb414e7*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',-_0x4bd134/0xa,_0xb414e7*1.6),super[_0x1ef2a0(0x1c2)]();}[_0x4fc365(0x1b9)](_0x3690c8){const _0x178906=_0x4fc365;_0x3690c8[_0x178906(0x159)](0x1*SCALE_FACTOR),_0x3690c8[_0x178906(0x1cc)](0x0);let _0xfe1137=this['h']*0.6,_0x2adfde=this['w']*0.25,_0x20c8c6=-_0xfe1137/0x2,_0x3c8575=_0xfe1137/0x2,_0x5ba58d=-this['w']*0.1;_0x3690c8[_0x178906(0x1a8)][_0x178906(0x16c)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x3690c8[_0x178906(0x210)](_0x5ba58d-_0x2adfde,_0x20c8c6-_0xfe1137/0x2,_0x2adfde+0xf,_0xfe1137*0x2),_0x3690c8['drawingContext'][_0x178906(0x16c)]([]),_0x3690c8['noFill']();const _0x3eb211=0x3,_0x278d17=_0xfe1137/_0x3eb211;for(let _0x152964=0x0;_0x152964<_0x3eb211;_0x152964++){let _0x313894=_0x20c8c6+_0x152964*_0x278d17;_0x3690c8['arc'](_0x5ba58d-0xf,_0x313894+_0x278d17/0x2,_0x2adfde,_0x278d17,-PI/0x2,PI/0x2);}_0x3690c8[_0x178906(0x15a)](_0x5ba58d-_0x2adfde/0x2-0x3,_0x20c8c6-0xa,_0x5ba58d-_0x2adfde/0x2-0x3,_0x20c8c6),_0x3690c8[_0x178906(0x15a)](_0x5ba58d-_0x2adfde/0x2-0x3,_0x20c8c6-0xa,_0x5ba58d-_0x2adfde*1.5,_0x20c8c6-0xa),_0x3690c8[_0x178906(0x15a)](_0x5ba58d-_0x2adfde/0x2-0x3,_0x3c8575,_0x5ba58d-_0x2adfde/0x2-0x3,_0x3c8575+0xa),_0x3690c8[_0x178906(0x15a)](_0x5ba58d-_0x2adfde*1.5,_0x3c8575+0xa,_0x5ba58d-_0x2adfde/0x2-0x3,_0x3c8575+0xa);let _0x12d6ab=lerp(_0x20c8c6,_0x3c8575,this[_0x178906(0x1be)]);_0x3690c8[_0x178906(0x15a)](_0x5ba58d+_0x2adfde/0x4,_0x12d6ab,_0x5ba58d+_0x2adfde/0x4+0xc*SCALE_FACTOR,_0x12d6ab),_0x3690c8[_0x178906(0x170)](0x0),_0x3690c8['triangle'](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x3690c8[_0x178906(0x170)](0x0),_0x3690c8[_0x178906(0x1ee)](),_0x3690c8[_0x178906(0x165)](0xa*SCALE_FACTOR),_0x3690c8[_0x178906(0x1bb)](CENTER,BOTTOM),_0x3690c8['text'](_0x178906(0x189),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x556188,_0x3d51c0,_0x336db4,_0x348c22){const _0x30cfb7=_0x4fc365;super(_0x556188,_0x3d51c0),this[_0x30cfb7(0x184)]=_0x336db4,this['height']=_0x348c22,this[_0x30cfb7(0x1f8)]=color(0x0,0xff,0x0),this[_0x30cfb7(0x1e2)]=color(0x0,0x94,0xff),this[_0x30cfb7(0x18e)]=0x0,this[_0x30cfb7(0x148)]=0x0,this[_0x30cfb7(0x1bf)]=0x32,this[_0x30cfb7(0x147)]=0x0;}['updateWaveform'](_0x3bcac5,_0x50cfb4,_0x13976f,_0x3a8b1f){const _0x578d14=_0x4fc365;this[_0x578d14(0x18e)]=_0x3bcac5,this[_0x578d14(0x148)]=_0x50cfb4,this[_0x578d14(0x1bf)]=_0x13976f,this[_0x578d14(0x147)]=_0x3a8b1f;}['display'](){const _0x2be577=_0x4fc365;push(),translate(this['x'],this['y']),stroke(_0x2be577(0x193)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this['width'],this[_0x2be577(0x1d6)]),drawingContext[_0x2be577(0x16c)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this[_0x2be577(0x1d6)]/0x2,this[_0x2be577(0x184)],this[_0x2be577(0x1d6)]/0x2),line(this[_0x2be577(0x184)]/0x2,0x0,this['width']/0x2,this['height']),drawingContext[_0x2be577(0x16c)]([]),stroke(this[_0x2be577(0x1e2)]),fill(this[_0x2be577(0x1e2)]),rect(0x0,this[_0x2be577(0x1d6)]*0.7,this[_0x2be577(0x184)]/0x3,this[_0x2be577(0x1d6)]/0x8),stroke(this['waveformColorCurrent']),fill(this[_0x2be577(0x1f8)]),rect(0x0,this['height']*0.85,this[_0x2be577(0x184)]/0x3,this[_0x2be577(0x1d6)]/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x2be577(0x1e6),this[_0x2be577(0x184)]/0x6,this[_0x2be577(0x1d6)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x2be577(0x1a6),this[_0x2be577(0x184)]/0x6,this[_0x2be577(0x1d6)]*0.97),(this[_0x2be577(0x18e)]>0x0||this[_0x2be577(0x148)]>0x0)&&this[_0x2be577(0x1a3)](),pop();}[_0x4fc365(0x1a3)](){const _0x1e82da=_0x4fc365;push(),translate(0x14*SCALE_FACTOR,this[_0x1e82da(0x1d6)]/0x2);const _0xc4f5f3=0x96,_0x237c1f=0x3*PI/_0xc4f5f3,_0x3d6512=this[_0x1e82da(0x1d6)]/0x4;stroke(this[_0x1e82da(0x1f8)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x4b2eb1=this[_0x1e82da(0x147)]*PI/0xb4;for(let _0x2836d2=0x0;_0x2836d2<=_0xc4f5f3;_0x2836d2++){const _0x2e9177=_0x2836d2*_0x237c1f,_0x2d9439=sin(_0x2e9177-_0x4b2eb1)*this[_0x1e82da(0x1d6)]*0.25;vertex(_0x2836d2*this[_0x1e82da(0x184)]/_0xc4f5f3-0x14*SCALE_FACTOR,-_0x2d9439);}endShape(),stroke(this[_0x1e82da(0x1e2)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x3840c3=0x0;_0x3840c3<=_0xc4f5f3;_0x3840c3++){const _0x47b217=_0x3840c3*_0x237c1f,_0x452873=sin(_0x47b217)*this[_0x1e82da(0x1d6)]*0.45;vertex(_0x3840c3*this[_0x1e82da(0x184)]/_0xc4f5f3-0x14*SCALE_FACTOR,-_0x452873);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x91e7f3,_0xecda32,_0x5c759e){const _0x5946ce=_0x4fc365;super(_0x91e7f3,_0xecda32),this['r']=0xf*SCALE_FACTOR,this[_0x5946ce(0x1fa)]=_0x5c759e,this[_0x5946ce(0x160)]='30',this[_0x5946ce(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x5946ce(0x16f)][_0x5946ce(0x1b3)](_0x5a40a8=>{const _0x1526d2=_0x5946ce;_0x5a40a8[_0x1526d2(0x187)]*=SCALE_FACTOR;}),this[_0x5946ce(0x1e0)]=![];}['displayPalette'](_0x39ebc5){const _0x2c6be3=_0x4fc365;_0x39ebc5[_0x2c6be3(0x159)](0x1*SCALE_FACTOR),_0x39ebc5[_0x2c6be3(0x1cc)](0x0),_0x39ebc5['fill'](0xff),_0x39ebc5[_0x2c6be3(0x175)](0x0,0x0,this['r']*1.5);const _0x4786fc=this['r']*0.707106781*0.75;_0x39ebc5[_0x2c6be3(0x15a)](-_0x4786fc,_0x4786fc,_0x4786fc,-_0x4786fc),_0x39ebc5['line'](-_0x4786fc,-_0x4786fc,_0x4786fc,_0x4786fc),_0x39ebc5[_0x2c6be3(0x1ee)](),_0x39ebc5[_0x2c6be3(0x170)](0x0),_0x39ebc5[_0x2c6be3(0x1bb)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x39ebc5[_0x2c6be3(0x1e8)](this[_0x2c6be3(0x1fa)],0x0,this['r']*1.3);}[_0x4fc365(0x182)](){const _0x4d1fc7=_0x4fc365;super['display']();let _0x2f21bb=0x1*SCALE_FACTOR,_0x3e9a0f=0x2*_0x2f21bb;this[_0x4d1fc7(0x1e0)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0x3e9a0f),fill(0xff)):(stroke(0x0),strokeWeight(_0x2f21bb),fill(0xff));const _0x1a3361=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x1a3361,_0x1a3361,_0x1a3361,-_0x1a3361),line(-_0x1a3361,-_0x1a3361,_0x1a3361,_0x1a3361);if(this[_0x4d1fc7(0x1e0)])for(let _0x129fd3=0x0;_0x129fd3<0x168;_0x129fd3+=0x1e){const _0x4b4f70=_0x129fd3*(Math['PI']/0xb4),_0x4559aa=1.15*this['r'],_0x577229=1.4*this['r'],_0x225b27=_0x577229*Math[_0x4d1fc7(0x20e)](_0x4b4f70),_0x13a018=_0x577229*Math[_0x4d1fc7(0x1f4)](_0x4b4f70),_0x4e26c1=_0x4559aa*Math[_0x4d1fc7(0x20e)](_0x4b4f70),_0xf9d20a=_0x4559aa*Math[_0x4d1fc7(0x1f4)](_0x4b4f70);line(_0x4e26c1,_0xf9d20a,_0x225b27,_0x13a018);}rotate(0x0),this[_0x4d1fc7(0x1e0)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x4d1fc7(0x1fa)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this['power']+_0x4d1fc7(0x185),0x0,this['r']*1.2),super['postDisplay'](),this[_0x4d1fc7(0x192)]();}[_0x4fc365(0x1b0)](){const _0x5239f0=_0x4fc365;this['isActive']?this[_0x5239f0(0x1e0)]=![]:this[_0x5239f0(0x1e0)]=!![];}[_0x4fc365(0x1e5)](){const _0x2bd5df=_0x4fc365;switch(this[_0x2bd5df(0x18b)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x7f412d,_0x5cd012,_0x126fa0,_0x2e6455=0x1e){const _0x1ff120=_0x4fc365;super(_0x7f412d,_0x5cd012),this[_0x1ff120(0x14d)]=0x5,this['lampRadius']=0xf*SCALE_FACTOR,this[_0x1ff120(0x186)]=this[_0x1ff120(0x1c7)]*0x2+0xa*SCALE_FACTOR,this['label']=_0x126fa0,this[_0x1ff120(0x201)]=parseFloat(_0x2e6455)||0x1e,this['total_power']=0x0,this[_0x1ff120(0x14f)]=!![],this[_0x1ff120(0x1c1)]=!![],this[_0x1ff120(0x19e)]=[],this['w']=this[_0x1ff120(0x14d)]*this['lampRadius']*0x2+(this[_0x1ff120(0x14d)]-0x1)*(this[_0x1ff120(0x186)]-this[_0x1ff120(0x1c7)]*0x2),this['h']=this[_0x1ff120(0x1c7)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x1ff120(0x1ed)]=[];const _0x8a67e5=-(this['w']/0x2)+this[_0x1ff120(0x1c7)];for(let _0x260b42=0x0;_0x260b42<this[_0x1ff120(0x14d)];_0x260b42++){const _0xb634a7=!![];this[_0x1ff120(0x1ed)]['push']({'isActive':_0xb634a7,'offsetX':_0x8a67e5+_0x260b42*this[_0x1ff120(0x186)],'offsetY':0x0}),this['_previousLampStates'][_0x1ff120(0x181)](_0xb634a7);}this[_0x1ff120(0x16f)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['calculateTotalPower'](),this[_0x1ff120(0x1e9)]=![],this['toggleTimer']=null;}[_0x4fc365(0x17b)](_0xd9e4ba){const _0x189055=_0x4fc365;if(_0xd9e4ba===this['isVisible'])return;this['isVisible']=_0xd9e4ba,this[_0x189055(0x15c)](),redraw();}['setEnabled'](_0x180cc8){const _0x319a58=_0x4fc365;if(_0x180cc8===this[_0x319a58(0x1c1)])return;this[_0x319a58(0x1c1)]=_0x180cc8;if(!this[_0x319a58(0x1c1)]){for(let _0x406171=0x0;_0x406171<this['numLamps'];_0x406171++){this['_previousLampStates'][_0x406171]=this[_0x319a58(0x1ed)][_0x406171][_0x319a58(0x1e0)];}for(let _0x39a9bb of this[_0x319a58(0x1ed)]){_0x39a9bb[_0x319a58(0x1e0)]=![];}}else for(let _0x50af59=0x0;_0x50af59<this[_0x319a58(0x14d)];_0x50af59++){this[_0x319a58(0x1ed)][_0x50af59][_0x319a58(0x1e0)]=typeof this['_previousLampStates'][_0x50af59]===_0x319a58(0x190)?this[_0x319a58(0x19e)][_0x50af59]:![];}this['calculateTotalPower'](),redraw();}[_0x4fc365(0x1b0)](_0x59ac3b){const _0x46fd32=_0x4fc365;if(!this['isEnabled']||!this['isVisible'])return;if(this[_0x46fd32(0x1e9)])return;_0x59ac3b>=0x0&&_0x59ac3b<this['numLamps']&&(this[_0x46fd32(0x1e9)]=!![],this[_0x46fd32(0x1ed)][_0x59ac3b]['isActive']=!this['lamps'][_0x59ac3b][_0x46fd32(0x1e0)],this[_0x46fd32(0x19e)][_0x59ac3b]=this['lamps'][_0x59ac3b]['isActive'],this[_0x46fd32(0x15c)](),clearTimeout(this[_0x46fd32(0x1df)]),this[_0x46fd32(0x1df)]=setTimeout(()=>{this['isTogglingLamp']=![],redraw();},0xc8));}[_0x4fc365(0x15c)](){const _0x3a41b6=_0x4fc365;if(!this[_0x3a41b6(0x1c1)]||!this[_0x3a41b6(0x14f)]){this[_0x3a41b6(0x1fb)]=0x0;return;}let _0x2d2a5f=0x0;for(const _0x47dcc3 of this[_0x3a41b6(0x1ed)]){_0x47dcc3['isActive']&&(_0x2d2a5f+=this['powerPerLamp']);}this['total_power']=_0x2d2a5f;}['getClickedLampIndex'](_0x252b10,_0x298dda){const _0x4d4719=_0x4fc365;if(!this[_0x4d4719(0x14f)])return-0x1;for(let _0x47620f=0x0;_0x47620f<this[_0x4d4719(0x14d)];_0x47620f++){const _0x2a7c72=this[_0x4d4719(0x1ed)][_0x47620f],_0x590155=this['x']+_0x2a7c72['offsetX'],_0x56a03a=this['y']+_0x2a7c72[_0x4d4719(0x1b8)],_0x251ea5=dist(_0x252b10,_0x298dda,_0x590155,_0x56a03a);if(_0x251ea5<this[_0x4d4719(0x1c7)])return _0x47620f;}return-0x1;}[_0x4fc365(0x1b9)](_0x126e90){const _0x496d69=_0x4fc365;_0x126e90['strokeWeight'](0x1*SCALE_FACTOR),_0x126e90['stroke'](0x0);const _0x319936=this[_0x496d69(0x1c7)]*0.5,_0x463f65=_0x319936*0x2+0x2*SCALE_FACTOR,_0x150061=this[_0x496d69(0x14d)]*_0x319936*0x2+(this[_0x496d69(0x14d)]-0x1)*0x2*SCALE_FACTOR,_0x2ab8dc=-_0x150061/0x2+_0x319936;for(let _0x605de2=0x0;_0x605de2<this['numLamps'];_0x605de2++){_0x126e90[_0x496d69(0x170)](0xff),_0x126e90['circle'](_0x2ab8dc+_0x605de2*_0x463f65,0x0,_0x319936*0x2);const _0x37d3e6=_0x319936*0.707;_0x126e90[_0x496d69(0x15a)](_0x2ab8dc+_0x605de2*_0x463f65-_0x37d3e6,_0x37d3e6,_0x2ab8dc+_0x605de2*_0x463f65+_0x37d3e6,-_0x37d3e6),_0x126e90['line'](_0x2ab8dc+_0x605de2*_0x463f65-_0x37d3e6,-_0x37d3e6,_0x2ab8dc+_0x605de2*_0x463f65+_0x37d3e6,_0x37d3e6);}_0x126e90[_0x496d69(0x1ee)](),_0x126e90[_0x496d69(0x170)](0x0),_0x126e90[_0x496d69(0x1bb)](CENTER,BOTTOM),_0x126e90[_0x496d69(0x165)](0x8*SCALE_FACTOR),_0x126e90['text'](this['label'],0x0,_0x319936+0xa*SCALE_FACTOR);}[_0x4fc365(0x182)](){const _0xb5a473=_0x4fc365;if(!this[_0xb5a473(0x14f)])return;push(),translate(this['x'],this['y']);const _0x555d0c=this[_0xb5a473(0x1c7)]*0x5+this['lampSpacing']*3.2;stroke(0x64),rect(-_0x555d0c/0x2,-this[_0xb5a473(0x1c7)]*1.2,_0x555d0c,this[_0xb5a473(0x1c7)]*2.4),stroke(0x0);for(let _0x2c4f58=0x0;_0x2c4f58<this[_0xb5a473(0x14d)];_0x2c4f58++){const _0x5c1606=this[_0xb5a473(0x1ed)][_0x2c4f58];push(),translate(_0x5c1606[_0xb5a473(0x206)],_0x5c1606[_0xb5a473(0x1b8)]);let _0x2753ba=0x1*SCALE_FACTOR,_0x5c9b18=0x2*_0x2753ba,_0x30bebb=color(0xff),_0x51dff4=color(0x0);_0x5c1606[_0xb5a473(0x1e0)]?(_0x51dff4=color(0xff,0xd8,0x0),strokeWeight(_0x5c9b18),_0x30bebb=color(0xff,0xff,0xc8)):strokeWeight(_0x2753ba);!this[_0xb5a473(0x1c1)]&&(_0x51dff4=color(0x96),_0x30bebb=color(0xdc),strokeWeight(_0x2753ba));stroke(_0x51dff4),fill(_0x30bebb),circle(0x0,0x0,this[_0xb5a473(0x1c7)]*0x2);const _0x3bab3a=this[_0xb5a473(0x1c7)]*0.707;line(-_0x3bab3a,_0x3bab3a,_0x3bab3a,-_0x3bab3a),line(-_0x3bab3a,-_0x3bab3a,_0x3bab3a,_0x3bab3a);if(_0x5c1606[_0xb5a473(0x1e0)]&&this[_0xb5a473(0x1c1)]){stroke(_0x51dff4),strokeWeight(0x1*SCALE_FACTOR);for(let _0x3bf699=0x0;_0x3bf699<0x168;_0x3bf699+=0x2d){const _0x27d87d=radians(_0x3bf699),_0x186ec3=1.15*this['lampRadius'],_0x5621f8=1.4*this[_0xb5a473(0x1c7)];line(_0x186ec3*cos(_0x27d87d),_0x186ec3*sin(_0x27d87d),_0x5621f8*cos(_0x27d87d),_0x5621f8*sin(_0x27d87d));}}pop();}noStroke(),fill(this[_0xb5a473(0x1c1)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,-this[_0xb5a473(0x1c7)]-0x7*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this['total_power']>0x0&&text(_0xb5a473(0x14b)+this['total_power'][_0xb5a473(0x1eb)](0x0)+'\x20Вт',0x0,this['lampRadius']+0xa*SCALE_FACTOR),pop(),this[_0xb5a473(0x192)]();}[_0x4fc365(0x192)](){const _0x52e77f=_0x4fc365,_0x5d81ad=this['rotationAngle']();this[_0x52e77f(0x16f)][_0x52e77f(0x1b3)](_0x886425=>{const _0x4e2114=_0x52e77f;_0x886425['x']=this['x']+cos(_0x5d81ad)*_0x886425[_0x4e2114(0x187)]-sin(_0x5d81ad)*_0x886425[_0x4e2114(0x1b5)],_0x886425['y']=this['y']+sin(_0x5d81ad)*_0x886425[_0x4e2114(0x187)]+cos(_0x5d81ad)*_0x886425[_0x4e2114(0x1b5)];});}[_0x4fc365(0x1e5)](){return 0x0;}}


        </script>

</body>
</html>