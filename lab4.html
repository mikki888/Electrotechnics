<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 180px !important;
            flex-basis: 180px !important; /* ADD flex-basis with !important */
            max-width: 180px !important; /* ADD max-width to prevent expansion */
            min-width: 180px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x160e4d=_0x3fe2;(function(_0x3d28af,_0x4d1543){const _0x37f55d=_0x3fe2,_0x1585cb=_0x3d28af();while(!![]){try{const _0x11da28=parseInt(_0x37f55d(0xb9))/0x1+-parseInt(_0x37f55d(0xc9))/0x2*(-parseInt(_0x37f55d(0xa5))/0x3)+-parseInt(_0x37f55d(0xdc))/0x4*(parseInt(_0x37f55d(0x13d))/0x5)+-parseInt(_0x37f55d(0x8b))/0x6+-parseInt(_0x37f55d(0xf0))/0x7+parseInt(_0x37f55d(0xeb))/0x8*(-parseInt(_0x37f55d(0x135))/0x9)+parseInt(_0x37f55d(0xba))/0xa*(parseInt(_0x37f55d(0xb7))/0xb);if(_0x11da28===_0x4d1543)break;else _0x1585cb['push'](_0x1585cb['shift']());}catch(_0x260af2){_0x1585cb['push'](_0x1585cb['shift']());}}}(_0x12dd,0x56a92));function _0x12dd(){const _0x3ed3d3=['label','originalX','Дослідні\x20дані','noStroke','appendChild','placedElementData','HLG2','resistance','induction','Схему\x20зібрано!','createElement','Uab\x20=\x200.0\x20V','textContent','offsetY','In\x20=\x20','SA1','getElementById','Ub\x20=\x200.0\x20V','test','PA2','capacity','lampSpacing','Напруга','toggleTimer','Цільова\x20точка\x20не\x20знайдена','updateWaveform','SA12','palette-element','Ua\x20=','Uab\x20=','Струм','\x20Ом','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','lamps','27ludHdB','isActive','rotationAngle','error','length','type','Ub\x20=\x20','SA21','5NbcUiS','Ic\x20=\x20','Ubc\x20=','Uca\x20=','Uc\x20=','max','waveformColorCurrent','abs','Введіть\x20опір\x20для\x20','Resistor','waveformColorVoltage','Ubc\x20=\x20Error','bottom','textAlign','pop','push','HLG1','circle','noFill','calculationDisplayValue','top','random','SA31','PA1','placed','round','boolean','setVisibility','setEnabled','PA4','displayPalette','SA4','lightgray','SA3','getClickedLampIndex','calculateTotalPower','setLineDash','height','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','3750168cPtFAw','Введіть\x20ємність\x20для\x20','updateConnectorPositions','postDisplay','sin','frequencyHz','isDragging','Uc\x20=\x200.0\x20V','Capacity','lampRadius','Л\x20А\x20Т\x20Р','triangle','\x20Гц','add','currentAmplitude','isVisible','targetY','translate','text','SA2','240','canvas','PA3','Ia\x20=\x20Error','div','textSize','174SuxuDI','current','\x20\x20мГн','green','Switch','contains','stroke','isTogglingLamp','Переключити\x20на\x20\x0a\x20конденсатор','Ubc\x20=\x200.0\x20V','Ib\x20=\x20','sqrt','Uca\x20=\x20Error','setText','toggleState','Frequency','Не\x20вдалося\x20знайти\x20C1\x20або\x20HLG1\x20для\x20перемикання\x20видимості.','powerPerLamp','671qwFIoI','Ub\x20=','288767tlOKSA','191830Dsuvxg','Відстань\x20до\x20точки:\x20','ang','_previousLampStates','Correctly\x20placed!','Введіть\x20індуктивність\x20для\x20','forEach','CustomAmmeter','currentTarget','frequency','SA11','orange','startsWith','voltageDrop','function','10322uyBbpZ','state','update','palette','GroupLamp','rectMode','strokeWeight','In\x20=\x20Error','voltage','isOpen','numLamps','show','Induction','angleMode','rect','\x20px','elementType','isEnabled','total_power','1160188aPVJdV','\x20Вт','Введіть\x20напругу\x20для\x20','classList','innerHTML','orientation','undefined','Введіть\x20частоту\x20для\x20','connectors','Ia\x20=\x20','Потрібно\x20поставити\x20елементів:\x20','mag','dataset','HLG3','lightcyan','483408EPMoJu','updateConnectors','tapPosition','blue','find','2148671nESStx','paletteIndex','>9999\x20A','targetX','addEventListener','Ub\x20=\x20Error','angle','remove','Помилка:\x20Елемент\x20не\x20знайдено','drawingContext','Uca\x20=\x20','fill','atan2','voltageAmplitude','width','line','Uc\x20=\x20','elementLabel','#4CAF50','phaseAngleDeg','Node','toFixed','offsetX','drawWaveforms','Коротке\x20замикання\x20в\x20фазі\x20А\x20!!!','floor','power','AutotransformerLaboratory','isFixed','lightyellow','arc','display','P:\x20','phase','originalY'];_0x12dd=function(){return _0x3ed3d3;};return _0x12dd();}const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x160e4d(0x125)](navigator['userAgent']),isLargeMobileScreen=window['innerWidth']>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':_0x160e4d(0xa9),'label':_0x160e4d(0x122),'targetX':0x96*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xa9),'label':_0x160e4d(0xc4),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Switch','label':'SA12','targetX':0x12c*SCALE_FACTOR,'targetY':0x25*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xa9),'label':'SA2','targetX':0x96*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xa9),'label':_0x160e4d(0x13c),'targetX':0x1c2*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xa9),'label':_0x160e4d(0x85),'targetX':0x96*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xa9),'label':_0x160e4d(0x153),'targetX':0x1c2*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xa9),'label':'SA4','targetX':0x190*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xc1),'label':_0x160e4d(0x7b),'targetX':0x4b*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xc1),'label':_0x160e4d(0x126),'targetX':0x4b*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xc1),'label':_0x160e4d(0xa1),'targetX':0x4b*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xc1),'label':_0x160e4d(0x81),'targetX':0xfa*SCALE_FACTOR,'targetY':0x190*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0x93),'label':'C1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x160e4d(0xcd),'label':_0x160e4d(0x14d),'targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x160e4d(0xcd),'label':_0x160e4d(0x119),'targetX':0x12c*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e},{'type':_0x160e4d(0xcd),'label':_0x160e4d(0xe9),'targetX':0x12c*SCALE_FACTOR,'targetY':0x12c*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![],'powerPerLamp':0x1e}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=!![],staticVoltageDisplay,isC1CurrentlyVisible=![],U_phase_mag=132.8,warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0;const BLINK_INTERVAL=0x1f4;let isTogglingVisibility=![],visibilityToggleTimer=null;const VISIBILITY_TOGGLE_DELAY=0xfa;function setup(){const _0x218f54=_0x160e4d;createCanvas(0x2bc*SCALE_FACTOR,0x244*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x218f54(0x139)],staticVoltageDisplayAB=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x8c*SCALE_FACTOR,'Uab\x20='),elements[_0x218f54(0x14c)](staticVoltageDisplayAB),staticVoltageDisplayBC=new StaticTextDisplay(0xa0*SCALE_FACTOR,0xf0*SCALE_FACTOR,_0x218f54(0x13f)),elements['push'](staticVoltageDisplayBC),staticVoltageDisplayCA=new StaticTextDisplay(0xa0*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x218f54(0x140)),elements[_0x218f54(0x14c)](staticVoltageDisplayCA),staticVoltageDisplayA=new StaticTextDisplay(0x186*SCALE_FACTOR,0x8c*SCALE_FACTOR,_0x218f54(0x12f)),elements[_0x218f54(0x14c)](staticVoltageDisplayA),staticVoltageDisplayB=new StaticTextDisplay(0x186*SCALE_FACTOR,0xf0*SCALE_FACTOR,'Ub\x20='),elements[_0x218f54(0x14c)](staticVoltageDisplayB),staticVoltageDisplayC=new StaticTextDisplay(0x186*SCALE_FACTOR,0x154*SCALE_FACTOR,_0x218f54(0x141)),elements[_0x218f54(0x14c)](staticVoltageDisplayC);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0xdd7ba=_0x160e4d;let _0x3e955a={'SA2':null,'E2':null};paletteElementsData['forEach'](_0x1b322d=>{const _0x462d52=_0x3fe2;let _0x3ba60e=createPaletteElementInstance(_0x1b322d['type'],_0x1b322d[_0x462d52(0x113)],_0x1b322d['orientation'],_0x1b322d[_0x462d52(0xf3)],_0x1b322d['targetY'],_0x1b322d);_0x3ba60e[_0x462d52(0x113)]==='Rk'&&(_0x3ba60e[_0x462d52(0x11a)]='20'),elements['push'](_0x3ba60e),_0x1b322d[_0x462d52(0x7c)]=!![],_0x1b322d['isFixed']=!![],_0x3ba60e['placedElementData'][_0x462d52(0x7c)]=!![],_0x3ba60e[_0x462d52(0x118)][_0x462d52(0x10c)]=!![];}),paletteElementsData=[];const _0x3bdb4d=document[_0xdd7ba(0x123)](_0xdd7ba(0xcc));_0x3bdb4d['innerHTML']='',createPalette();}function createPalette(){const _0x30e320=_0x160e4d,_0x145f60=document[_0x30e320(0x123)]('palette');paletteElementsData['forEach']((_0x5b6b53,_0x2f093b)=>{const _0x264e32=_0x30e320,_0x59d104=document[_0x264e32(0x11d)](_0x264e32(0xa3));_0x59d104[_0x264e32(0xdf)][_0x264e32(0x98)](_0x264e32(0x12e));let _0x603b52=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x603b52['clear'](),_0x603b52[_0x264e32(0x14c)](),_0x603b52[_0x264e32(0x9c)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x51399f=createPaletteElementInstance(_0x5b6b53[_0x264e32(0x13a)],_0x5b6b53['label'],_0x5b6b53[_0x264e32(0xe1)],0x0,0x0,_0x5b6b53);_0x51399f[_0x264e32(0xe1)]=_0x5b6b53[_0x264e32(0xe1)],_0x51399f['displayPalette'](_0x603b52),_0x603b52[_0x264e32(0x14b)]();const _0x194728=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x194728['copy'](_0x603b52,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x59d104[_0x264e32(0x117)](_0x194728[_0x264e32(0xa0)]),_0x59d104[_0x264e32(0xe8)][_0x264e32(0xd9)]=_0x5b6b53['type'],_0x59d104[_0x264e32(0xe8)][_0x264e32(0x101)]=_0x5b6b53[_0x264e32(0x113)],_0x59d104[_0x264e32(0xe8)]['elementOrientation']=_0x5b6b53[_0x264e32(0xe1)],_0x59d104[_0x264e32(0xe8)][_0x264e32(0xf1)]=_0x2f093b,_0x59d104[_0x264e32(0xf4)]('click',paletteElementClick),_0x145f60[_0x264e32(0x117)](_0x59d104);});}function draw(){const _0x43fddf=_0x160e4d;background(0xf0),strokeWeight(0x1);const _0x327584=0x2bc*SCALE_FACTOR,_0x4f72ce=0x1c2*SCALE_FACTOR,_0x32b0c9=0x32*SCALE_FACTOR;stroke(_0x43fddf(0x84));function _0x315368(_0x205cbd,_0x23d368,_0x5c3d33,_0x2bc25b){line(_0x205cbd,_0x23d368,_0x5c3d33,_0x2bc25b);}for(let _0x59dea7=0x0;_0x59dea7<=_0x4f72ce;_0x59dea7+=_0x32b0c9){_0x315368(0x0,_0x59dea7,_0x327584,_0x59dea7);}for(let _0x3f8129=0x0;_0x3f8129<=_0x327584;_0x3f8129+=_0x32b0c9){_0x315368(_0x3f8129,0x0,_0x3f8129,_0x4f72ce);}noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text('A',0x17*SCALE_FACTOR,0x55*SCALE_FACTOR),text('B',0x17*SCALE_FACTOR,0xb9*SCALE_FACTOR),text('C',0x17*SCALE_FACTOR,0x11d*SCALE_FACTOR),text('N',0x17*SCALE_FACTOR,0x181*SCALE_FACTOR),stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),circle(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x315368(0xb9*SCALE_FACTOR,0x64*SCALE_FACTOR,0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x315368(0xb9*SCALE_FACTOR,0x25*SCALE_FACTOR,0x118*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x315368(0x140*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR),_0x315368(0x19f*SCALE_FACTOR,0x25*SCALE_FACTOR,0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x19f*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR);let _0x4d1e58=0x64;circle(0x1c*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x315368(0x1e*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x5a*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0xaa*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x190*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x1d6*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x4d1e58=0xc8,circle(0x1c*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x315368(0x1e*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x5a*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0xaa*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x190*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x1d6*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x4d1e58=0x12c,circle(0x1c*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x5*SCALE_FACTOR),_0x315368(0x1e*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x3c*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x5a*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x82*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0xaa*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0xc8*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x190*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x1ae*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),_0x315368(0x1d6*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR,0x1f4*SCALE_FACTOR,_0x4d1e58*SCALE_FACTOR),circle(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x315368(0x1f4*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1f4*SCALE_FACTOR,0x12c*SCALE_FACTOR),_0x315368(0x1f4*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x315368(0x212*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x212*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x315368(0x212*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1a4*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x315368(0x109*SCALE_FACTOR,0x190*SCALE_FACTOR,0x17c*SCALE_FACTOR,0x190*SCALE_FACTOR),_0x315368(0xeb*SCALE_FACTOR,0x190*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x190*SCALE_FACTOR),circle(0x1c*SCALE_FACTOR,0x190*SCALE_FACTOR,0x5*SCALE_FACTOR);for(let _0xd3345b of elements){typeof _0xd3345b[_0x43fddf(0xcb)]===_0x43fddf(0xc8)&&_0xd3345b[_0x43fddf(0xcb)](),_0xd3345b['display']();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x43fddf(0x10f)](),pop()),drawMessageBox(),drawCalculateButton(),drawVisibilityToggleButton(),drawWarningMessageBox();}function drawWarningMessageBox(){if(!warningMessageText)return;push();let _0xe3f2ca=0x1e*SCALE_FACTOR,_0x1c3626=height-0x32*SCALE_FACTOR-_0xe3f2ca-0xa*SCALE_FACTOR,_0x18f167=0x96*SCALE_FACTOR,_0xaa697=0xc8*SCALE_FACTOR;rectMode(CORNER);if(isBlinkingWarning){let _0x350a45=millis();_0x350a45-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x350a45),blinkState&&(fill(0xff,0xb4,0xb4),stroke(0xc8,0x0,0x0),strokeWeight(1.5*SCALE_FACTOR),rect(_0x18f167,_0x1c3626,_0xaa697,_0xe3f2ca,0x5*SCALE_FACTOR),noStroke(),fill(0xc8,0x0,0x0),textAlign(CENTER,CENTER),textSize(0xd*SCALE_FACTOR),textStyle(BOLD),text(warningMessageText,_0x18f167+_0xaa697/0x2,_0x1c3626+_0xe3f2ca/0x2),textStyle(NORMAL));}else fill(0xff,0xff,0xd2),stroke(0xb4,0xb4,0x0),strokeWeight(0x1*SCALE_FACTOR),rect(_0x18f167,_0x1c3626,_0xaa697,_0xe3f2ca,0x5*SCALE_FACTOR),noStroke(),fill(0x32,0x32,0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(warningMessageText,_0x18f167+_0xaa697/0x2,_0x1c3626+_0xe3f2ca/0x2);pop();}function drawMessageBox(){const _0x2a1a84=_0x160e4d;messageBox[_0x2a1a84(0xdf)][_0x2a1a84(0xaa)](_0x2a1a84(0xd4))&&(push(),fill('lightgreen'),stroke(_0x2a1a84(0xa8)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox['textContent'],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x30f073=_0x160e4d;push(),fill(_0x30f073(0x10d)),stroke(_0x30f073(0xc5)),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x30f073(0x11f)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x5b107b=_0x160e4d;push(),fill(_0x5b107b(0xea)),stroke(_0x5b107b(0xee)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox['textContent'],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x284775=_0x160e4d;if(isCalculateButtonVisible){push(),fill(_0x284775(0x102)),noStroke(),rectMode(CORNER);let _0x479f40=0x96*SCALE_FACTOR,_0x742145=height-0x32*SCALE_FACTOR,_0x54ab15=0xc8*SCALE_FACTOR,_0x1ee430=0x32*SCALE_FACTOR;rect(_0x479f40,_0x742145,_0x54ab15,_0x1ee430,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x284775(0x115),_0x479f40+_0x54ab15/0x2,_0x742145+_0x1ee430/0x2),pop();}}function updateHlg1StateBasedOnSA1AndSA11(){const _0x31aced=_0x160e4d,_0x11e2f3=findElementByLabel(_0x31aced(0x122)),_0x2a2b8d=findElementByLabel(_0x31aced(0xc4)),_0x130ab6=findElementByLabel(_0x31aced(0x12d)),_0x4c7e38=findElementByLabel('HLG1');if(!_0x11e2f3||!_0x2a2b8d||!_0x130ab6||!_0x4c7e38)return;if(!(_0x11e2f3 instanceof Switch)||!(_0x2a2b8d instanceof Switch)||!(_0x130ab6 instanceof Switch)||!(_0x4c7e38 instanceof GroupLamp))return;const _0x1aaee4=_0x11e2f3['isOpen'],_0x1a9b6b=_0x2a2b8d[_0x31aced(0xd2)],_0x3bb551=_0x130ab6[_0x31aced(0xd2)],_0x122be2=!_0x1aaee4&&!_0x1a9b6b&&_0x3bb551;if(_0x4c7e38[_0x31aced(0xda)]!==_0x122be2)_0x4c7e38[_0x31aced(0x80)](_0x122be2);else;}function updateHLG2StateBasedOnSA2AndSA21(){const _0x5ebcd7=_0x160e4d,_0x354a6e=findElementByLabel(_0x5ebcd7(0x9e)),_0x20d646=findElementByLabel(_0x5ebcd7(0x13c)),_0x22c7f2=findElementByLabel(_0x5ebcd7(0x119));if(!_0x354a6e||!_0x20d646||!_0x22c7f2)return;if(!(_0x354a6e instanceof Switch)||!(_0x20d646 instanceof Switch)||!(_0x22c7f2 instanceof GroupLamp))return;const _0x33f672=_0x354a6e[_0x5ebcd7(0xd2)],_0x64cfd4=_0x20d646['isOpen'],_0x418e08=!_0x33f672&&!_0x64cfd4;if(_0x22c7f2[_0x5ebcd7(0xda)]!==_0x418e08)_0x22c7f2[_0x5ebcd7(0x80)](_0x418e08);else;}function updateHLG3StateBasedOnSA3AndSA31(){const _0x593a1c=_0x160e4d,_0x491676=findElementByLabel(_0x593a1c(0x85)),_0x25eed8=findElementByLabel('SA31'),_0xc680c=findElementByLabel(_0x593a1c(0xe9));if(!_0x491676||!_0x25eed8||!_0xc680c)return;if(!(_0x491676 instanceof Switch)||!(_0x25eed8 instanceof Switch)||!(_0xc680c instanceof GroupLamp))return;const _0x5cef6d=_0x491676[_0x593a1c(0xd2)],_0x134f58=_0x25eed8[_0x593a1c(0xd2)],_0x455b4e=!_0x5cef6d&&!_0x134f58;if(_0xc680c[_0x593a1c(0xda)]!==_0x455b4e)_0xc680c[_0x593a1c(0x80)](_0x455b4e);else;}function drawVisibilityToggleButton(){const _0x438a29=_0x160e4d;push();const _0x35eb79=0x226*SCALE_FACTOR,_0x4b7b5b=0x55*SCALE_FACTOR,_0x55a8a5=0x64*SCALE_FACTOR,_0x2d16ce=0x3c*SCALE_FACTOR;fill(0xc8,0xc8,0xff),stroke(0x32,0x32,0x96),strokeWeight(0x1*SCALE_FACTOR),rectMode(CORNER),rect(_0x35eb79,_0x4b7b5b,_0x55a8a5,_0x2d16ce,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR);let _0x379106=isC1CurrentlyVisible?'Повернути\x20\x0a\x20навантаження':_0x438a29(0xad);text(_0x379106,_0x35eb79+_0x55a8a5/0x2,_0x4b7b5b+_0x2d16ce/0x2),pop();}function paletteElementClick(_0xa2e2ac){const _0x76fd45=_0x160e4d,_0x790df9=_0xa2e2ac[_0x76fd45(0xc2)];if(!_0x790df9){console[_0x76fd45(0x138)](_0x76fd45(0x133));return;}const _0x54b2c1=_0x790df9['dataset'][_0x76fd45(0xd9)],_0x465592=_0x790df9[_0x76fd45(0xe8)][_0x76fd45(0x101)],_0x114ebe=_0x790df9[_0x76fd45(0xe8)]['elementOrientation'],_0x4ae06b=parseInt(_0x790df9['dataset'][_0x76fd45(0xf1)]);if(!_0x54b2c1||!_0x465592||!_0x114ebe||isNaN(_0x4ae06b)){console['error']('Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!',_0x790df9[_0x76fd45(0xe8)]);return;}canvasElementInstance=createPaletteElementInstance(_0x54b2c1,_0x465592,_0x114ebe,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x4ae06b]),paletteElementsData['splice'](_0x4ae06b,0x1);const _0x56d410=document['getElementById'](_0x76fd45(0xcc));_0x56d410[_0x76fd45(0xe0)]='',createPalette();}function _0x3fe2(_0x3f8db8,_0x21cebb){const _0x12dd6c=_0x12dd();return _0x3fe2=function(_0x3fe23a,_0x4af0ab){_0x3fe23a=_0x3fe23a-0x7b;let _0x8be6dc=_0x12dd6c[_0x3fe23a];return _0x8be6dc;},_0x3fe2(_0x3f8db8,_0x21cebb);}function createPaletteElementInstance(_0x5031bb,_0x2f3b8b,_0x598690,_0x1430d1,_0x4c3eb2,_0x1aaf5d){const _0x460ddc=_0x160e4d;let _0x414a23;const _0x8e2696=_0x1aaf5d?.[_0x460ddc(0xb6)];switch(_0x5031bb){case _0x460ddc(0x10b):_0x414a23=new AutotransformerLaboratory(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case _0x460ddc(0x146):_0x414a23=new Resistor(_0x1430d1,_0x4c3eb2,_0x2f3b8b);_0x2f3b8b==='Rk'&&(_0x414a23[_0x460ddc(0x11a)]='20');break;case'SwitchSPDT':_0x414a23=new SwitchSPDT(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case _0x460ddc(0xa9):_0x414a23=new Switch(_0x1430d1,_0x4c3eb2,_0x2f3b8b);(_0x2f3b8b===_0x460ddc(0x122)||_0x2f3b8b===_0x460ddc(0xc4)||_0x2f3b8b===_0x460ddc(0x9e)||_0x2f3b8b===_0x460ddc(0x13c)||_0x2f3b8b==='SA3'||_0x2f3b8b===_0x460ddc(0x153)||_0x2f3b8b===_0x460ddc(0x83))&&(_0x414a23[_0x460ddc(0xd2)]=![]);break;case _0x460ddc(0xc1):_0x414a23=new CustomAmmeter(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case'Phasemeter':_0x414a23=new Phasemeter(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case _0x460ddc(0x104):_0x414a23=new Node(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case _0x460ddc(0xd5):_0x414a23=new Induction(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case _0x460ddc(0x93):_0x414a23=new Capacity(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case _0x460ddc(0xb4):_0x414a23=new Frequency(_0x1430d1,_0x4c3eb2,_0x2f3b8b);break;case'GroupLamp':_0x414a23=new GroupLamp(_0x1430d1,_0x4c3eb2,_0x2f3b8b,_0x8e2696);break;default:return null;}return _0x414a23[_0x460ddc(0xe1)]=parseInt(_0x598690),_0x414a23[_0x460ddc(0x118)]=_0x1aaf5d,_0x414a23;}function generateNewData(){const _0x2e65c1=_0x160e4d,_0xaf6d37=[];for(let _0x499344=0x5;_0x499344<=0x32;_0x499344+=0x5){_0xaf6d37[_0x2e65c1(0x14c)](_0x499344);}const _0x315cfd=[];for(let _0x134627=0x78;_0x134627<=0x9b;_0x134627+=0x5){_0x315cfd[_0x2e65c1(0x14c)](_0x134627);}let _0x8e221a=_0xaf6d37[Math[_0x2e65c1(0x109)](Math[_0x2e65c1(0x152)]()*_0xaf6d37[_0x2e65c1(0x139)])],_0x1fdd48=_0x315cfd[Math[_0x2e65c1(0x109)](Math[_0x2e65c1(0x152)]()*_0x315cfd[_0x2e65c1(0x139)])],_0x3a53cf={'C1':findElementByLabel('C1')};_0x3a53cf['C1'][_0x2e65c1(0x127)]=String(_0x8e221a),U_phase_mag=String(_0x1fdd48),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x41d18b=_0x160e4d,_0x57ca1c=0x226*SCALE_FACTOR,_0xe5d290=0x55*SCALE_FACTOR,_0x18b4e1=0x64*SCALE_FACTOR,_0x2828a5=0x3c*SCALE_FACTOR;if(mouseX>_0x57ca1c&&mouseX<_0x57ca1c+_0x18b4e1&&mouseY>_0xe5d290&&mouseY<_0xe5d290+_0x2828a5){if(isTogglingVisibility)return;isTogglingVisibility=!![],isC1CurrentlyVisible=!isC1CurrentlyVisible;const _0x5e060a=findElementByLabel('C1'),_0x486862=findElementByLabel('HLG1');_0x5e060a instanceof Capacity&&_0x486862 instanceof GroupLamp?(_0x5e060a[_0x41d18b(0x7f)](isC1CurrentlyVisible),_0x486862[_0x41d18b(0x7f)](!isC1CurrentlyVisible),_0x486862[_0x41d18b(0x87)](),calculateCircuit()):console[_0x41d18b(0x138)](_0x41d18b(0xb5));redraw(),clearTimeout(visibilityToggleTimer),visibilityToggleTimer=setTimeout(()=>{isTogglingVisibility=![];},VISIBILITY_TOGGLE_DELAY);return;}if(isCalculateButtonVisible){let _0x10e1b2=0x96*SCALE_FACTOR,_0x45c396=height-0x32*SCALE_FACTOR,_0x263fe5=0xc8*SCALE_FACTOR,_0x2bfc05=0x32*SCALE_FACTOR;if(mouseX>_0x10e1b2&&mouseX<_0x10e1b2+_0x263fe5&&mouseY>_0x45c396&&mouseY<_0x45c396+_0x2bfc05){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x27a90e=null,_0x4e1cfb=-0x1;for(let _0x1f39b0=elements[_0x41d18b(0x139)]-0x1;_0x1f39b0>=0x0;_0x1f39b0--){let _0x43e82a=elements[_0x1f39b0];if(_0x43e82a instanceof GroupLamp&&!_0x43e82a[_0x41d18b(0x9a)]||_0x43e82a instanceof Capacity&&!_0x43e82a[_0x41d18b(0x9a)])continue;if(_0x43e82a instanceof GroupLamp){_0x4e1cfb=_0x43e82a[_0x41d18b(0x86)](mouseX,mouseY);if(_0x4e1cfb!==-0x1){_0x27a90e=_0x43e82a;break;}}}if(_0x27a90e===null)for(let _0x14c367=elements[_0x41d18b(0x139)]-0x1;_0x14c367>=0x0;_0x14c367--){let _0x1dd440=elements[_0x14c367];if(_0x1dd440 instanceof GroupLamp&&!_0x1dd440['isVisible']||_0x1dd440 instanceof Capacity&&!_0x1dd440[_0x41d18b(0x9a)])continue;if(_0x1dd440 instanceof Node||_0x1dd440 instanceof StaticTextDisplay)continue;let _0x21e23a=![];if(typeof _0x1dd440['r']!==_0x41d18b(0xe2)&&!(_0x1dd440 instanceof GroupLamp))dist(mouseX,mouseY,_0x1dd440['x'],_0x1dd440['y'])<_0x1dd440['r']&&(_0x21e23a=!![]);else{if(typeof _0x1dd440['w']!=='undefined'&&typeof _0x1dd440['h']!==_0x41d18b(0xe2)){push(),translate(_0x1dd440['x'],_0x1dd440['y']);let _0x97dbd8=0x0;switch(_0x1dd440[_0x41d18b(0xe1)]){case 0x2:_0x97dbd8=PI/0x2;break;case 0x3:_0x97dbd8=PI;break;case 0x4:_0x97dbd8=0x3*PI/0x2;break;}let _0x4cb852=mouseX-_0x1dd440['x'],_0x4af746=mouseY-_0x1dd440['y'],_0x3894ce=_0x4cb852*cos(-_0x97dbd8)-_0x4af746*sin(-_0x97dbd8),_0x37a0f8=_0x4cb852*sin(-_0x97dbd8)+_0x4af746*cos(-_0x97dbd8);abs(_0x3894ce)<_0x1dd440['w']/0x2&&abs(_0x37a0f8)<_0x1dd440['h']/0x2&&(_0x21e23a=!![]),pop();}}if(_0x21e23a){_0x27a90e=_0x1dd440;break;}}if(_0x27a90e){let _0x22059c=millis(),_0x31c28e=_0x22059c-lastMousePressTime<DOUBLE_CLICK_THRESHOLD,_0x39ef77=_0x27a90e[_0x41d18b(0x118)]&&_0x27a90e['placedElementData'][_0x41d18b(0x10c)],_0x4d3fd5=![],_0x183d75=![];if(_0x27a90e instanceof GroupLamp&&_0x4e1cfb!==-0x1)_0x27a90e['toggleState'](_0x4e1cfb),_0x4d3fd5=!![],_0x183d75=!![];else{if(_0x31c28e){_0x4d3fd5=!![],_0x183d75=!![];if(_0x27a90e instanceof SwitchSPDT||_0x27a90e instanceof Switch)_0x27a90e[_0x41d18b(0xb3)]();else{if(_0x27a90e instanceof Resistor&&KirgofTest){let _0x4f56cc=prompt(_0x41d18b(0x145)+_0x27a90e[_0x41d18b(0x113)]+':',_0x27a90e[_0x41d18b(0x11a)]||'100');_0x4f56cc!==null&&!isNaN(parseFloat(_0x4f56cc))&&(_0x27a90e['resistance']=_0x4f56cc,calculateCircuit());}else{if(_0x27a90e instanceof AutotransformerLaboratory&&KirgofTest){let _0x5d6d88=prompt(_0x41d18b(0xde)+_0x27a90e[_0x41d18b(0x113)]+':',_0x27a90e[_0x41d18b(0xd1)]||'50');_0x5d6d88!==null&&!isNaN(parseFloat(_0x5d6d88))&&(_0x27a90e['voltage']=_0x5d6d88,calculateCircuit());}else{if(_0x27a90e instanceof Induction&&KirgofTest){let _0xd36c10=prompt(_0x41d18b(0xbf)+_0x27a90e[_0x41d18b(0x113)]+':',_0x27a90e[_0x41d18b(0x11b)]||'5');_0xd36c10!==null&&!isNaN(parseFloat(_0xd36c10))&&(_0x27a90e['induction']=_0xd36c10,calculateCircuit());}else{if(_0x27a90e instanceof Capacity){if(_0x27a90e[_0x41d18b(0x9a)]){let _0x4ef91e=prompt(_0x41d18b(0x8c)+_0x27a90e[_0x41d18b(0x113)]+':',_0x27a90e[_0x41d18b(0x127)]||'10');_0x4ef91e!==null&&!isNaN(parseFloat(_0x4ef91e))&&(_0x27a90e[_0x41d18b(0x127)]=_0x4ef91e,calculateCircuit());}}else{if(_0x27a90e instanceof Frequency&&KirgofTest){let _0x5222b9=prompt(_0x41d18b(0xe3)+_0x27a90e['label']+':',_0x27a90e[_0x41d18b(0xc3)]||'50');_0x5222b9!==null&&!isNaN(parseFloat(_0x5222b9))&&(_0x27a90e[_0x41d18b(0xc3)]=_0x5222b9,calculateCircuit());}}}}}}}}_0x39ef77&&(_0x183d75=!![]),!_0x183d75&&(draggedElement=_0x27a90e,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y']),lastMousePressTime=_0x22059c;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements['push'](draggedElement),canvasElementInstance=null,redraw(),lastMousePressTime=millis()):draggedElement=null;}else{draggedElement=null;if(canvasElementInstance){const _0x3645c3=canvasElementInstance[_0x41d18b(0x118)];if(_0x3645c3){}canvasElementInstance=null,redraw();}}}function mouseDragged(){const _0x5c403d=_0x160e4d;let _0x89dc93=canvasElementInstance||draggedElement;if(_0x89dc93){dragOffsetX=0x0,dragOffsetY=0x0;let _0x695a40=mouseX-dragOffsetX,_0x54ae99=mouseY-dragOffsetY,_0x5a6147=0x1e*SCALE_FACTOR,_0x21bba5=_0x5a6147,_0xe1eedd=_0x5a6147,_0x25e93c=width-_0x5a6147,_0x4184ab=height-_0x5a6147;_0x89dc93['x']=constrain(_0x695a40,_0x21bba5,_0x25e93c),_0x89dc93['y']=constrain(_0x54ae99,_0xe1eedd,_0x4184ab);if(_0x89dc93[_0x5c403d(0x118)]){let _0x312618=dist(_0x89dc93['x'],_0x89dc93['y'],_0x89dc93[_0x5c403d(0x118)]['targetX'],_0x89dc93[_0x5c403d(0x118)][_0x5c403d(0x9b)]),_0x20fdc3=Math['max'](0x0,Math['round'](_0x312618-SNAP_DISTANCE));distanceBox[_0x5c403d(0x11f)]=_0x5c403d(0xbb)+_0x20fdc3+_0x5c403d(0xd8);}else distanceBox[_0x5c403d(0x11f)]=_0x5c403d(0x12b);}}function mouseReleased(){const _0x2115b7=_0x160e4d;let _0x35af3d=null,_0x111b69;if(canvasElementInstance)elements[_0x2115b7(0x14c)](canvasElementInstance),_0x35af3d=canvasElementInstance['placedElementData'],_0x35af3d&&(_0x111b69=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x35af3d[_0x2115b7(0xf3)],_0x35af3d[_0x2115b7(0x9b)]),_0x111b69<=SNAP_DISTANCE&&!_0x35af3d[_0x2115b7(0x7c)]&&(canvasElementInstance['x']=_0x35af3d[_0x2115b7(0xf3)],canvasElementInstance['y']=_0x35af3d['targetY'],_0x35af3d[_0x2115b7(0x7c)]=!![],elementsPlacedCount++,_0x35af3d[_0x2115b7(0x10c)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x35af3d=draggedElement['placedElementData'],_0x111b69=_0x35af3d?dist(draggedElement['x'],draggedElement['y'],_0x35af3d['targetX'],_0x35af3d[_0x2115b7(0x9b)]):undefined;if(_0x35af3d){if(_0x111b69<=SNAP_DISTANCE&&!_0x35af3d[_0x2115b7(0x7c)])!_0x35af3d[_0x2115b7(0x7c)]&&(draggedElement['x']=_0x35af3d[_0x2115b7(0xf3)],draggedElement['y']=_0x35af3d[_0x2115b7(0x9b)],_0x35af3d[_0x2115b7(0x7c)]=!![],elementsPlacedCount++,_0x35af3d[_0x2115b7(0x10c)]=!![]);else _0x35af3d[_0x2115b7(0x7c)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x35af3d['placed']=![],elementsPlacedCount--,_0x35af3d[_0x2115b7(0x10c)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x2115b7(0x11f)]='',redraw();}function updateCounterDisplay(){const _0x5c02a2=_0x160e4d;counterBox[_0x5c02a2(0x11f)]=_0x5c02a2(0xe6)+(elementsToPlaceCount-elementsPlacedCount);if(elementsToPlaceCount-elementsPlacedCount<=0x0){counterBox['textContent']=_0x5c02a2(0x11c),isCalculateButtonVisible=!![],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31();const _0x112f35=findElementByLabel('C1'),_0x1fe24f=findElementByLabel(_0x5c02a2(0x14d));_0x112f35 instanceof Capacity&&_0x1fe24f instanceof GroupLamp&&(_0x112f35[_0x5c02a2(0x7f)](isC1CurrentlyVisible),_0x1fe24f[_0x5c02a2(0x7f)](!isC1CurrentlyVisible),_0x1fe24f[_0x5c02a2(0x87)]()),calculateCircuit();}else{isCalculateButtonVisible=![];const _0x5b4473=findElementByLabel('HLG1');_0x5b4473 instanceof GroupLamp&&_0x5b4473[_0x5c02a2(0x80)](![]);const _0xbea0e2=findElementByLabel('C1');if(_0xbea0e2 instanceof Capacity){}}redraw();}function showCorrectMessage(){const _0x30187f=_0x160e4d;messageBox[_0x30187f(0x11f)]=_0x30187f(0xbe),messageBox['classList'][_0x30187f(0x98)](_0x30187f(0xd4)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x5e1af9=_0x30187f;messageBox['classList'][_0x5e1af9(0xf7)](_0x5e1af9(0xd4));},0x7d0);}function polarToRect(_0x37796c,_0x119f87){const _0x405632=_0x160e4d,_0x16a74d=_0x119f87*Math['PI']/0xb4;return{'re':_0x37796c*Math['cos'](_0x16a74d),'im':_0x37796c*Math[_0x405632(0x8f)](_0x16a74d)};}function rectToPolar(_0x9cb76,_0x19cef4){const _0xd74a3a=_0x160e4d,_0x233d72=Math[_0xd74a3a(0xb0)](_0x9cb76*_0x9cb76+_0x19cef4*_0x19cef4);let _0x21511e=Math[_0xd74a3a(0xfc)](_0x19cef4,_0x9cb76),_0x43afdf=_0x21511e*0xb4/Math['PI'];return{'mag':_0x233d72,'ang':_0x43afdf};}function addPhasors(_0x269194,_0x6bbd69){return{'re':_0x269194['re']+_0x6bbd69['re'],'im':_0x269194['im']+_0x6bbd69['im']};}function subtractPhasors(_0x65a2e9,_0x161af5){return{'re':_0x65a2e9['re']-_0x161af5['re'],'im':_0x65a2e9['im']-_0x161af5['im']};}function multiplyPhasors(_0x2f1d22,_0x3125c7){return{'re':_0x2f1d22['re']*_0x3125c7['re']-_0x2f1d22['im']*_0x3125c7['im'],'im':_0x2f1d22['re']*_0x3125c7['im']+_0x2f1d22['im']*_0x3125c7['re']};}function dividePhasors(_0x5653e0,_0x196f1c){const _0x3ac9bd=_0x196f1c['re']*_0x196f1c['re']+_0x196f1c['im']*_0x196f1c['im'];if(Math['abs'](_0x3ac9bd)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':(_0x5653e0['re']*_0x196f1c['re']+_0x5653e0['im']*_0x196f1c['im'])/_0x3ac9bd,'im':(_0x5653e0['im']*_0x196f1c['re']-_0x5653e0['re']*_0x196f1c['im'])/_0x3ac9bd};}function invertPhasorRect(_0x172fc5){const _0x29143e=_0x160e4d,_0x39502d=_0x172fc5['re']*_0x172fc5['re']+_0x172fc5['im']*_0x172fc5['im'];if(Math[_0x29143e(0x144)](_0x39502d)<1e-9)return{'re':Infinity,'im':Infinity};return{'re':_0x172fc5['re']/_0x39502d,'im':-_0x172fc5['im']/_0x39502d};}function calculateCircuit(){const _0x4c7a45=_0x160e4d;if(elementsToPlaceCount-elementsPlacedCount>0x0&&!KirgofTest){warningMessageText=null,isBlinkingWarning=![],hideCalculationValues();const _0x7f7830=findElementByLabel(_0x4c7a45(0x130)),_0x4efae2=findElementByLabel(_0x4c7a45(0x13f)),_0x5510ab=findElementByLabel(_0x4c7a45(0x140)),_0x55ff64=findElementByLabel(_0x4c7a45(0x12f)),_0x4a711c=findElementByLabel(_0x4c7a45(0xb8)),_0x125fd2=findElementByLabel(_0x4c7a45(0x141));if(_0x7f7830)_0x7f7830[_0x4c7a45(0xb2)](_0x4c7a45(0x11e));if(_0x4efae2)_0x4efae2[_0x4c7a45(0xb2)](_0x4c7a45(0xae));if(_0x5510ab)_0x5510ab[_0x4c7a45(0xb2)]('Uca\x20=\x200.0\x20V');if(_0x55ff64)_0x55ff64[_0x4c7a45(0xb2)]('Ua\x20=\x200.0\x20V');if(_0x4a711c)_0x4a711c['setText'](_0x4c7a45(0x124));if(_0x125fd2)_0x125fd2[_0x4c7a45(0xb2)](_0x4c7a45(0x92));const _0x36d57c=findElementByLabel(_0x4c7a45(0x7b)),_0x482c16=findElementByLabel(_0x4c7a45(0x126)),_0x168ff3=findElementByLabel('PA3'),_0x508d6f=findElementByLabel(_0x4c7a45(0x81));if(_0x36d57c)displayCalculationValue(_0x36d57c,null,'bottom');if(_0x482c16)displayCalculationValue(_0x482c16,null,_0x4c7a45(0x149));if(_0x168ff3)displayCalculationValue(_0x168ff3,null,_0x4c7a45(0x149));if(_0x508d6f)displayCalculationValue(_0x508d6f,null,_0x4c7a45(0x149));return;}const _0x69eb06=0xe6,_0xf17312=0x32,_0x444128=0x2*Math['PI']*_0xf17312,_0x3159eb=0xe6,_0x505efb=parseFloat(U_phase_mag)||_0x3159eb/Math[_0x4c7a45(0xb0)](0x3),_0x2b38ba={'mag':_0x505efb,'ang':0x0},_0x50dc5e={'mag':_0x505efb,'ang':-0x78},_0x33ce01={'mag':_0x505efb,'ang':0x78},_0x25bbea=polarToRect(_0x2b38ba[_0x4c7a45(0xe7)],_0x2b38ba[_0x4c7a45(0xbc)]),_0x2e3f5c=polarToRect(_0x50dc5e[_0x4c7a45(0xe7)],_0x50dc5e['ang']),_0x240068=polarToRect(_0x33ce01['mag'],_0x33ce01[_0x4c7a45(0xbc)]),_0x249155=findElementByLabel(_0x4c7a45(0x14d)),_0x5584dc=findElementByLabel(_0x4c7a45(0x119)),_0x2f2fe2=findElementByLabel(_0x4c7a45(0xe9)),_0xb87b30=findElementByLabel('C1'),_0x266cf5=findElementByLabel(_0x4c7a45(0x122)),_0x272d85=findElementByLabel(_0x4c7a45(0x9e)),_0x18822a=findElementByLabel('SA3'),_0x7054fa=findElementByLabel(_0x4c7a45(0xc4)),_0x5040a2=findElementByLabel('SA12'),_0x1ddb30=findElementByLabel(_0x4c7a45(0x13c)),_0x2e48ab=findElementByLabel(_0x4c7a45(0x153)),_0x4209=findElementByLabel('SA4'),_0x37b261=findElementByLabel(_0x4c7a45(0x7b)),_0x571165=findElementByLabel('PA2'),_0x80ea73=findElementByLabel(_0x4c7a45(0xa1)),_0x1ee21c=findElementByLabel('PA4'),_0x316b61=findElementByLabel(_0x4c7a45(0x130)),_0x4622f4=findElementByLabel(_0x4c7a45(0x13f)),_0x28f7ca=findElementByLabel(_0x4c7a45(0x140)),_0x4f82be=findElementByLabel('Ua\x20='),_0x4df0fd=findElementByLabel(_0x4c7a45(0xb8)),_0x1031f2=findElementByLabel(_0x4c7a45(0x141));if(!_0x249155||!_0x5584dc||!_0x2f2fe2||!_0xb87b30||!_0x266cf5||!_0x272d85||!_0x18822a||!_0x7054fa||!_0x5040a2||!_0x1ddb30||!_0x2e48ab||!_0x4209||!_0x37b261||!_0x571165||!_0x80ea73||!_0x1ee21c||!_0x316b61||!_0x4622f4||!_0x28f7ca||!_0x4f82be||!_0x4df0fd||!_0x1031f2){console[_0x4c7a45(0x138)]('Не\x20вдалося\x20знайти\x20один\x20або\x20більше\x20необхідних\x20елементів\x20для\x20розрахунку.'),warningMessageText=_0x4c7a45(0xf8),isBlinkingWarning=!![],hideCalculationValues();if(_0x316b61)_0x316b61[_0x4c7a45(0xb2)]('Uab\x20=\x20Error');if(_0x4622f4)_0x4622f4[_0x4c7a45(0xb2)](_0x4c7a45(0x148));if(_0x28f7ca)_0x28f7ca[_0x4c7a45(0xb2)](_0x4c7a45(0xb1));if(_0x4f82be)_0x4f82be['setText']('Ua\x20=\x20Error');if(_0x4df0fd)_0x4df0fd[_0x4c7a45(0xb2)](_0x4c7a45(0xf5));if(_0x1031f2)_0x1031f2[_0x4c7a45(0xb2)]('Uc\x20=\x20Error');if(_0x37b261)displayCalculationValue(_0x37b261,_0x4c7a45(0xa2),_0x4c7a45(0x149));if(_0x571165)displayCalculationValue(_0x571165,'Ib\x20=\x20Error',_0x4c7a45(0x149));if(_0x80ea73)displayCalculationValue(_0x80ea73,'Ic\x20=\x20Error',_0x4c7a45(0x149));if(_0x1ee21c)displayCalculationValue(_0x1ee21c,_0x4c7a45(0xd0),'bottom');return;}hideCalculationValues();let _0xebf2be={'re':Infinity,'im':0x0},_0x93bf60={'re':Infinity,'im':0x0},_0x769df6={'re':Infinity,'im':0x0};const _0x5d0355=0.01,_0x87a591=_0x2fc23e=>{const _0x2f51c3=_0x4c7a45;if(!_0x2fc23e||!_0x2fc23e['isVisible']||!_0x2fc23e[_0x2f51c3(0xda)])return Infinity;const _0x2e445f=_0x2fc23e[_0x2f51c3(0xb6)];if(_0x2e445f<=0x0)return Infinity;let _0x26b599=0x0;for(const _0xa8426b of _0x2fc23e[_0x2f51c3(0x134)]){if(_0xa8426b['isActive'])_0x26b599++;}if(_0x26b599===0x0)return Infinity;const _0x4af42e=_0x69eb06*_0x69eb06/_0x2e445f;return _0x4af42e/_0x26b599;},_0x3699c6=!_0x7054fa[_0x4c7a45(0xd2)],_0x4ee69b=!_0x1ddb30[_0x4c7a45(0xd2)],_0x2a0b26=!_0x2e48ab[_0x4c7a45(0xd2)],_0x6e8ff5=!_0x5040a2[_0x4c7a45(0xd2)];if(_0x3699c6){if(_0x6e8ff5)_0xebf2be={'re':_0x5d0355,'im':0x0},_0x249155[_0x4c7a45(0xda)]&&_0x249155[_0x4c7a45(0x80)](![]);else{const _0x464466=_0x87a591(_0x249155);if(_0x249155[_0x4c7a45(0x9a)]&&_0x249155[_0x4c7a45(0xda)]&&_0x464466!==Infinity)_0xebf2be={'re':_0x464466,'im':0x0};else{if(_0xb87b30[_0x4c7a45(0x9a)]){const _0x2bed86=parseFloat(_0xb87b30[_0x4c7a45(0x127)])/0xf4240;_0x2bed86>0x0&&_0x444128>0x0&&(_0xebf2be={'re':0x0,'im':-0x1/(_0x444128*_0x2bed86)});}}!_0x249155[_0x4c7a45(0xda)]&&!_0x6e8ff5&&updateHlg1StateBasedOnSA1AndSA11();}}else _0x249155['isEnabled']&&_0x249155[_0x4c7a45(0x80)](![]);if(_0x4ee69b){const _0x26d5b7=_0x87a591(_0x5584dc);_0x5584dc[_0x4c7a45(0x9a)]&&_0x5584dc[_0x4c7a45(0xda)]&&_0x26d5b7!==Infinity&&(_0x93bf60={'re':_0x26d5b7,'im':0x0});}else _0x5584dc[_0x4c7a45(0xda)]&&_0x5584dc['setEnabled'](![]);if(_0x2a0b26){const _0x4d01c3=_0x87a591(_0x2f2fe2);_0x2f2fe2[_0x4c7a45(0x9a)]&&_0x2f2fe2[_0x4c7a45(0xda)]&&_0x4d01c3!==Infinity&&(_0x769df6={'re':_0x4d01c3,'im':0x0});}else _0x2f2fe2['isEnabled']&&_0x2f2fe2['setEnabled'](![]);let _0x4aee19={'re':0x0,'im':0x0},_0x5dcacf={'re':0x0,'im':0x0},_0x34a6f8={'re':0x0,'im':0x0},_0x185434={'re':0x0,'im':0x0},_0x5acf00={'re':0x0,'im':0x0},_0x1a5690={'re':0x0,'im':0x0},_0x27a18c={'re':0x0,'im':0x0};const _0x23401f=!_0x266cf5[_0x4c7a45(0xd2)],_0x4b60e8=!_0x272d85[_0x4c7a45(0xd2)],_0x322217=!_0x18822a[_0x4c7a45(0xd2)],_0x24af7f=!_0x4209[_0x4c7a45(0xd2)],_0x38d102=_0xebf2be['re']!==Infinity||_0xebf2be['im']!==0x0?invertPhasorRect(_0xebf2be):{'re':0x0,'im':0x0},_0x1e3a35=_0x93bf60['re']!==Infinity||_0x93bf60['im']!==0x0?invertPhasorRect(_0x93bf60):{'re':0x0,'im':0x0},_0x1028d2=_0x769df6['re']!==Infinity||_0x769df6['im']!==0x0?invertPhasorRect(_0x769df6):{'re':0x0,'im':0x0};let _0x441f18={'re':0x0,'im':0x0};if(!_0x24af7f){const _0x3099c0=_0x23401f?_0x38d102:{'re':0x0,'im':0x0},_0x208e98=_0x4b60e8?_0x1e3a35:{'re':0x0,'im':0x0},_0x20374a=_0x322217?_0x1028d2:{'re':0x0,'im':0x0},_0x2167f6=addPhasors(_0x3099c0,addPhasors(_0x208e98,_0x20374a));if(Math[_0x4c7a45(0x144)](_0x2167f6['re'])>1e-9||Math['abs'](_0x2167f6['im'])>1e-9){const _0x2a9f63=multiplyPhasors(_0x23401f?_0x25bbea:{'re':0x0,'im':0x0},_0x3099c0),_0x4eca8a=multiplyPhasors(_0x4b60e8?_0x2e3f5c:{'re':0x0,'im':0x0},_0x208e98),_0x2a0f02=multiplyPhasors(_0x322217?_0x240068:{'re':0x0,'im':0x0},_0x20374a),_0xadca34=addPhasors(_0x2a9f63,addPhasors(_0x4eca8a,_0x2a0f02));_0x441f18=dividePhasors(_0xadca34,_0x2167f6);}}_0x5acf00=_0x23401f?subtractPhasors(_0x25bbea,_0x441f18):{'re':0x0,'im':0x0},_0x1a5690=_0x4b60e8?subtractPhasors(_0x2e3f5c,_0x441f18):{'re':0x0,'im':0x0},_0x27a18c=_0x322217?subtractPhasors(_0x240068,_0x441f18):{'re':0x0,'im':0x0},_0x4aee19=_0x23401f&&(_0xebf2be['re']!==Infinity||_0xebf2be['im']!==0x0)?multiplyPhasors(_0x5acf00,_0x38d102):{'re':0x0,'im':0x0},_0x5dcacf=_0x4b60e8&&(_0x93bf60['re']!==Infinity||_0x93bf60['im']!==0x0)?multiplyPhasors(_0x1a5690,_0x1e3a35):{'re':0x0,'im':0x0},_0x34a6f8=_0x322217&&(_0x769df6['re']!==Infinity||_0x769df6['im']!==0x0)?multiplyPhasors(_0x27a18c,_0x1028d2):{'re':0x0,'im':0x0},_0x185434=addPhasors(_0x4aee19,addPhasors(_0x5dcacf,_0x34a6f8));if(!_0x24af7f){if(Math[_0x4c7a45(0x144)](_0x185434['re'])>1e-9||Math['abs'](_0x185434['im'])>1e-9){}_0x185434={'re':0x0,'im':0x0};}const _0x416d91=_0x23401f&&_0x3699c6&&_0x6e8ff5;if(_0x416d91&&_0x24af7f)warningMessageText=_0x4c7a45(0x108),isBlinkingWarning=!![];else!_0x24af7f?(warningMessageText='Нейтральний\x20провід\x20відімкнуто!',isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0):(warningMessageText=null,isBlinkingWarning=![],blinkState=!![],lastBlinkTime=0x0);let _0x4460bd={'re':0x0,'im':0x0},_0x24699a={'re':0x0,'im':0x0},_0x16de7d={'re':0x0,'im':0x0};_0x23401f&&(_0x4460bd=subtractPhasors(_0x25bbea,_0x441f18));_0x4b60e8&&(_0x24699a=subtractPhasors(_0x2e3f5c,_0x441f18));_0x322217&&(_0x16de7d=subtractPhasors(_0x240068,_0x441f18));const _0x3a3ceb=rectToPolar(_0x4460bd['re'],_0x4460bd['im']),_0x2a2e63=rectToPolar(_0x24699a['re'],_0x24699a['im']),_0x289d5b=rectToPolar(_0x16de7d['re'],_0x16de7d['im']);let _0x12a96b={'re':0x0,'im':0x0},_0x1b12fe={'re':0x0,'im':0x0},_0x4c3450={'re':0x0,'im':0x0};_0x12a96b=subtractPhasors(_0x4460bd,_0x24699a),_0x1b12fe=subtractPhasors(_0x24699a,_0x16de7d),_0x4c3450=subtractPhasors(_0x16de7d,_0x4460bd);const _0x33179b=rectToPolar(_0x12a96b['re'],_0x12a96b['im']),_0x9ffcb7=rectToPolar(_0x1b12fe['re'],_0x1b12fe['im']),_0x3743bd=rectToPolar(_0x4c3450['re'],_0x4c3450['im']),_0x45f070=rectToPolar(_0x4aee19['re'],_0x4aee19['im']),_0x2eb36c=rectToPolar(_0x5dcacf['re'],_0x5dcacf['im']),_0x2e427e=rectToPolar(_0x34a6f8['re'],_0x34a6f8['im']),_0x51f558=rectToPolar(_0x185434['re'],_0x185434['im']),_0x1926c1=(_0x73fb32,_0x2f8d4d,_0x3d739d=0x1)=>{const _0x14b69d=_0x4c7a45;if(isNaN(_0x73fb32)||!isFinite(_0x73fb32))return'---\x20'+_0x2f8d4d;if(Math[_0x14b69d(0x144)](_0x73fb32)<0.001)_0x73fb32=0x0;if(_0x2f8d4d==='A'){if(Math['abs'](_0x73fb32)>0x270f)return _0x14b69d(0xf2);_0x3d739d=0x2;}else _0x2f8d4d==='V'&&(_0x3d739d=Math[_0x14b69d(0x144)](_0x73fb32)<0xa?0x2:0x1);return _0x73fb32[_0x14b69d(0x105)](_0x3d739d)+'\x20'+_0x2f8d4d;};displayCalculationValue(_0x37b261,_0x4c7a45(0xe5)+_0x1926c1(_0x45f070[_0x4c7a45(0xe7)],'A'),_0x4c7a45(0x149)),displayCalculationValue(_0x571165,_0x4c7a45(0xaf)+_0x1926c1(_0x2eb36c[_0x4c7a45(0xe7)],'A'),'bottom'),displayCalculationValue(_0x80ea73,_0x4c7a45(0x13e)+_0x1926c1(_0x2e427e[_0x4c7a45(0xe7)],'A'),_0x4c7a45(0x149)),displayCalculationValue(_0x1ee21c,_0x4c7a45(0x121)+_0x1926c1(_0x51f558[_0x4c7a45(0xe7)],'A'),_0x4c7a45(0x149)),_0x316b61['setText']('Uab\x20=\x20'+_0x1926c1(_0x33179b[_0x4c7a45(0xe7)],'V')),_0x4622f4[_0x4c7a45(0xb2)]('Ubc\x20=\x20'+_0x1926c1(_0x9ffcb7['mag'],'V')),_0x28f7ca[_0x4c7a45(0xb2)](_0x4c7a45(0xfa)+_0x1926c1(_0x3743bd['mag'],'V')),_0x4f82be[_0x4c7a45(0xb2)]('Ua\x20=\x20'+_0x1926c1(_0x3a3ceb[_0x4c7a45(0xe7)],'V')),_0x4df0fd[_0x4c7a45(0xb2)](_0x4c7a45(0x13b)+_0x1926c1(_0x2a2e63[_0x4c7a45(0xe7)],'V')),_0x1031f2[_0x4c7a45(0xb2)](_0x4c7a45(0x100)+_0x1926c1(_0x289d5b[_0x4c7a45(0xe7)],'V'));if(isBlinkingWarning){let _0x6500d6=millis();_0x6500d6-lastBlinkTime>BLINK_INTERVAL&&(blinkState=!blinkState,lastBlinkTime=_0x6500d6);}else blinkState=!![];}function findElementByLabel(_0x43ccb8){const _0x338ed6=_0x160e4d;for(const _0x4ce707 of elements){if(_0x4ce707[_0x338ed6(0x113)]===_0x43ccb8)return _0x4ce707;}if(_0x43ccb8===_0x338ed6(0x130))return elements['find'](_0x2006d9=>_0x2006d9 instanceof StaticTextDisplay&&_0x2006d9['text'][_0x338ed6(0xc6)](_0x338ed6(0x130)));if(_0x43ccb8===_0x338ed6(0x13f))return elements[_0x338ed6(0xef)](_0x394bf1=>_0x394bf1 instanceof StaticTextDisplay&&_0x394bf1[_0x338ed6(0x9d)][_0x338ed6(0xc6)](_0x338ed6(0x13f)));if(_0x43ccb8===_0x338ed6(0x140))return elements[_0x338ed6(0xef)](_0x527317=>_0x527317 instanceof StaticTextDisplay&&_0x527317[_0x338ed6(0x9d)][_0x338ed6(0xc6)](_0x338ed6(0x140)));if(_0x43ccb8==='Ua\x20=')return elements[_0x338ed6(0xef)](_0xb318f1=>_0xb318f1 instanceof StaticTextDisplay&&_0xb318f1['text'][_0x338ed6(0xc6)](_0x338ed6(0x12f)));if(_0x43ccb8===_0x338ed6(0xb8))return elements[_0x338ed6(0xef)](_0x28951c=>_0x28951c instanceof StaticTextDisplay&&_0x28951c[_0x338ed6(0x9d)][_0x338ed6(0xc6)](_0x338ed6(0xb8)));if(_0x43ccb8===_0x338ed6(0x141))return elements[_0x338ed6(0xef)](_0x16b633=>_0x16b633 instanceof StaticTextDisplay&&_0x16b633[_0x338ed6(0x9d)]['startsWith'](_0x338ed6(0x141)));return null;}function displayCalculationValue(_0x3f9782,_0x2b9e81,_0x201af3){const _0x5989f=_0x160e4d;if(!_0x3f9782||typeof _0x3f9782['x']===_0x5989f(0xe2)||typeof _0x3f9782['y']==='undefined'){console[_0x5989f(0x138)](_0x5989f(0x8a),_0x3f9782);return;}push(),translate(_0x3f9782['x'],_0x3f9782['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x201af3===_0x5989f(0x149)?TOP:BOTTOM);let _0x12513a=0x0;if(_0x3f9782 instanceof CustomAmmeter||_0x3f9782 instanceof Frequency)_0x12513a=(_0x201af3===_0x5989f(0x149)?_0x3f9782['r']+0xa:-_0x3f9782['r']-0x19)*SCALE_FACTOR;else{if(_0x3f9782 instanceof Phasemeter)_0x12513a=(_0x201af3===_0x5989f(0x149)?_0x3f9782['r']+0xa:-_0x3f9782['r']-0x19)*SCALE_FACTOR;else{if(_0x3f9782 instanceof Resistor)_0x12513a=(_0x201af3===_0x5989f(0x151)?-_0x3f9782['h']/0x2-0xf:_0x3f9782['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x3f9782 instanceof AutotransformerLaboratory)_0x12513a=(_0x201af3===_0x5989f(0x151)?-_0x3f9782['h']/0x2-0x23:_0x3f9782['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x3f9782 instanceof Induction)_0x12513a=(_0x201af3==='top'?-_0x3f9782['h']/0x2-0xf:_0x3f9782['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x3f9782 instanceof Capacity)_0x12513a=(_0x201af3===_0x5989f(0x151)?-_0x3f9782['h']/0x2-0xf:_0x3f9782['h']/0x2+0x14)*SCALE_FACTOR;else _0x3f9782 instanceof Lamp&&(_0x12513a=(_0x201af3===_0x5989f(0x151)?-_0x3f9782['h']/0x2-0xf:_0x3f9782['h']/0x2+0x14)*SCALE_FACTOR);}}}}}text(_0x2b9e81,0x0,_0x12513a),pop(),_0x3f9782[_0x5989f(0x150)]=_0x2b9e81;}function hideCalculationValues(){const _0x28d285=_0x160e4d;redraw(),elements[_0x28d285(0xc0)](_0x37014b=>{const _0x537316=_0x28d285;_0x37014b[_0x537316(0x150)]=null;});}class CircuitElement{constructor(_0x26c220,_0x3e40a0){const _0x1b00c9=_0x160e4d;this['x']=_0x26c220,this['y']=_0x3e40a0,this['orientation']=0x1,this[_0x1b00c9(0xe4)]=[],this[_0x1b00c9(0x91)]=![],this['placedElementData']=null,this[_0x1b00c9(0x150)]=null;}[_0x160e4d(0xcb)](){}[_0x160e4d(0x10f)](){const _0x53ff49=_0x160e4d;push(),translate(this['x'],this['y']);let _0x29a08c=0x0;switch(this['orientation']){case 0x2:_0x29a08c=PI/0x2;break;case 0x3:_0x29a08c=PI;break;case 0x4:_0x29a08c=0x3*PI/0x2;break;default:_0x29a08c=0x0;}rotate(_0x29a08c);if(this[_0x53ff49(0x150)]!==null){stroke('lightgray'),fill(_0x53ff49(0x9f)),textSize(0xf*SCALE_FACTOR);let _0x2b3fb7=textWidth(this[_0x53ff49(0x150)]);rectMode(CENTER);let _0x577ff9=-0xa*SCALE_FACTOR,_0xb5c86f=0x28*SCALE_FACTOR,_0x2393a5=0x2*SCALE_FACTOR,_0x321387=0x2*SCALE_FACTOR;rect(_0x577ff9,_0xb5c86f,_0x2b3fb7+_0x2393a5*0x2,0x14*SCALE_FACTOR+_0x321387*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x53ff49(0x150)],_0x577ff9,_0xb5c86f);}}[_0x160e4d(0x8e)](){rotate(0x0),pop();}[_0x160e4d(0xec)](){const _0x4413a3=_0x160e4d;this['connectors'][_0x4413a3(0xc0)](_0x13f0a7=>{const _0x51b37e=_0x4413a3;_0x13f0a7['x']=this['x']+cos(this[_0x51b37e(0x137)]())*_0x13f0a7[_0x51b37e(0x114)]-sin(this[_0x51b37e(0x137)]())*_0x13f0a7[_0x51b37e(0x112)],_0x13f0a7['y']=this['y']+sin(this[_0x51b37e(0x137)]())*_0x13f0a7[_0x51b37e(0x114)]+cos(this['rotationAngle']())*_0x13f0a7[_0x51b37e(0x112)];});}['rotationAngle'](){const _0x4f8f0a=_0x160e4d;switch(this[_0x4f8f0a(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x49b13b,_0x484951,_0x14dfc1){const _0x46a33a=_0x160e4d;super(_0x49b13b,_0x484951),this['r']=0x14*SCALE_FACTOR,this['label']=_0x14dfc1,this[_0x46a33a(0xd1)]='12',this[_0x46a33a(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x46a33a(0xe4)][_0x46a33a(0xc0)](_0x45472c=>{const _0x4016c2=_0x46a33a;_0x45472c[_0x4016c2(0x114)]*=SCALE_FACTOR;}),this[_0x46a33a(0x136)]=![];}[_0x160e4d(0x82)](_0x5f29e3){const _0xa943dd=_0x160e4d;_0x5f29e3[_0xa943dd(0xcf)](0x1*SCALE_FACTOR),_0x5f29e3['stroke'](0x0),_0x5f29e3['fill'](0xff),_0x5f29e3[_0xa943dd(0x14e)](0x0,0x0,this['r']*1.5),_0x5f29e3[_0xa943dd(0xff)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x5f29e3[_0xa943dd(0xff)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x5f29e3[_0xa943dd(0xff)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x5f29e3[_0xa943dd(0x116)](),_0x5f29e3[_0xa943dd(0xfb)](0x0),_0x5f29e3['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x5f29e3[_0xa943dd(0x9d)](this['label'],0x0,this['r']*1.3);}[_0x160e4d(0x10f)](){const _0x1fd081=_0x160e4d;super[_0x1fd081(0x10f)]();let _0x4bac47=0x1*SCALE_FACTOR,_0x22a142=0x2*_0x4bac47;this[_0x1fd081(0x136)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x22a142),fill(0xff)):(stroke(0x0),strokeWeight(_0x4bac47),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x1fd081(0x136)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x1fd081(0x113)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this[_0x1fd081(0xd1)]+'\x20В',this['r']*1.4,this['r']*0.9),super['postDisplay'](),this['updateConnectors']();}[_0x160e4d(0x137)](){const _0x373466=_0x160e4d;switch(this[_0x373466(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x54033b,_0x45caee,_0x339612){const _0x339286=_0x160e4d;super(_0x54033b,_0x45caee),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x339286(0x113)]=_0x339612,this[_0x339286(0x11a)]='100',this[_0x339286(0xc7)]=0x0,this[_0x339286(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x339286(0xe4)][_0x339286(0xc0)](_0x433fa2=>{_0x433fa2['originalX']*=SCALE_FACTOR;});}[_0x160e4d(0x82)](_0x2148ac){const _0x36f7a5=_0x160e4d;_0x2148ac[_0x36f7a5(0xcf)](0x1*SCALE_FACTOR),_0x2148ac['stroke'](0x0),_0x2148ac['fill'](0xc8,0x96,0x64),_0x2148ac[_0x36f7a5(0xce)](CENTER),_0x2148ac['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x2148ac[_0x36f7a5(0x116)](),_0x2148ac[_0x36f7a5(0xfb)](0x0),_0x2148ac[_0x36f7a5(0x14a)](CENTER,CENTER),_0x2148ac[_0x36f7a5(0xa4)](0x8*SCALE_FACTOR),_0x2148ac[_0x36f7a5(0x9d)](this['label'],0x0,0x0);}[_0x160e4d(0x10f)](){const _0x52b784=_0x160e4d;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x52b784(0x113)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['resistance']+_0x52b784(0x132),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super[_0x52b784(0x8e)](),this['updateConnectors']();}[_0x160e4d(0xec)](){this['connectors']['forEach'](_0x5dd99a=>{const _0x3863c5=_0x3fe2;_0x5dd99a['x']=this['x']+cos(this[_0x3863c5(0x137)]())*_0x5dd99a[_0x3863c5(0x114)]-sin(this[_0x3863c5(0x137)]())*_0x5dd99a[_0x3863c5(0x112)],_0x5dd99a['y']=this['y']+sin(this['rotationAngle']())*_0x5dd99a['originalX']+cos(this[_0x3863c5(0x137)]())*_0x5dd99a[_0x3863c5(0x112)];});}[_0x160e4d(0x137)](){const _0x2fb928=_0x160e4d;switch(this[_0x2fb928(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x413225,_0x174fde,_0x2e9d78){const _0x441f49=_0x160e4d;super(_0x413225,_0x174fde),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x441f49(0x142)](this['w'],this['h'])/0x2,this['label']=_0x2e9d78,this['capacity']='9',this[_0x441f49(0x9a)]=!![],this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x441f49(0xe4)][_0x441f49(0xc0)](_0xc59a73=>{const _0x202463=_0x441f49;_0xc59a73[_0x202463(0x114)]*=SCALE_FACTOR;});}[_0x160e4d(0x7f)](_0x13b773){const _0x5357a5=_0x160e4d;if(_0x13b773===this[_0x5357a5(0x9a)])return;this[_0x5357a5(0x9a)]=_0x13b773,redraw();}[_0x160e4d(0x82)](_0x5a9882){const _0x4889d9=_0x160e4d;_0x5a9882[_0x4889d9(0xcf)](0x1*SCALE_FACTOR),_0x5a9882[_0x4889d9(0xab)](0x0),_0x5a9882[_0x4889d9(0xff)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x5a9882[_0x4889d9(0xff)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x5a9882[_0x4889d9(0xff)](this['w']/0x5,0x0,this['w'],0x0),_0x5a9882[_0x4889d9(0xff)](-this['w']/0x5,0x0,-this['w'],0x0),_0x5a9882[_0x4889d9(0x116)](),_0x5a9882[_0x4889d9(0xfb)](0x0),_0x5a9882[_0x4889d9(0x14a)](CENTER,CENTER),_0x5a9882['textSize'](0x8*SCALE_FACTOR),_0x5a9882[_0x4889d9(0x9d)](this[_0x4889d9(0x113)],-this['w']/0x2,-this['h']*0.5);}[_0x160e4d(0x10f)](){const _0x5a23c4=_0x160e4d;if(!this[_0x5a23c4(0x9a)])return;super[_0x5a23c4(0x10f)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,0x5*this['w'],0x0),line(-this['w']/0x5,0x0,-0x5*this['w'],0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x5a23c4(0x113)],-this['w']/0x2,-this['h']*0.75),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x5a23c4(0x127)]+'\x20мкФ',0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x5a23c4(0x8e)](),this[_0x5a23c4(0xec)]();}[_0x160e4d(0xec)](){const _0x331e75=_0x160e4d;this[_0x331e75(0xe4)][_0x331e75(0xc0)](_0x16586=>{const _0x5a9b43=_0x331e75;_0x16586['x']=this['x']+cos(this[_0x5a9b43(0x137)]())*_0x16586[_0x5a9b43(0x114)]-sin(this['rotationAngle']())*_0x16586[_0x5a9b43(0x112)],_0x16586['y']=this['y']+sin(this['rotationAngle']())*_0x16586[_0x5a9b43(0x114)]+cos(this['rotationAngle']())*_0x16586[_0x5a9b43(0x112)];});}['rotationAngle'](){const _0x227bcb=_0x160e4d;switch(this[_0x227bcb(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x42d0a7,_0x1daf49,_0x3fe0fc){const _0x2aff2a=_0x160e4d;super(_0x42d0a7,_0x1daf49),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this['label']=_0x3fe0fc,this[_0x2aff2a(0xc3)]='50',this[_0x2aff2a(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors']['forEach'](_0xf7d305=>{const _0x15adaa=_0x2aff2a;_0xf7d305[_0x15adaa(0x114)]*=SCALE_FACTOR;});}['displayPalette'](_0x2c3d69){const _0x5b4d1f=_0x160e4d;_0x2c3d69['strokeWeight'](0x1*SCALE_FACTOR),_0x2c3d69['stroke'](0x0),_0x2c3d69[_0x5b4d1f(0xfb)](0xdc),_0x2c3d69['circle'](0x0,0x0,this['r']*1.5),_0x2c3d69[_0x5b4d1f(0x116)](),_0x2c3d69[_0x5b4d1f(0xfb)](0x0),_0x2c3d69['textAlign'](CENTER,CENTER),_0x2c3d69[_0x5b4d1f(0xa4)](0x8*SCALE_FACTOR),_0x2c3d69[_0x5b4d1f(0x9d)](this[_0x5b4d1f(0x113)],this['r']*0.6,this['r']*1.3);}[_0x160e4d(0x10f)](){const _0x287c36=_0x160e4d;super[_0x287c36(0x10f)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x287c36(0x113)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x287c36(0xc3)]+_0x287c36(0x97),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x287c36(0x8e)](),this[_0x287c36(0xec)]();}[_0x160e4d(0xec)](){const _0x514693=_0x160e4d;this[_0x514693(0xe4)][_0x514693(0xc0)](_0xcf5b86=>{const _0x51b912=_0x514693;_0xcf5b86['x']=this['x']+cos(this[_0x51b912(0x137)]())*_0xcf5b86['originalX']-sin(this[_0x51b912(0x137)]())*_0xcf5b86[_0x51b912(0x112)],_0xcf5b86['y']=this['y']+sin(this[_0x51b912(0x137)]())*_0xcf5b86['originalX']+cos(this['rotationAngle']())*_0xcf5b86[_0x51b912(0x112)];});}[_0x160e4d(0x137)](){const _0x11f8c4=_0x160e4d;switch(this[_0x11f8c4(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x33d45a,_0x5012f2,_0x2fa8bc){const _0x343efd=_0x160e4d;super(_0x33d45a,_0x5012f2),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x343efd(0x142)](this['w'],this['h'])/0x2,this[_0x343efd(0x113)]=_0x2fa8bc,this[_0x343efd(0x11b)]='440',this[_0x343efd(0xc7)]=0x0,this[_0x343efd(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x343efd(0xe4)]['forEach'](_0x5b0ca7=>{_0x5b0ca7['originalX']*=SCALE_FACTOR;});}[_0x160e4d(0x82)](_0x2ce526){const _0x44f62b=_0x160e4d;_0x2ce526[_0x44f62b(0xcf)](0x1*SCALE_FACTOR),_0x2ce526[_0x44f62b(0xab)](0x0);let _0x15b18d=this['h']*0.25,_0x41e99c=this['w']*0.6,_0x530a06=-_0x41e99c/0x2,_0x1c84e5=0x0,_0x5e3ea2=_0x41e99c/0x3;_0x2ce526[_0x44f62b(0x14f)]();const _0x262355=0x3;for(let _0x41867e=0x0;_0x41867e<_0x262355;_0x41867e++){let _0x32beca=_0x530a06+_0x41867e*_0x5e3ea2;_0x2ce526[_0x44f62b(0x10e)](_0x32beca+_0x5e3ea2/0x2,_0x1c84e5,_0x5e3ea2,_0x15b18d,PI,0x0);}_0x2ce526[_0x44f62b(0xff)](_0x530a06,0x0,_0x530a06-0xa,0x0),_0x2ce526[_0x44f62b(0xff)](_0x41e99c/0x2,0x0,_0x41e99c/0x2+0xa,0x0),_0x2ce526[_0x44f62b(0x116)](),_0x2ce526[_0x44f62b(0xfb)](0x0),_0x2ce526[_0x44f62b(0x14a)](CENTER,CENTER),_0x2ce526[_0x44f62b(0xa4)](0x8*SCALE_FACTOR),_0x2ce526[_0x44f62b(0x9d)](this[_0x44f62b(0x113)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x160e4d(0x10f)](){const _0x183957=_0x160e4d;super[_0x183957(0x10f)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0xaced8=this['h']*0.25,_0x4eaf8c=this['w']*0.6,_0x5b5df9=-_0x4eaf8c/0x2,_0x4a29e5=0x0,_0x2c99f6=_0x4eaf8c/0x3;noFill();const _0x5a6980=0x3;for(let _0x2881c8=0x0;_0x2881c8<_0x5a6980;_0x2881c8++){let _0x20b938=_0x5b5df9+_0x2881c8*_0x2c99f6;arc(_0x20b938+_0x2c99f6/0x2,_0x4a29e5,_0x2c99f6,_0xaced8,PI,0x0);}line(_0x5b5df9,0x0,_0x5b5df9-_0x4eaf8c/0x3,0x0),line(_0x4eaf8c/0x2,0x0,_0x4eaf8c*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x183957(0x113)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x183957(0x11b)]+_0x183957(0xa7),0x0,this['h']/0xa)),super[_0x183957(0x8e)](),this[_0x183957(0xec)]();}[_0x160e4d(0xec)](){this['connectors']['forEach'](_0x39c63c=>{const _0x6ae60f=_0x3fe2;_0x39c63c['x']=this['x']+cos(this[_0x6ae60f(0x137)]())*_0x39c63c[_0x6ae60f(0x114)]-sin(this[_0x6ae60f(0x137)]())*_0x39c63c[_0x6ae60f(0x112)],_0x39c63c['y']=this['y']+sin(this['rotationAngle']())*_0x39c63c[_0x6ae60f(0x114)]+cos(this[_0x6ae60f(0x137)]())*_0x39c63c[_0x6ae60f(0x112)];});}[_0x160e4d(0x137)](){const _0x21f9fa=_0x160e4d;switch(this[_0x21f9fa(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x4e3837,_0x5abd17,_0x412d78){const _0x36ca82=_0x160e4d;super(_0x4e3837,_0x5abd17),this['r']=0x11*SCALE_FACTOR,this[_0x36ca82(0x113)]=_0x412d78,this[_0x36ca82(0xa6)]=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x36ca82(0xe4)][_0x36ca82(0xc0)](_0x34f5f8=>{const _0x52d9ea=_0x36ca82;_0x34f5f8[_0x52d9ea(0x114)]*=SCALE_FACTOR;});}[_0x160e4d(0x82)](_0x6d7ff1){const _0xe4d2d8=_0x160e4d;_0x6d7ff1[_0xe4d2d8(0xcf)](0x1*SCALE_FACTOR),_0x6d7ff1['stroke'](0x0),_0x6d7ff1['fill'](0xdc),_0x6d7ff1[_0xe4d2d8(0x14e)](0x0,0x0,this['r']*1.5),_0x6d7ff1[_0xe4d2d8(0x116)](),_0x6d7ff1[_0xe4d2d8(0xfb)](0x0),_0x6d7ff1[_0xe4d2d8(0x14a)](CENTER,CENTER),_0x6d7ff1[_0xe4d2d8(0xa4)](0x8*SCALE_FACTOR),_0x6d7ff1['text'](this[_0xe4d2d8(0x113)],this['r']*0.6,this['r']*1.3);}[_0x160e4d(0x10f)](){const _0xfd0c22=_0x160e4d;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0xfd0c22(0x113)],0x0,0x0),super[_0xfd0c22(0x8e)](),this[_0xfd0c22(0xec)]();}[_0x160e4d(0xec)](){const _0x554149=_0x160e4d;this[_0x554149(0xe4)][_0x554149(0xc0)](_0x35d13a=>{const _0x31d2e7=_0x554149;_0x35d13a['x']=this['x']+cos(this['rotationAngle']())*_0x35d13a[_0x31d2e7(0x114)]-sin(this[_0x31d2e7(0x137)]())*_0x35d13a[_0x31d2e7(0x112)],_0x35d13a['y']=this['y']+sin(this[_0x31d2e7(0x137)]())*_0x35d13a[_0x31d2e7(0x114)]+cos(this['rotationAngle']())*_0x35d13a[_0x31d2e7(0x112)];});}[_0x160e4d(0x137)](){const _0xd97f91=_0x160e4d;switch(this[_0xd97f91(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x3bba5f,_0x2c37ea,_0x45c091){const _0x37d701=_0x160e4d;super(_0x3bba5f,_0x2c37ea),this['r']=0x11*SCALE_FACTOR,this[_0x37d701(0x113)]=_0x45c091,this[_0x37d701(0x111)]=0x0,this[_0x37d701(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x37d701(0xe4)][_0x37d701(0xc0)](_0x4cab43=>{const _0x3420a8=_0x37d701;_0x4cab43[_0x3420a8(0x114)]*=SCALE_FACTOR;});}[_0x160e4d(0x82)](_0x4bb58d){const _0x2eed58=_0x160e4d;_0x4bb58d['strokeWeight'](0x1*SCALE_FACTOR),_0x4bb58d[_0x2eed58(0xab)](0x0),_0x4bb58d[_0x2eed58(0xfb)](0xdc),_0x4bb58d[_0x2eed58(0x14e)](0x0,0x0,this['r']*0x1);const _0x17694a=0.8;_0x4bb58d[_0x2eed58(0xff)](-this['r']*_0x17694a,0x0,this['r']*_0x17694a,0x0),_0x4bb58d[_0x2eed58(0xff)](0x0,-this['r']*_0x17694a,0x0,this['r']*_0x17694a),_0x4bb58d[_0x2eed58(0xff)](0x0,-this['r']*_0x17694a,-this['r']*_0x17694a,-this['r']*_0x17694a),_0x4bb58d[_0x2eed58(0xff)](-this['r']*_0x17694a,-this['r']*_0x17694a,-this['r']*_0x17694a,0x0),_0x4bb58d['fill'](0x0),_0x4bb58d[_0x2eed58(0x14e)](0x0,this['r']*_0x17694a,this['r']*0.2),_0x4bb58d[_0x2eed58(0x14e)](-this['r']*_0x17694a,0x0,this['r']*0.2),_0x4bb58d['circle'](0x0,-this['r']*_0x17694a,this['r']*0.2),_0x4bb58d[_0x2eed58(0x116)](),_0x4bb58d['fill'](0x0),_0x4bb58d[_0x2eed58(0x14a)](CENTER,CENTER),_0x4bb58d[_0x2eed58(0xa4)](0xa*SCALE_FACTOR),_0x4bb58d['text'](this[_0x2eed58(0x113)],this['r']*_0x17694a,-this['r']*_0x17694a);}[_0x160e4d(0x10f)](){const _0x388c78=_0x160e4d;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this[_0x388c78(0x113)],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x388c78(0x8e)](),this[_0x388c78(0xec)]();}['updateConnectors'](){const _0x348689=_0x160e4d;this[_0x348689(0xe4)][_0x348689(0xc0)](_0x4eba71=>{const _0x30f142=_0x348689;_0x4eba71['x']=this['x']+cos(this['rotationAngle']())*_0x4eba71[_0x30f142(0x114)]-sin(this[_0x30f142(0x137)]())*_0x4eba71[_0x30f142(0x112)],_0x4eba71['y']=this['y']+sin(this[_0x30f142(0x137)]())*_0x4eba71[_0x30f142(0x114)]+cos(this[_0x30f142(0x137)]())*_0x4eba71[_0x30f142(0x112)];});}[_0x160e4d(0x137)](){const _0x3d665c=_0x160e4d;switch(this[_0x3d665c(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x20f561,_0x3dd17a,_0x20eb9f=''){const _0x80a81b=_0x160e4d;super(_0x20f561,_0x3dd17a),this['r']=0x14*SCALE_FACTOR,this[_0x80a81b(0x113)]=_0x20eb9f,this[_0x80a81b(0xd6)]=0x3,this[_0x80a81b(0xe4)]=this[_0x80a81b(0x8d)]();}[_0x160e4d(0x8d)](){const _0x56922d=_0x160e4d;let _0x210569=[];switch(this[_0x56922d(0xd6)]){case 0x1:_0x210569=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x210569=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x210569=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x210569=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x210569=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x210569[_0x56922d(0xc0)](_0x3ff7ff=>{const _0x22d539=_0x56922d;_0x3ff7ff[_0x22d539(0x114)]*=SCALE_FACTOR,_0x3ff7ff['originalY']*=SCALE_FACTOR;}),_0x210569;}[_0x160e4d(0x82)](_0x260bc9){const _0x479316=_0x160e4d;_0x260bc9['strokeWeight'](1.5*SCALE_FACTOR),_0x260bc9[_0x479316(0xab)](0x0);let _0x43e0d7=this['r']*0.75;_0x260bc9['line'](0x0,-_0x43e0d7,0x0,_0x43e0d7),_0x260bc9[_0x479316(0xff)](-_0x43e0d7,0x0,_0x43e0d7,0x0);}['display'](){const _0x58d3b2=_0x160e4d;super[_0x58d3b2(0x10f)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x46495c=this['r']*1.5;switch(this['angleMode']){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x46495c,0x0,0x0),line(-_0x46495c,0x0,_0x46495c,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,_0x46495c+0x5*SCALE_FACTOR),super[_0x58d3b2(0x8e)](),this['updateConnectors']();}[_0x160e4d(0xcb)](){const _0x1071e8=_0x160e4d;this[_0x1071e8(0xd6)]=Math[_0x1071e8(0x7d)](this[_0x1071e8(0xf6)]),this[_0x1071e8(0xe4)]=this[_0x1071e8(0x8d)]();}[_0x160e4d(0xec)](){const _0x2a2f0a=_0x160e4d;this[_0x2a2f0a(0xe4)][_0x2a2f0a(0xc0)](_0x15436a=>{const _0x54f8a8=_0x2a2f0a;_0x15436a['x']=this['x']+cos(this[_0x54f8a8(0x137)]())*_0x15436a['originalX']-sin(this[_0x54f8a8(0x137)]())*_0x15436a['originalY'],_0x15436a['y']=this['y']+sin(this[_0x54f8a8(0x137)]())*_0x15436a[_0x54f8a8(0x114)]+cos(this['rotationAngle']())*_0x15436a['originalY'];});}[_0x160e4d(0x137)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x5b8ae4,_0x584fbf,_0x4debd8){const _0x29eba7=_0x160e4d;super(_0x5b8ae4,_0x584fbf),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x29eba7(0x113)]=_0x4debd8,this[_0x29eba7(0xca)]=0x2,this[_0x29eba7(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x29eba7(0xe4)][_0x29eba7(0xc0)](_0x3dcc50=>{const _0x573dc5=_0x29eba7;_0x3dcc50['originalX']*=SCALE_FACTOR,_0x3dcc50[_0x573dc5(0x112)]*=SCALE_FACTOR;});}['displayPalette'](_0x4cee70){const _0x38d4dc=_0x160e4d;_0x4cee70[_0x38d4dc(0xcf)](1.5*SCALE_FACTOR),_0x4cee70[_0x38d4dc(0xab)](0x0),_0x4cee70[_0x38d4dc(0x14f)](),_0x4cee70['rectMode'](CENTER),_0x4cee70[_0x38d4dc(0xd7)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x4cee70[_0x38d4dc(0xff)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x4cee70[_0x38d4dc(0xff)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x4cee70['line'](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x4cee70[_0x38d4dc(0xff)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x4cee70[_0x38d4dc(0x116)](),_0x4cee70[_0x38d4dc(0xfb)](0x0),_0x4cee70[_0x38d4dc(0x14a)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x4cee70[_0x38d4dc(0x9d)](this[_0x38d4dc(0x113)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x57f726=_0x160e4d;super[_0x57f726(0x10f)](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this[_0x57f726(0xca)]===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this[_0x57f726(0xca)]===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this[_0x57f726(0xca)]===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x57f726(0x113)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x57f726(0x8e)](),this[_0x57f726(0xec)]();}['toggleState'](){const _0x240801=_0x160e4d;this['state']=this[_0x240801(0xca)]===0x1?0x2:0x1;if(this[_0x240801(0x113)]===_0x240801(0x122)){let _0x582939=findElementByLabel('E1');_0x582939&&(_0x582939[_0x240801(0x136)]=this[_0x240801(0xca)]===0x2);}else{if(this['label']===_0x240801(0x9e)){let _0xd54501=findElementByLabel('E2');_0xd54501&&(_0xd54501[_0x240801(0x136)]=this[_0x240801(0xca)]===0x1);}}redraw(),calculateCircuit();}['updateConnectors'](){const _0x5a5c17=_0x160e4d;this['connectors'][_0x5a5c17(0xc0)](_0x3a2b73=>{const _0x9c94a5=_0x5a5c17;_0x3a2b73['x']=this['x']+cos(this[_0x9c94a5(0x137)]())*_0x3a2b73[_0x9c94a5(0x114)]-sin(this[_0x9c94a5(0x137)]())*_0x3a2b73[_0x9c94a5(0x112)],_0x3a2b73['y']=this['y']+sin(this[_0x9c94a5(0x137)]())*_0x3a2b73['originalX']+cos(this[_0x9c94a5(0x137)]())*_0x3a2b73['originalY'];});}[_0x160e4d(0x137)](){const _0x134219=_0x160e4d;switch(this[_0x134219(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x26f19b,_0xefac0,_0x50d82f){const _0x278aac=_0x160e4d;super(_0x26f19b,_0xefac0),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x278aac(0x113)]=_0x50d82f,this[_0x278aac(0xd2)]=!![],this[_0x278aac(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x278aac(0xe4)][_0x278aac(0xc0)](_0x575d3d=>{const _0x5c780d=_0x278aac;_0x575d3d[_0x5c780d(0x114)]*=SCALE_FACTOR;});}['displayPalette'](_0x4b0d72){const _0x310432=_0x160e4d;_0x4b0d72[_0x310432(0xcf)](1.5*SCALE_FACTOR),_0x4b0d72[_0x310432(0xab)](0x0),_0x4b0d72[_0x310432(0xff)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x4b0d72[_0x310432(0xff)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x4b0d72[_0x310432(0xff)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x4b0d72[_0x310432(0x14f)](),_0x4b0d72[_0x310432(0xce)](CENTER),_0x4b0d72[_0x310432(0xd7)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x4b0d72[_0x310432(0x116)](),_0x4b0d72['fill'](0x0),_0x4b0d72[_0x310432(0x14a)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x4b0d72[_0x310432(0x9d)](this[_0x310432(0x113)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x160e4d(0x10f)](){const _0x19a82d=_0x160e4d;super['display'](),strokeWeight(1.5*SCALE_FACTOR),this[_0x19a82d(0xd2)]?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x19a82d(0xd2)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x19a82d(0x113)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super['postDisplay'](),this[_0x19a82d(0xec)]();}['toggleState'](){const _0x4b16bd=_0x160e4d;this['isOpen']=!this[_0x4b16bd(0xd2)],updateHlg1StateBasedOnSA1AndSA11(),updateHLG2StateBasedOnSA2AndSA21(),updateHLG3StateBasedOnSA3AndSA31(),redraw(),calculateCircuit();}[_0x160e4d(0xec)](){const _0x418eca=_0x160e4d;this[_0x418eca(0xe4)][_0x418eca(0xc0)](_0x323021=>{const _0x41c9ad=_0x418eca;_0x323021['x']=this['x']+cos(this[_0x41c9ad(0x137)]())*_0x323021['originalX']-sin(this[_0x41c9ad(0x137)]())*_0x323021[_0x41c9ad(0x112)],_0x323021['y']=this['y']+sin(this[_0x41c9ad(0x137)]())*_0x323021[_0x41c9ad(0x114)]+cos(this[_0x41c9ad(0x137)]())*_0x323021[_0x41c9ad(0x112)];});}[_0x160e4d(0x137)](){const _0x5ba351=_0x160e4d;switch(this[_0x5ba351(0xe1)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x3b2d16,_0x2e0fb5,_0x3551bb){const _0x1eb884=_0x160e4d;this['x']=_0x3b2d16,this['y']=_0x2e0fb5,this[_0x1eb884(0x9d)]=_0x3551bb;}[_0x160e4d(0xb2)](_0x5829ed){const _0x23893d=_0x160e4d;this[_0x23893d(0x9d)]=_0x5829ed;}[_0x160e4d(0x10f)](){const _0x4366bc=_0x160e4d;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke(_0x4366bc(0x84)),fill(_0x4366bc(0x9f)),textSize(0xf*SCALE_FACTOR);let _0x3f2294=textWidth(this[_0x4366bc(0x9d)]);rectMode(CENTER);let _0xfd16fb=0x0,_0x14e072=0x0,_0xf7e0b0=0x2*SCALE_FACTOR,_0x52d785=0x2*SCALE_FACTOR;this[_0x4366bc(0x9d)]&&rect(_0xfd16fb,_0x14e072,_0x3f2294+_0xf7e0b0*0x2,0x14*SCALE_FACTOR+_0x52d785*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x4366bc(0x9d)],_0xfd16fb,_0x14e072),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x2d4ed1,_0x1743b6,_0x17f12e){const _0x3373c9=_0x160e4d;super(_0x2d4ed1,_0x1743b6),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x3373c9(0x142)](this['w'],this['h'])/0x2,this[_0x3373c9(0x113)]=_0x17f12e,this[_0x3373c9(0xed)]=0.5,this[_0x3373c9(0xd1)]='50',this[_0x3373c9(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}[_0x160e4d(0x10f)](){const _0x2e0504=_0x160e4d;super['display'](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x257f9c=this['h'],_0x376090=this['w'];let _0x44ae34=_0x257f9c*1.2,_0x425944=_0x376090*0.35,_0x5245dd=-_0x44ae34/0x2,_0x255652=_0x44ae34/0x2,_0x3c39c8=-_0x376090*0.1;drawingContext['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x3c39c8-_0x425944,-_0x257f9c*1.4,_0x425944*0x2,2.8*_0x257f9c),drawingContext[_0x2e0504(0x88)]([]),noFill();const _0x1fb490=0x3,_0x5d36c3=_0x44ae34/_0x1fb490;for(let _0x43c4fb=0x0;_0x43c4fb<_0x1fb490;_0x43c4fb++){let _0x5695cc=_0x5245dd+_0x43c4fb*_0x5d36c3;arc(_0x3c39c8-_0x257f9c/0xa*2.2,_0x5695cc+_0x5d36c3/0x2,_0x425944,_0x5d36c3,-PI/0x2,PI/0x2);}line(_0x3c39c8-_0x425944/0x2-0x3,_0x5245dd-_0x257f9c/0xa,_0x3c39c8-_0x425944/0x2-0x3,_0x5245dd),line(_0x3c39c8-_0x425944/0x2-0x3,_0x5245dd-_0x257f9c/0xa,_0x3c39c8-_0x425944*1.5,_0x5245dd-_0x257f9c/0xa),line(_0x3c39c8-_0x425944/0x2-0x3,_0x255652,_0x3c39c8-_0x425944/0x2-0x3,_0x255652+_0x257f9c*0.4),line(_0x3c39c8-_0x425944*1.5,_0x255652+_0x257f9c*0.4,_0x3c39c8-_0x425944/0x2-0x3,_0x255652+_0x257f9c*0.4);let _0x4762cf=lerp(_0x5245dd,_0x255652,this[_0x2e0504(0xed)]);line(_0x3c39c8+_0x425944/0x3,_0x4762cf,_0x3c39c8+_0x425944/0x4+0x19*SCALE_FACTOR,_0x4762cf),fill(0x0),triangle(_0x257f9c/0x14,-_0x257f9c/0x14,-_0x257f9c/0xa,0x0,_0x257f9c/0x14,_0x257f9c/0x14),circle(_0x3c39c8-_0x425944/0x2-0x3,_0x255652+_0x257f9c*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Л\x20А\x20Т\x20Р',-_0x376090/0xa,-_0x257f9c*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x2e0504(0xd1)]+'\x20В',-_0x376090/0xa,_0x257f9c*1.6),super['postDisplay']();}[_0x160e4d(0x82)](_0x3f4326){const _0x4ea9a8=_0x160e4d;_0x3f4326[_0x4ea9a8(0xcf)](0x1*SCALE_FACTOR),_0x3f4326[_0x4ea9a8(0xab)](0x0);let _0x49d996=this['h']*0.6,_0x1236e3=this['w']*0.25,_0x588117=-_0x49d996/0x2,_0x3edc76=_0x49d996/0x2,_0x1e86d5=-this['w']*0.1;_0x3f4326[_0x4ea9a8(0xf9)]['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x3f4326['rect'](_0x1e86d5-_0x1236e3,_0x588117-_0x49d996/0x2,_0x1236e3+0xf,_0x49d996*0x2),_0x3f4326[_0x4ea9a8(0xf9)][_0x4ea9a8(0x88)]([]),_0x3f4326['noFill']();const _0x25b638=0x3,_0x204d6f=_0x49d996/_0x25b638;for(let _0x41bac8=0x0;_0x41bac8<_0x25b638;_0x41bac8++){let _0x3d47bb=_0x588117+_0x41bac8*_0x204d6f;_0x3f4326[_0x4ea9a8(0x10e)](_0x1e86d5-0xf,_0x3d47bb+_0x204d6f/0x2,_0x1236e3,_0x204d6f,-PI/0x2,PI/0x2);}_0x3f4326['line'](_0x1e86d5-_0x1236e3/0x2-0x3,_0x588117-0xa,_0x1e86d5-_0x1236e3/0x2-0x3,_0x588117),_0x3f4326[_0x4ea9a8(0xff)](_0x1e86d5-_0x1236e3/0x2-0x3,_0x588117-0xa,_0x1e86d5-_0x1236e3*1.5,_0x588117-0xa),_0x3f4326[_0x4ea9a8(0xff)](_0x1e86d5-_0x1236e3/0x2-0x3,_0x3edc76,_0x1e86d5-_0x1236e3/0x2-0x3,_0x3edc76+0xa),_0x3f4326['line'](_0x1e86d5-_0x1236e3*1.5,_0x3edc76+0xa,_0x1e86d5-_0x1236e3/0x2-0x3,_0x3edc76+0xa);let _0x372a6c=lerp(_0x588117,_0x3edc76,this[_0x4ea9a8(0xed)]);_0x3f4326[_0x4ea9a8(0xff)](_0x1e86d5+_0x1236e3/0x4,_0x372a6c,_0x1e86d5+_0x1236e3/0x4+0xc*SCALE_FACTOR,_0x372a6c),_0x3f4326[_0x4ea9a8(0xfb)](0x0),_0x3f4326[_0x4ea9a8(0x96)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x3f4326[_0x4ea9a8(0xfb)](0x0),_0x3f4326[_0x4ea9a8(0x116)](),_0x3f4326['textSize'](0xa*SCALE_FACTOR),_0x3f4326[_0x4ea9a8(0x14a)](CENTER,BOTTOM),_0x3f4326['text'](_0x4ea9a8(0x95),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x182ec0,_0xd2c3cc,_0xeec0d0,_0x367252){const _0x54d93f=_0x160e4d;super(_0x182ec0,_0xd2c3cc),this[_0x54d93f(0xfe)]=_0xeec0d0,this[_0x54d93f(0x89)]=_0x367252,this[_0x54d93f(0x143)]=color(0x0,0xff,0x0),this[_0x54d93f(0x147)]=color(0x0,0x94,0xff),this[_0x54d93f(0x99)]=0x0,this[_0x54d93f(0xfd)]=0x0,this['frequencyHz']=0x32,this[_0x54d93f(0x103)]=0x0;}[_0x160e4d(0x12c)](_0x2aff4f,_0x110922,_0x20c514,_0x3116ca){const _0xb37aa9=_0x160e4d;this[_0xb37aa9(0x99)]=_0x2aff4f,this[_0xb37aa9(0xfd)]=_0x110922,this[_0xb37aa9(0x90)]=_0x20c514,this[_0xb37aa9(0x103)]=_0x3116ca;}[_0x160e4d(0x10f)](){const _0x11c12a=_0x160e4d;push(),translate(this['x'],this['y']),stroke(_0x11c12a(0x84)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x11c12a(0xfe)],this[_0x11c12a(0x89)]),drawingContext[_0x11c12a(0x88)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this[_0x11c12a(0x89)]/0x2,this[_0x11c12a(0xfe)],this['height']/0x2),line(this[_0x11c12a(0xfe)]/0x2,0x0,this['width']/0x2,this[_0x11c12a(0x89)]),drawingContext[_0x11c12a(0x88)]([]),stroke(this[_0x11c12a(0x147)]),fill(this[_0x11c12a(0x147)]),rect(0x0,this[_0x11c12a(0x89)]*0.7,this[_0x11c12a(0xfe)]/0x3,this[_0x11c12a(0x89)]/0x8),stroke(this[_0x11c12a(0x143)]),fill(this[_0x11c12a(0x143)]),rect(0x0,this[_0x11c12a(0x89)]*0.85,this[_0x11c12a(0xfe)]/0x3,this[_0x11c12a(0x89)]/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x11c12a(0x129),this[_0x11c12a(0xfe)]/0x6,this['height']*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x11c12a(0x131),this['width']/0x6,this[_0x11c12a(0x89)]*0.97),(this[_0x11c12a(0x99)]>0x0||this['voltageAmplitude']>0x0)&&this[_0x11c12a(0x107)](),pop();}[_0x160e4d(0x107)](){const _0x5e994b=_0x160e4d;push(),translate(0x14*SCALE_FACTOR,this[_0x5e994b(0x89)]/0x2);const _0x55a9f7=0x96,_0xb1fbcb=0x3*PI/_0x55a9f7,_0x2294ff=this[_0x5e994b(0x89)]/0x4;stroke(this[_0x5e994b(0x143)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x974455=this['phaseAngleDeg']*PI/0xb4;for(let _0xea32e1=0x0;_0xea32e1<=_0x55a9f7;_0xea32e1++){const _0x3d9c42=_0xea32e1*_0xb1fbcb,_0x5e617e=sin(_0x3d9c42-_0x974455)*this[_0x5e994b(0x89)]*0.25;vertex(_0xea32e1*this[_0x5e994b(0xfe)]/_0x55a9f7-0x14*SCALE_FACTOR,-_0x5e617e);}endShape(),stroke(this[_0x5e994b(0x147)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x4b5849=0x0;_0x4b5849<=_0x55a9f7;_0x4b5849++){const _0x1ced12=_0x4b5849*_0xb1fbcb,_0x226e96=sin(_0x1ced12)*this['height']*0.45;vertex(_0x4b5849*this[_0x5e994b(0xfe)]/_0x55a9f7-0x14*SCALE_FACTOR,-_0x226e96);}endShape(),pop();}}class Lamp extends CircuitElement{constructor(_0x5a3150,_0x5e9f86,_0x161033){const _0x19fbc1=_0x160e4d;super(_0x5a3150,_0x5e9f86),this['r']=0xf*SCALE_FACTOR,this[_0x19fbc1(0x113)]=_0x161033,this['power']='30',this[_0x19fbc1(0xe4)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x19fbc1(0xc0)](_0x15c7bb=>{const _0x4bfd64=_0x19fbc1;_0x15c7bb[_0x4bfd64(0x114)]*=SCALE_FACTOR;}),this[_0x19fbc1(0x136)]=![];}[_0x160e4d(0x82)](_0x199856){const _0x1477e9=_0x160e4d;_0x199856['strokeWeight'](0x1*SCALE_FACTOR),_0x199856[_0x1477e9(0xab)](0x0),_0x199856['fill'](0xff),_0x199856[_0x1477e9(0x14e)](0x0,0x0,this['r']*1.5);const _0x427950=this['r']*0.707106781*0.75;_0x199856[_0x1477e9(0xff)](-_0x427950,_0x427950,_0x427950,-_0x427950),_0x199856[_0x1477e9(0xff)](-_0x427950,-_0x427950,_0x427950,_0x427950),_0x199856[_0x1477e9(0x116)](),_0x199856[_0x1477e9(0xfb)](0x0),_0x199856[_0x1477e9(0x14a)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x199856['text'](this[_0x1477e9(0x113)],0x0,this['r']*1.3);}[_0x160e4d(0x10f)](){const _0x25a26d=_0x160e4d;super[_0x25a26d(0x10f)]();let _0x5aecd6=0x1*SCALE_FACTOR,_0x5dad20=0x2*_0x5aecd6;this[_0x25a26d(0x136)]?(stroke(0xff,0xd8,0x0),strokeWeight(_0x5dad20),fill(0xff)):(stroke(0x0),strokeWeight(_0x5aecd6),fill(0xff));const _0x43a1af=this['r']*0.707106781;circle(0x0,0x0,this['r']*0x2),line(-_0x43a1af,_0x43a1af,_0x43a1af,-_0x43a1af),line(-_0x43a1af,-_0x43a1af,_0x43a1af,_0x43a1af);if(this['isActive'])for(let _0x1ff40e=0x0;_0x1ff40e<0x168;_0x1ff40e+=0x1e){const _0x13c10b=_0x1ff40e*(Math['PI']/0xb4),_0x22ebd6=1.15*this['r'],_0x3629d6=1.4*this['r'],_0x47bd08=_0x3629d6*Math['cos'](_0x13c10b),_0x2ad9d8=_0x3629d6*Math[_0x25a26d(0x8f)](_0x13c10b),_0x23ccdb=_0x22ebd6*Math['cos'](_0x13c10b),_0x3c354c=_0x22ebd6*Math[_0x25a26d(0x8f)](_0x13c10b);line(_0x23ccdb,_0x3c354c,_0x47bd08,_0x2ad9d8);}rotate(0x0),this[_0x25a26d(0x136)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x25a26d(0x113)],this['r']*1.5,-this['r']*0.7),textAlign(CENTER,TOP),text(this[_0x25a26d(0x10a)]+_0x25a26d(0xdd),0x0,this['r']*1.2),super[_0x25a26d(0x8e)](),this[_0x25a26d(0xec)]();}[_0x160e4d(0xb3)](){const _0x2e5b03=_0x160e4d;this[_0x2e5b03(0x136)]?this[_0x2e5b03(0x136)]=![]:this[_0x2e5b03(0x136)]=!![];}[_0x160e4d(0x137)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class GroupLamp extends CircuitElement{constructor(_0x473cc3,_0x57f069,_0x15ee31,_0x31a57d=0x1e){const _0x244e2e=_0x160e4d;super(_0x473cc3,_0x57f069),this[_0x244e2e(0xd3)]=0x5,this[_0x244e2e(0x94)]=0xf*SCALE_FACTOR,this['lampSpacing']=this[_0x244e2e(0x94)]*0x2+0xa*SCALE_FACTOR,this['label']=_0x15ee31,this['powerPerLamp']=parseFloat(_0x31a57d)||0x1e,this[_0x244e2e(0xdb)]=0x0,this[_0x244e2e(0x9a)]=!![],this[_0x244e2e(0xda)]=!![],this[_0x244e2e(0xbd)]=[],this['w']=this[_0x244e2e(0xd3)]*this['lampRadius']*0x2+(this[_0x244e2e(0xd3)]-0x1)*(this[_0x244e2e(0x128)]-this['lampRadius']*0x2),this['h']=this[_0x244e2e(0x94)]*0x2+0x14*SCALE_FACTOR,this['r']=this['w']/0x2,this[_0x244e2e(0x134)]=[];const _0x4b0060=-(this['w']/0x2)+this['lampRadius'];for(let _0x533dc5=0x0;_0x533dc5<this[_0x244e2e(0xd3)];_0x533dc5++){const _0x3ec58f=!![];this[_0x244e2e(0x134)][_0x244e2e(0x14c)]({'isActive':_0x3ec58f,'offsetX':_0x4b0060+_0x533dc5*this[_0x244e2e(0x128)],'offsetY':0x0}),this[_0x244e2e(0xbd)]['push'](_0x3ec58f);}this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x244e2e(0x87)](),this[_0x244e2e(0xac)]=![],this[_0x244e2e(0x12a)]=null;}[_0x160e4d(0x7f)](_0x5643a4){const _0x308369=_0x160e4d;if(_0x5643a4===this[_0x308369(0x9a)])return;this[_0x308369(0x9a)]=_0x5643a4,this['calculateTotalPower'](),redraw();}[_0x160e4d(0x80)](_0xd06d91){const _0x21aa2f=_0x160e4d;if(_0xd06d91===this['isEnabled'])return;this['isEnabled']=_0xd06d91;if(!this[_0x21aa2f(0xda)]){for(let _0x24b975=0x0;_0x24b975<this['numLamps'];_0x24b975++){this[_0x21aa2f(0xbd)][_0x24b975]=this[_0x21aa2f(0x134)][_0x24b975][_0x21aa2f(0x136)];}for(let _0xf5c606 of this[_0x21aa2f(0x134)]){_0xf5c606[_0x21aa2f(0x136)]=![];}}else for(let _0x46cd54=0x0;_0x46cd54<this[_0x21aa2f(0xd3)];_0x46cd54++){this[_0x21aa2f(0x134)][_0x46cd54][_0x21aa2f(0x136)]=typeof this[_0x21aa2f(0xbd)][_0x46cd54]===_0x21aa2f(0x7e)?this[_0x21aa2f(0xbd)][_0x46cd54]:![];}this[_0x21aa2f(0x87)](),redraw();}[_0x160e4d(0xb3)](_0x11cf39){const _0x2c7aa6=_0x160e4d;if(!this[_0x2c7aa6(0xda)]||!this[_0x2c7aa6(0x9a)])return;if(this['isTogglingLamp'])return;_0x11cf39>=0x0&&_0x11cf39<this[_0x2c7aa6(0xd3)]&&(this[_0x2c7aa6(0xac)]=!![],this[_0x2c7aa6(0x134)][_0x11cf39][_0x2c7aa6(0x136)]=!this[_0x2c7aa6(0x134)][_0x11cf39][_0x2c7aa6(0x136)],this[_0x2c7aa6(0xbd)][_0x11cf39]=this[_0x2c7aa6(0x134)][_0x11cf39][_0x2c7aa6(0x136)],this['calculateTotalPower'](),clearTimeout(this['toggleTimer']),this['toggleTimer']=setTimeout(()=>{this['isTogglingLamp']=![],redraw();},0xc8));}[_0x160e4d(0x87)](){const _0x1664d6=_0x160e4d;if(!this[_0x1664d6(0xda)]||!this[_0x1664d6(0x9a)]){this[_0x1664d6(0xdb)]=0x0;return;}let _0x3751a6=0x0;for(const _0xcf24b4 of this[_0x1664d6(0x134)]){_0xcf24b4[_0x1664d6(0x136)]&&(_0x3751a6+=this[_0x1664d6(0xb6)]);}this['total_power']=_0x3751a6;}['getClickedLampIndex'](_0x4a4ec4,_0x1b3e64){const _0x22b6a7=_0x160e4d;if(!this['isVisible'])return-0x1;for(let _0x323eca=0x0;_0x323eca<this[_0x22b6a7(0xd3)];_0x323eca++){const _0x1f3f7b=this['lamps'][_0x323eca],_0x1907a1=this['x']+_0x1f3f7b['offsetX'],_0x75bc=this['y']+_0x1f3f7b[_0x22b6a7(0x120)],_0x11b9ed=dist(_0x4a4ec4,_0x1b3e64,_0x1907a1,_0x75bc);if(_0x11b9ed<this[_0x22b6a7(0x94)])return _0x323eca;}return-0x1;}[_0x160e4d(0x82)](_0x492d3f){const _0x548dd8=_0x160e4d;_0x492d3f['strokeWeight'](0x1*SCALE_FACTOR),_0x492d3f['stroke'](0x0);const _0x2f0916=this[_0x548dd8(0x94)]*0.5,_0x50e3e9=_0x2f0916*0x2+0x2*SCALE_FACTOR,_0x1c53cc=this[_0x548dd8(0xd3)]*_0x2f0916*0x2+(this[_0x548dd8(0xd3)]-0x1)*0x2*SCALE_FACTOR,_0xada64f=-_0x1c53cc/0x2+_0x2f0916;for(let _0xb9f6f9=0x0;_0xb9f6f9<this[_0x548dd8(0xd3)];_0xb9f6f9++){_0x492d3f['fill'](0xff),_0x492d3f[_0x548dd8(0x14e)](_0xada64f+_0xb9f6f9*_0x50e3e9,0x0,_0x2f0916*0x2);const _0x1acbd5=_0x2f0916*0.707;_0x492d3f['line'](_0xada64f+_0xb9f6f9*_0x50e3e9-_0x1acbd5,_0x1acbd5,_0xada64f+_0xb9f6f9*_0x50e3e9+_0x1acbd5,-_0x1acbd5),_0x492d3f[_0x548dd8(0xff)](_0xada64f+_0xb9f6f9*_0x50e3e9-_0x1acbd5,-_0x1acbd5,_0xada64f+_0xb9f6f9*_0x50e3e9+_0x1acbd5,_0x1acbd5);}_0x492d3f['noStroke'](),_0x492d3f[_0x548dd8(0xfb)](0x0),_0x492d3f[_0x548dd8(0x14a)](CENTER,BOTTOM),_0x492d3f['textSize'](0x8*SCALE_FACTOR),_0x492d3f[_0x548dd8(0x9d)](this[_0x548dd8(0x113)],0x0,_0x2f0916+0xa*SCALE_FACTOR);}['display'](){const _0x42ae84=_0x160e4d;if(!this[_0x42ae84(0x9a)])return;push(),translate(this['x'],this['y']);for(let _0x1679b7=0x0;_0x1679b7<this[_0x42ae84(0xd3)];_0x1679b7++){const _0x46b98f=this[_0x42ae84(0x134)][_0x1679b7];push(),translate(_0x46b98f[_0x42ae84(0x106)],_0x46b98f['offsetY']);let _0x31cb30=0x1*SCALE_FACTOR,_0x3bad7b=0x2*_0x31cb30,_0x264cfa=color(0xff),_0x58573e=color(0x0);_0x46b98f[_0x42ae84(0x136)]?(_0x58573e=color(0xff,0xd8,0x0),strokeWeight(_0x3bad7b),_0x264cfa=color(0xff,0xff,0xc8)):strokeWeight(_0x31cb30);!this[_0x42ae84(0xda)]&&(_0x58573e=color(0x96),_0x264cfa=color(0xdc),strokeWeight(_0x31cb30));stroke(_0x58573e),fill(_0x264cfa),circle(0x0,0x0,this['lampRadius']*0x2);const _0x206f94=this[_0x42ae84(0x94)]*0.707;line(-_0x206f94,_0x206f94,_0x206f94,-_0x206f94),line(-_0x206f94,-_0x206f94,_0x206f94,_0x206f94),line(-1.3*this[_0x42ae84(0x94)],0x0,-this[_0x42ae84(0x94)],0x0),line(1.3*this[_0x42ae84(0x94)],0x0,this[_0x42ae84(0x94)],0x0);if(_0x46b98f[_0x42ae84(0x136)]&&this[_0x42ae84(0xda)]){stroke(_0x58573e),strokeWeight(0x1*SCALE_FACTOR);for(let _0x4e80b1=0x0;_0x4e80b1<0x168;_0x4e80b1+=0x2d){const _0x32a13e=radians(_0x4e80b1),_0x3a2ece=1.15*this[_0x42ae84(0x94)],_0x502c0f=1.4*this['lampRadius'];line(_0x3a2ece*cos(_0x32a13e),_0x3a2ece*sin(_0x32a13e),_0x502c0f*cos(_0x32a13e),_0x502c0f*sin(_0x32a13e));}}pop();}noStroke(),fill(this[_0x42ae84(0xda)]?0x0:0x96),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x42ae84(0x113)],0x0,-this['lampRadius']-0x5*SCALE_FACTOR),textAlign(CENTER,TOP),textSize(0xa*SCALE_FACTOR),this[_0x42ae84(0xdb)]>0x0&&text(_0x42ae84(0x110)+this[_0x42ae84(0xdb)]['toFixed'](0x0)+_0x42ae84(0xdd),0x0,this[_0x42ae84(0x94)]+0x5*SCALE_FACTOR),pop(),this[_0x42ae84(0xec)]();}[_0x160e4d(0xec)](){const _0x13373f=_0x160e4d,_0x4629ae=this[_0x13373f(0x137)]();this[_0x13373f(0xe4)][_0x13373f(0xc0)](_0x4249ec=>{const _0x1c606b=_0x13373f;_0x4249ec['x']=this['x']+cos(_0x4629ae)*_0x4249ec['originalX']-sin(_0x4629ae)*_0x4249ec[_0x1c606b(0x112)],_0x4249ec['y']=this['y']+sin(_0x4629ae)*_0x4249ec[_0x1c606b(0x114)]+cos(_0x4629ae)*_0x4249ec[_0x1c606b(0x112)];});}[_0x160e4d(0x137)](){return 0x0;}}

        </script>

</body>
</html>