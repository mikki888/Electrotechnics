<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <!-- **НОВЕ**: Важливо для мобільних - контроль масштабування -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2D Аерохокей v7 - Мобільна Адаптація + Покращена Оборона</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            display: flex; justify-content: center; align-items: center;
            height: 100vh; margin: 0; background-color: #f0f0f0;
            flex-direction: column; font-family: sans-serif;
             /* **НОВЕ**: Заборона виділення тексту на мобільних */
             -webkit-user-select: none; /* Safari */
             -ms-user-select: none; /* IE 10+ */
             user-select: none; /* Standard syntax */
             /* **НОВЕ**: Заборона стандартної реакції на дотик для body (про всяк випадок) */
             /* touch-action: none; */ /* Може бути занадто агресивно, краще на канвасі */
             overflow: hidden; /* Заборона прокрутки всієї сторінки */
        }
        canvas {
            border: 2px solid black; display: block;
            margin-top: 10px; cursor: grab;
             /* **НОВЕ**: Важливо для запобігання масштабуванню/панорамуванню на канвасі */
             touch-action: none;
        }
        canvas.grabbing { cursor: grabbing; }
        #difficultySelector { position: absolute; top: 10px; left: 10px; z-index: 10; }
        label { margin-right: 5px; }
         #speedControl { position: absolute; top: 40px; left: 10px; z-index: 10; background: rgba(255,255,255,0.8); padding: 5px; border-radius: 5px; }
         #speedControl label { display: block; margin-bottom: 3px; font-size: 0.9em;}
         #speedValue { font-weight: bold; }

    </style>
</head>
<body>

    <div>
        <label for="difficulty">Складність ШІ:</label>
        <select id="difficulty">
            <option value="easy">Легка</option>
            <option value="medium" selected>Середня</option>
            <option value="hard">Важка</option>
        </select>
    </div>

    <div id="speedControl">
         <label for="aiSpeed">Швидкість ШІ: <span id="speedValue">0.7</span>x</label>
         <input type="range" id="aiSpeed" min="0.2" max="2.5" value="0.7" step="0.1">
    </div>


    <script>

const _0x47ebf=_0xed62;(function(_0x133cea,_0x3eaa6d){const _0x55eb90=_0xed62,_0x59f745=_0x133cea();while(!![]){try{const _0x52053a=-parseInt(_0x55eb90(0xd0))/0x1+parseInt(_0x55eb90(0xcd))/0x2*(-parseInt(_0x55eb90(0xcc))/0x3)+-parseInt(_0x55eb90(0xeb))/0x4+parseInt(_0x55eb90(0xf0))/0x5+parseInt(_0x55eb90(0xde))/0x6+parseInt(_0x55eb90(0xf4))/0x7+parseInt(_0x55eb90(0xce))/0x8;if(_0x52053a===_0x3eaa6d)break;else _0x59f745['push'](_0x59f745['shift']());}catch(_0x4e83b8){_0x59f745['push'](_0x59f745['shift']());}}}(_0x1f13,0xaa0c5));let canvasWidth=0x2bc,canvasHeight=0x190,canvasElement;const playerColor=[0x0,0x0,0xff],aiColor=[0xff,0x0,0x0],puckColor=[0xff,0xff,0xff],fieldColor=[0x32,0x32,0x32],scoreColor=[0xc8,0xc8,0xc8,0x64],paddleRadius=0x19,puckRadius=0xc,goalWidth=0x6e,friction=0.99,maxPuckSpeed=0x14,hitForceMultiplier=0.25,wallRestitution=-0.85;let player,ai,puck,playerScore=0x0,aiScore=0x0,difficulty=_0x47ebf(0xe8),isDragging=![],aiGlobalSpeedMultiplier=0x1;function _0x1f13(){const _0x84ff7f=['6568295lUGNmg','AI\x20State:\x20ACTIVE\x20PLAY','touchcancel','toFixed','8081241lmZuUC','color','AI\x20State:\x20DEFENSE\x20(Standard)','parent','grabbing','getBoundingClientRect','stuckInCornerTimer','length','touchend','addClass','left','772032kwHjEO','8gOIBrT','11891656VrnVna','prevY','1354005jFapNY','prevX','hard','textContent','removeClass','touches','AI\x20State:\x20!!!\x20CRITICAL\x20DEFENSE\x20!!!','addEventListener','velY','elt','target','difficulty','input','log','2193606CffXuN','isStuckEscaping','change','clientY','value','Раунд\x20скинуто.\x20Рахунок:','top','velX','Clearing\x20towards\x20(','AI\x20State:\x20WAITING','medium','getElementById','\x20-\x20','4961128lIWITg','preventDefault','AI\x20State:\x20TACTICAL\x20RETREAT!','touchstart','lastPuckPosInCorner'];_0x1f13=function(){return _0x84ff7f;};return _0x1f13();}const aiBaseX=canvasWidth/0x5*0x4,aiDefensiveLine=canvasWidth/0x6*5.2,aiCriticalDefenseLine=canvasWidth/0xa*0x9,aiOffensivePush=paddleRadius*0.5,aiAimAssist=0.1,cornerCheckRadius=paddleRadius*0x2,fieldCenterX=canvasWidth*0.4,fieldCenterY=canvasHeight/0x2,STUCK_THRESHOLD_FRAMES=0x2d,STUCK_PUCK_MOVE_THRESHOLD=0.5;function _0xed62(_0x3878d7,_0x1d16ab){const _0x1f1332=_0x1f13();return _0xed62=function(_0xed62ad,_0xde5b0e){_0xed62ad=_0xed62ad-0xcc;let _0x447287=_0x1f1332[_0xed62ad];return _0x447287;},_0xed62(_0x3878d7,_0x1d16ab);}function setup(){const _0x51cc5c=_0x47ebf;canvasElement=createCanvas(canvasWidth,canvasHeight),canvasElement[_0x51cc5c(0xf7)](document['body']),player={'x':canvasWidth/0x4,'y':canvasHeight/0x2,'r':paddleRadius,'color':playerColor,'prevX':canvasWidth/0x4,'prevY':canvasHeight/0x2,'velX':0x0,'velY':0x0},ai={'x':aiBaseX,'y':canvasHeight/0x2,'r':paddleRadius,'color':aiColor,'prevX':aiBaseX,'prevY':canvasHeight/0x2,'velX':0x0,'velY':0x0,'stuckInCornerTimer':0x0,'lastPuckPosInCorner':{'x':-0x1,'y':-0x1},'isStuckEscaping':![]},puck={'x':canvasWidth/0x2,'y':canvasHeight/0x2,'r':puckRadius,'vx':0x0,'vy':0x0,'color':puckColor},textAlign(CENTER,CENTER),noStroke();const _0x3dc4d8=document[_0x51cc5c(0xe9)](_0x51cc5c(0xdb));_0x3dc4d8[_0x51cc5c(0xd7)](_0x51cc5c(0xe0),_0x2b6bec=>{const _0xaaa173=_0x51cc5c;difficulty=_0x2b6bec[_0xaaa173(0xda)][_0xaaa173(0xe2)];}),difficulty=_0x3dc4d8[_0x51cc5c(0xe2)];const _0x5795a0=document[_0x51cc5c(0xe9)]('aiSpeed'),_0x57aebd=document[_0x51cc5c(0xe9)]('speedValue');_0x5795a0[_0x51cc5c(0xd7)](_0x51cc5c(0xdc),_0x2fcb7e=>{const _0x89ff39=_0x51cc5c;aiGlobalSpeedMultiplier=parseFloat(_0x2fcb7e[_0x89ff39(0xda)][_0x89ff39(0xe2)]),_0x57aebd['textContent']=aiGlobalSpeedMultiplier['toFixed'](0x1);}),aiGlobalSpeedMultiplier=parseFloat(_0x5795a0['value']),_0x57aebd[_0x51cc5c(0xd3)]=aiGlobalSpeedMultiplier[_0x51cc5c(0xf3)](0x1),canvasElement[_0x51cc5c(0xd9)][_0x51cc5c(0xd7)](_0x51cc5c(0xee),handleTouchStart,{'passive':![]}),canvasElement['elt'][_0x51cc5c(0xd7)]('touchmove',handleTouchMove,{'passive':![]}),canvasElement['elt']['addEventListener'](_0x51cc5c(0xfc),handleTouchEnd),canvasElement[_0x51cc5c(0xd9)][_0x51cc5c(0xd7)](_0x51cc5c(0xf2),handleTouchEnd);}function handleTouchStart(_0x17b534){const _0xcd5594=_0x47ebf;if(_0x17b534[_0xcd5594(0xd5)][_0xcd5594(0xfb)]>0x0){let _0x2290b6=_0x17b534[_0xcd5594(0xd5)][0x0],_0x359f74=_0x2290b6['clientX']-canvasElement[_0xcd5594(0xd9)][_0xcd5594(0xf9)]()[_0xcd5594(0xfe)],_0x521d6f=_0x2290b6[_0xcd5594(0xe1)]-canvasElement['elt'][_0xcd5594(0xf9)]()['top'],_0x32f758=dist(_0x359f74,_0x521d6f,player['x'],player['y']);_0x32f758<player['r']*1.5&&(isDragging=!![],canvasElement[_0xcd5594(0xfd)]('grabbing'));}}function handleTouchMove(_0xd70e14){const _0x3e9113=_0x47ebf;if(isDragging&&_0xd70e14[_0x3e9113(0xd5)][_0x3e9113(0xfb)]>0x0){_0xd70e14[_0x3e9113(0xec)]();let _0x2c4e0a=_0xd70e14['touches'][0x0],_0x4e565c=_0x2c4e0a['clientX']-canvasElement[_0x3e9113(0xd9)][_0x3e9113(0xf9)]()[_0x3e9113(0xfe)],_0x59c06c=_0x2c4e0a['clientY']-canvasElement[_0x3e9113(0xd9)][_0x3e9113(0xf9)]()[_0x3e9113(0xe4)];player[_0x3e9113(0xd1)]=player['x'],player['prevY']=player['y'],player['x']=constrain(_0x4e565c,player['r'],canvasWidth/0x2-player['r']),player['y']=constrain(_0x59c06c,player['r'],canvasHeight-player['r']);}}function handleTouchEnd(_0x331f2c){const _0x377465=_0x47ebf;isDragging&&_0x331f2c['touches'][_0x377465(0xfb)]===0x0&&(isDragging=![],canvasElement[_0x377465(0xd4)](_0x377465(0xf8)));}function mousePressed(){const _0xe9fd37=_0x47ebf;let _0x4d5bd4=dist(mouseX,mouseY,player['x'],player['y']);_0x4d5bd4<player['r']&&(isDragging=!![],canvasElement[_0xe9fd37(0xfd)](_0xe9fd37(0xf8)));}function mouseDragged(){const _0x40b655=_0x47ebf;isDragging&&(player['prevX']=player['x'],player[_0x40b655(0xcf)]=player['y'],player['x']=constrain(mouseX,player['r'],canvasWidth/0x2-player['r']),player['y']=constrain(mouseY,player['r'],canvasHeight-player['r']));}function mouseReleased(){const _0x2caca8=_0x47ebf;isDragging&&(isDragging=![],canvasElement[_0x2caca8(0xd4)](_0x2caca8(0xf8)));}function draw(){updatePlayerVelocity(),updateAI(),updatePuck(),checkCollisions(),checkGoal(),drawBackgroundScore(),drawField(),drawPaddles(),drawPuck();}function updatePlayerVelocity(){const _0x5c8954=_0x47ebf;if(!isDragging){player['velX']*=0.8,player[_0x5c8954(0xd8)]*=0.8;if(abs(player[_0x5c8954(0xe5)])<0.1)player[_0x5c8954(0xe5)]=0x0;if(abs(player[_0x5c8954(0xd8)])<0.1)player['velY']=0x0;}else player[_0x5c8954(0xe5)]=player['x']-player[_0x5c8954(0xd1)],player[_0x5c8954(0xd8)]=player['y']-player[_0x5c8954(0xcf)];!isDragging&&(player['prevX']=player['x'],player[_0x5c8954(0xcf)]=player['y']);}function updateAI(){const _0x546ed5=_0x47ebf;ai[_0x546ed5(0xd1)]=ai['x'],ai[_0x546ed5(0xcf)]=ai['y'];let _0x857846;switch(difficulty){case'easy':_0x857846=0.05;break;case _0x546ed5(0xd2):_0x857846=0.18;break;case'medium':default:_0x857846=0.11;break;}_0x857846*=aiGlobalSpeedMultiplier;let _0x5a957e=aiBaseX,_0x3e753b=canvasHeight/0x2,_0x4a26aa=_0x857846,_0x383ac7=![],_0x54f995=![];if(ai[_0x546ed5(0xdf)])console[_0x546ed5(0xdd)](_0x546ed5(0xed)),_0x5a957e=aiBaseX*0.95,_0x3e753b=canvasHeight/0x2,_0x4a26aa*=0x3,dist(ai['x'],ai['y'],_0x5a957e,_0x3e753b)<paddleRadius*1.5&&(ai[_0x546ed5(0xdf)]=![],ai[_0x546ed5(0xfa)]=0x0);else{const _0x2a66c9=canvasWidth-puck['x'],_0xa8a377=sqrt(puck['vx']*puck['vx']+puck['vy']*puck['vy']),_0x36c1c1=dist(ai['x'],ai['y'],puck['x'],puck['y']);let _0x172832=puck['y']<cornerCheckRadius&&ai['y']<cornerCheckRadius*1.2,_0x3e3b47=puck['y']>canvasHeight-cornerCheckRadius&&ai['y']>canvasHeight-cornerCheckRadius*1.2,_0x37e7e0=puck['x']>canvasWidth-cornerCheckRadius&&ai['x']>canvasWidth-cornerCheckRadius*1.5;_0x383ac7=_0x37e7e0&&(_0x172832||_0x3e3b47);if(puck['x']>ai['x']+puck['r']*0.5&&puck['x']>aiCriticalDefenseLine){console[_0x546ed5(0xdd)](_0x546ed5(0xd6)),_0x54f995=!![];let _0x38756d=canvasWidth*0.6,_0xb9337d=puck['y']<canvasHeight/0x2?canvasHeight*0.85:canvasHeight*0.15,_0x3781d8=_0x38756d-puck['x'],_0x575036=_0xb9337d-puck['y'],_0x2fee61=sqrt(_0x3781d8*_0x3781d8+_0x575036*_0x575036);if(_0x2fee61>0.1){let _0x5530e1=_0x3781d8/_0x2fee61,_0x56262b=_0x575036/_0x2fee61,_0x5b9f77=ai['r']+puck['r']*0.6;_0x5a957e=puck['x']-_0x5530e1*_0x5b9f77,_0x3e753b=puck['y']-_0x56262b*_0x5b9f77,console['log'](_0x546ed5(0xe6)+_0x38756d[_0x546ed5(0xf3)](0x0)+',\x20'+_0xb9337d['toFixed'](0x0)+')');}else _0x5a957e=puck['x']-ai['r'],_0x3e753b=puck['y'];_0x4a26aa*=3.5*aiGlobalSpeedMultiplier,ai['stuckInCornerTimer']=0x0;}else{if(puck['x']>aiDefensiveLine&&!_0x383ac7){console[_0x546ed5(0xdd)](_0x546ed5(0xf6)),_0x5a957e=puck['x']+paddleRadius*0.5;let _0x2dd558=puck['y']+puck['vy']*(dist(puck['x'],puck['y'],canvasWidth,canvasHeight/0x2)/(_0xa8a377+0.1))*0.5;_0x3e753b=lerp(puck['y'],constrain(_0x2dd558,puck['r'],canvasHeight-puck['r']),0.5),_0x5a957e=constrain(_0x5a957e,canvasWidth/0x2+ai['r'],canvasWidth-ai['r']),_0x2a66c9<ai['r']*2.5&&(_0x5a957e=puck['x']-ai['r']*0.7,_0x3e753b=puck['y']),_0x4a26aa*=1.8*aiGlobalSpeedMultiplier,ai[_0x546ed5(0xfa)]=0x0;}else{if(_0x383ac7&&_0x36c1c1<ai['r']+puck['r']+paddleRadius){console[_0x546ed5(0xdd)]('AI\x20State:\x20Corner\x20Detected');let _0x4c9403=dist(puck['x'],puck['y'],ai['lastPuckPosInCorner']['x'],ai['lastPuckPosInCorner']['y'])>STUCK_PUCK_MOVE_THRESHOLD;_0x4c9403||ai[_0x546ed5(0xef)]['x']<0x0?(ai['stuckInCornerTimer']=0x0,ai[_0x546ed5(0xef)]={'x':puck['x'],'y':puck['y']}):ai[_0x546ed5(0xfa)]++;if(ai[_0x546ed5(0xfa)]>STUCK_THRESHOLD_FRAMES)ai['isStuckEscaping']=!![],_0x5a957e=ai['x'],_0x3e753b=ai['y'];else{let _0x32d161=fieldCenterX-puck['x'],_0x28bf43=fieldCenterY-puck['y'],_0x345da6=sqrt(_0x32d161*_0x32d161+_0x28bf43*_0x28bf43);if(_0x345da6>0.1){let _0x5446f6=_0x32d161/_0x345da6,_0x2253db=_0x28bf43/_0x345da6,_0x1360af=ai['r']+puck['r']*0.5;_0x5a957e=puck['x']-_0x5446f6*_0x1360af,_0x3e753b=puck['y']-_0x2253db*_0x1360af;if(_0x172832)_0x3e753b=max(_0x3e753b,ai['y']+0x2);if(_0x3e3b47)_0x3e753b=min(_0x3e753b,ai['y']-0x2);_0x5a957e=min(_0x5a957e,ai['x']-0x2);}else _0x5a957e=aiBaseX,_0x3e753b=fieldCenterY;_0x4a26aa*=0x2*aiGlobalSpeedMultiplier;}}else{ai['stuckInCornerTimer']=0x0,ai[_0x546ed5(0xef)]={'x':-0x1,'y':-0x1};if(puck['x']>canvasWidth/0x2-puck['r']){console[_0x546ed5(0xdd)](_0x546ed5(0xf1)),_0x5a957e=puck['x']-aiOffensivePush-_0xa8a377*0.5,_0x5a957e=max(canvasWidth/0x2+ai['r'],_0x5a957e),_0x3e753b=puck['y'];let _0x169ddd=abs(player['y']-canvasHeight/0x2);dist(ai['x'],ai['y'],player['x'],player['y'])>canvasWidth/0x3&&_0x169ddd>goalWidth/0x3&&(player['y']<canvasHeight/0x2?(_0x3e753b=puck['y']+aiAimAssist*canvasHeight,_0x5a957e-=puck['r']):(_0x3e753b=puck['y']-aiAimAssist*canvasHeight,_0x5a957e-=puck['r'])),_0x4a26aa*=map(_0xa8a377,0x0,maxPuckSpeed,0x1,1.5)*aiGlobalSpeedMultiplier;}else console[_0x546ed5(0xdd)](_0x546ed5(0xe7)),_0x5a957e=aiBaseX,_0x3e753b=canvasHeight/0x2,_0x4a26aa*=0.7*aiGlobalSpeedMultiplier;}}}}_0x5a957e=constrain(_0x5a957e,canvasWidth/0x2+ai['r'],canvasWidth-ai['r']),_0x3e753b=constrain(_0x3e753b,ai['r'],canvasHeight-ai['r']);if(!ai[_0x546ed5(0xdf)]&&!_0x54f995)ai['x']=lerp(ai['x'],_0x5a957e,_0x4a26aa),ai['y']=lerp(ai['y'],_0x3e753b,_0x4a26aa);else{let _0x1ad74e=_0x5a957e-ai['x'],_0xbfb54e=_0x3e753b-ai['y'],_0x562981=sqrt(_0x1ad74e*_0x1ad74e+_0xbfb54e*_0xbfb54e),_0x4f7d41=_0x4a26aa*(_0x54f995?0xa:0xf);_0x562981>_0x4f7d41&&_0x562981>0x0&&(_0x1ad74e=_0x1ad74e/_0x562981*_0x4f7d41,_0xbfb54e=_0xbfb54e/_0x562981*_0x4f7d41),ai['x']+=_0x1ad74e,ai['y']+=_0xbfb54e;}const _0x12c478=0x1;ai['x']=constrain(ai['x'],canvasWidth/0x2+ai['r']+_0x12c478,canvasWidth-ai['r']-_0x12c478),ai['y']=constrain(ai['y'],ai['r']+_0x12c478,canvasHeight-ai['r']-_0x12c478),ai[_0x546ed5(0xe5)]=ai['x']-ai[_0x546ed5(0xd1)],ai[_0x546ed5(0xd8)]=ai['y']-ai[_0x546ed5(0xcf)];}function updatePuck(){puck['x']+=puck['vx'],puck['y']+=puck['vy'],puck['vx']*=friction,puck['vy']*=friction;let _0x5ace71=sqrt(puck['vx']*puck['vx']+puck['vy']*puck['vy']);_0x5ace71>maxPuckSpeed&&(puck['vx']=puck['vx']/_0x5ace71*maxPuckSpeed,puck['vy']=puck['vy']/_0x5ace71*maxPuckSpeed);_0x5ace71<0.1&&(puck['vx']=0x0,puck['vy']=0x0);const _0x337efe=canvasHeight/0x2-goalWidth/0x2,_0x270cbc=canvasHeight/0x2+goalWidth/0x2,_0x59252a=0x1;if(puck['y']-puck['r']<0x0)puck['vy']*=wallRestitution,puck['y']=puck['r']+_0x59252a,puck['vx']*=friction;else puck['y']+puck['r']>canvasHeight&&(puck['vy']*=wallRestitution,puck['y']=canvasHeight-puck['r']-_0x59252a,puck['vx']*=friction);if(puck['x']-puck['r']<0x0)(puck['y']<_0x337efe||puck['y']>_0x270cbc)&&(puck['vx']*=wallRestitution,puck['x']=puck['r']+_0x59252a,puck['vy']*=friction);else puck['x']+puck['r']>canvasWidth&&((puck['y']<_0x337efe||puck['y']>_0x270cbc)&&(puck['vx']*=wallRestitution,puck['x']=canvasWidth-puck['r']-_0x59252a,puck['vy']*=friction));puck['x']=constrain(puck['x'],-puck['r']*0x2,canvasWidth+puck['r']*0x2),puck['y']=constrain(puck['y'],puck['r'],canvasHeight-puck['r']);}function checkCollisions(){(isDragging||dist(player['x'],player['y'],puck['x'],puck['y'])<player['r']+puck['r']+0xa)&&handlePaddleCollision(player),handlePaddleCollision(ai);}function handlePaddleCollision(_0x11a452){const _0x1fac97=_0x47ebf;let _0x4a45ea=puck['x']-_0x11a452['x'],_0x334cec=puck['y']-_0x11a452['y'],_0x115863=sqrt(_0x4a45ea*_0x4a45ea+_0x334cec*_0x334cec),_0x4aacb2=puck['r']+_0x11a452['r'];if(_0x115863<_0x4aacb2){let _0x444ebe=atan2(_0x334cec,_0x4a45ea),_0x232a88=0x7,_0x36fa58=sqrt(_0x11a452[_0x1fac97(0xe5)]*_0x11a452['velX']+_0x11a452['velY']*_0x11a452[_0x1fac97(0xd8)]),_0x2e03ef=_0x232a88+_0x36fa58*hitForceMultiplier*1.5;_0x2e03ef=min(_0x2e03ef,maxPuckSpeed*1.1),puck['vx']=cos(_0x444ebe)*_0x2e03ef,puck['vy']=sin(_0x444ebe)*_0x2e03ef;let _0x50e51b=_0x4aacb2-_0x115863,_0x171a17=1.1;puck['x']+=cos(_0x444ebe)*(_0x50e51b*_0x171a17+0x1),puck['y']+=sin(_0x444ebe)*(_0x50e51b*_0x171a17+0x1),_0x4a45ea=puck['x']-_0x11a452['x'],_0x334cec=puck['y']-_0x11a452['y'],_0x115863=sqrt(_0x4a45ea*_0x4a45ea+_0x334cec*_0x334cec);_0x115863<_0x4aacb2&&(puck['x']=_0x11a452['x']+cos(_0x444ebe)*(_0x4aacb2+0.1),puck['y']=_0x11a452['y']+sin(_0x444ebe)*(_0x4aacb2+0.1));let _0x5e8cbe=sqrt(puck['vx']*puck['vx']+puck['vy']*puck['vy']);_0x5e8cbe>maxPuckSpeed&&(puck['vx']=puck['vx']/_0x5e8cbe*maxPuckSpeed,puck['vy']=puck['vy']/_0x5e8cbe*maxPuckSpeed);}}function checkGoal(){const _0x1b4a57=canvasHeight/0x2-goalWidth/0x2,_0x594551=canvasHeight/0x2+goalWidth/0x2;puck['x']<puck['r']&&puck['y']>_0x1b4a57&&puck['y']<_0x594551&&(aiScore++,resetRound(!![])),puck['x']>canvasWidth-puck['r']&&puck['y']>_0x1b4a57&&puck['y']<_0x594551&&(playerScore++,resetRound(![]));}function drawBackgroundScore(){const _0x2b7eb0=_0x47ebf;background(fieldColor[0x0],fieldColor[0x1],fieldColor[0x2]),fill(scoreColor[0x0],scoreColor[0x1],scoreColor[0x2],scoreColor[0x3]),textSize(0x96),text(playerScore+_0x2b7eb0(0xea)+aiScore,canvasWidth/0x2,canvasHeight/0x2);}function drawField(){stroke(0xc8),strokeWeight(0x4),line(canvasWidth/0x2,0x0,canvasWidth/0x2,canvasHeight),noFill(),ellipse(canvasWidth/0x2,canvasHeight/0x2,0x50,0x50);const _0x95ec27=canvasHeight/0x2-goalWidth/0x2,_0x3e251f=canvasHeight/0x2+goalWidth/0x2;stroke(playerColor[0x0],playerColor[0x1],playerColor[0x2],0x96),line(0x0,_0x95ec27,0x0,_0x3e251f),stroke(aiColor[0x0],aiColor[0x1],aiColor[0x2],0x96),line(canvasWidth,_0x95ec27,canvasWidth,_0x3e251f),noStroke();}function drawPaddles(){const _0x280fa5=_0x47ebf;fill(player[_0x280fa5(0xf5)][0x0],player['color'][0x1],player[_0x280fa5(0xf5)][0x2]),ellipse(player['x'],player['y'],player['r']*0x2),fill(ai[_0x280fa5(0xf5)][0x0],ai['color'][0x1],ai[_0x280fa5(0xf5)][0x2]),ellipse(ai['x'],ai['y'],ai['r']*0x2);}function drawPuck(){const _0x307d25=_0x47ebf;fill(puck[_0x307d25(0xf5)][0x0],puck[_0x307d25(0xf5)][0x1],puck[_0x307d25(0xf5)][0x2]),ellipse(puck['x'],puck['y'],puck['r']*0x2);}function resetRound(_0x3bc4aa){const _0x3841b8=_0x47ebf;puck['x']=canvasWidth/0x2,puck['y']=canvasHeight/0x2,puck['vx']=_0x3bc4aa?random(0x2,0x4):random(-0x4,-0x2),puck['vy']=random(-1.5,1.5),player['x']=canvasWidth/0x4,player['y']=canvasHeight/0x2,player['velX']=0x0,player[_0x3841b8(0xd8)]=0x0,player[_0x3841b8(0xd1)]=player['x'],player['prevY']=player['y'],isDragging=![],canvasElement['removeClass'](_0x3841b8(0xf8)),ai['x']=aiBaseX,ai['y']=canvasHeight/0x2,ai['velX']=0x0,ai[_0x3841b8(0xd8)]=0x0,ai[_0x3841b8(0xd1)]=ai['x'],ai['prevY']=ai['y'],ai[_0x3841b8(0xfa)]=0x0,ai[_0x3841b8(0xef)]={'x':-0x1,'y':-0x1},ai[_0x3841b8(0xdf)]=![],console[_0x3841b8(0xdd)](_0x3841b8(0xe3),playerScore,'-',aiScore);}


    </script>

</body>
</html>