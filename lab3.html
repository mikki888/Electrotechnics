<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 300px !important;
            flex-basis: 300px !important; /* ADD flex-basis with !important */
            max-width: 300px !important; /* ADD max-width to prevent expansion */
            min-width: 300px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x3511eb=_0x5e85;(function(_0x4d26e8,_0x205046){const _0x14762a=_0x5e85,_0x23056d=_0x4d26e8();while(!![]){try{const _0x5bed8d=parseInt(_0x14762a(0x1d0))/0x1*(-parseInt(_0x14762a(0x192))/0x2)+parseInt(_0x14762a(0x1db))/0x3*(-parseInt(_0x14762a(0x17f))/0x4)+parseInt(_0x14762a(0x212))/0x5*(parseInt(_0x14762a(0x191))/0x6)+-parseInt(_0x14762a(0x1d3))/0x7*(parseInt(_0x14762a(0x19f))/0x8)+-parseInt(_0x14762a(0x1cc))/0x9+-parseInt(_0x14762a(0x19d))/0xa+parseInt(_0x14762a(0x1d4))/0xb;if(_0x5bed8d===_0x205046)break;else _0x23056d['push'](_0x23056d['shift']());}catch(_0x33c910){_0x23056d['push'](_0x23056d['shift']());}}}(_0x2529,0x82e79));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x3511eb(0x1fb)](navigator[_0x3511eb(0x1bc)]),isLargeMobileScreen=window[_0x3511eb(0x20d)]>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;console[_0x3511eb(0x209)](_0x3511eb(0x16f),SCALE_FACTOR);let elements=[],paletteElementsData=[{'type':_0x3511eb(0x1ed),'label':_0x3511eb(0x1aa),'targetX':0x32*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x1e4),'label':_0x3511eb(0x1de),'targetX':0x12c*SCALE_FACTOR,'targetY':0x32*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x1e4),'label':'SA2','targetX':0x1c2*SCALE_FACTOR,'targetY':0xb4*SCALE_FACTOR,'orientation':0x2,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x1e4),'label':_0x3511eb(0x1c1),'targetX':0x12c*SCALE_FACTOR,'targetY':0x13b*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x177),'label':'Hz','targetX':0xaa*SCALE_FACTOR,'targetY':0xb4*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x20f),'label':'φ','targetX':0xdc*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x16d),'label':'R1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x16d),'label':'Rk','targetX':0x190*SCALE_FACTOR,'targetY':0x96*SCALE_FACTOR,'orientation':0x2,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x183),'label':'PA1','targetX':0x85*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Induction','label':'L1','targetX':0x190*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x2,'placed':![],'isFixed':![]},{'type':_0x3511eb(0x1cb),'label':'C1','targetX':0xfa*SCALE_FACTOR,'targetY':0xfa*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]}];var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x32*SCALE_FACTOR;let lastMousePressTime=0x0;function _0x2529(){const _0xe28b54=['Ємність\x20конденсатора\x20\x20кола\x20дорівнює\x20нулю.','type','waveformColorVoltage','elementType','Схема\x20не\x20зібрана.\x20Спочатку\x20розмістіть\x20усі\x20елементи.','Введіть\x20напругу\x20для\x20','mouseY:','updateConnectors','Capacity','7908534xEiDOn','current','contains','dragOffsetX:','775921pyzcAq','pow','Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!','554771kORHki','46635171IsiwlK','frequencyHz','waveformColorCurrent',',\x20Position:\x20','arc','round','draggedElement.x:','249HgngXU','width','voltage','SA1','resistance','isFixed','canvas','placedElementData','Цільова\x20точка\x20не\x20знайдена','Switch','rotationAngle','circle','show','floor','noStroke','toggleState','splice','\x20мкФ','AutotransformerLaboratory','update','top','updateWaveform','palette','originalY','rect','strokeWeight','textSize','createElement','angleMode','phase','postDisplay','addEventListener','test','SA2','sqrt','elementLabel','classList','green','tapPosition','add','random','pop','bottom','palette-element','PA1','error','log','mousePressed\x20(canvasElementInstance):\x20mouseX:','triangle','dragOffsetY:','innerWidth','isDragging','Phasemeter','copy','rectMode','10295kOpXsa','originalX','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','Струм','draggedElement.y:','phaseAngleDeg','Введіть\x20індуктивність\x20для\x20','Потрібно\x20поставити\x20елементів:\x20','push','Resistor','toFixed','SCALE_FACTOR:','currentTarget','dataset','max','function','\x20Ом','updateConnectorPositions','height','Frequency','Схему\x20зібрано!','drawWaveforms','voltageAmplitude','textContent','\x20Гц','setLineDash','clear','45700zFMTDe','\x20\x20мГн','Element:\x20','Node','CustomAmmeter','Введіть\x20ємність\x20для\x20','Л\x20А\x20Т\x20Р','capacity','Induction','textAlign','state','stroke','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:',',\x20yTextOffset:\x20','appendChild','Дослідні\x20дані','displayPalette','440','204otboVi','2xShSRk','100','mouseDragged:\x20mouseX:','drawingContext','Uк\x20=\x20','Відстань\x20до\x20точки:\x20','currentAmplitude','lightgray','display','translate','frequency','10119540ujpafT','elementOrientation','16huosss','voltageDrop','fill','Canvas\x20button\x20\x27Дослідні\x20дані\x27\x20clicked!','text','lightgreen','Повний\x20опір\x20кола\x20дорівнює\x20нулю,\x20струм\x20неможливо\x20обчислити.','forEach','Введіть\x20опір\x20для\x20','lightcyan','setText','AT1','induction','line','getElementById','targetY','Напруга','length','isOpen','undefined','label','warn','\x20px','isActive','calculateCircuit\x20function\x20called!','noFill','placed','paletteIndex','connectors','userAgent','calculationDisplayValue','newY:','lightyellow','targetX','SA3','orientation'];_0x2529=function(){return _0xe28b54;};return _0x2529();}const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=![],staticVoltageDisplay;function setup(){const _0x247f37=_0x3511eb;createCanvas(0x258*SCALE_FACTOR,0x1e0*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x247f37(0x1b0)],staticVoltageDisplay=new StaticTextDisplay(0x14a*SCALE_FACTOR,0xc8*SCALE_FACTOR,''),elements[_0x247f37(0x16c)](staticVoltageDisplay),oscilloscopeDisplay=new Oscilloscope(0x1c2*SCALE_FACTOR,0x0*SCALE_FACTOR,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR),elements['push'](oscilloscopeDisplay);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x3f5867=_0x3511eb;let _0x264266={'SA2':null,'E2':null};paletteElementsData[_0x3f5867(0x1a6)](_0x1626c9=>{const _0x190f3e=_0x3f5867;let _0x33b47c=createPaletteElementInstance(_0x1626c9[_0x190f3e(0x1c4)],_0x1626c9[_0x190f3e(0x1b3)],_0x1626c9['orientation'],_0x1626c9['targetX'],_0x1626c9[_0x190f3e(0x1ae)],_0x1626c9);_0x33b47c[_0x190f3e(0x1b3)]==='Rk'&&(_0x33b47c[_0x190f3e(0x1df)]='20'),elements[_0x190f3e(0x16c)](_0x33b47c),_0x1626c9[_0x190f3e(0x1b9)]=!![],_0x1626c9[_0x190f3e(0x1e0)]=!![],_0x33b47c[_0x190f3e(0x1e2)][_0x190f3e(0x1b9)]=!![],_0x33b47c[_0x190f3e(0x1e2)][_0x190f3e(0x1e0)]=!![];}),paletteElementsData=[];const _0x5e31a9=document[_0x3f5867(0x1ad)](_0x3f5867(0x1f1));_0x5e31a9['innerHTML']='',createPalette();}function createPalette(){const _0x1a5198=_0x3511eb,_0x5d8f1b=document['getElementById'](_0x1a5198(0x1f1));paletteElementsData['forEach']((_0x49c99c,_0x64de57)=>{const _0x4f9984=_0x1a5198,_0x1614c1=document[_0x4f9984(0x1f6)]('div');_0x1614c1['classList'][_0x4f9984(0x202)](_0x4f9984(0x206));let _0x420d8d=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x420d8d[_0x4f9984(0x17e)](),_0x420d8d[_0x4f9984(0x16c)](),_0x420d8d[_0x4f9984(0x19b)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x50b39f=createPaletteElementInstance(_0x49c99c['type'],_0x49c99c[_0x4f9984(0x1b3)],_0x49c99c[_0x4f9984(0x1c2)],0x0,0x0,_0x49c99c);_0x50b39f[_0x4f9984(0x1c2)]=_0x49c99c[_0x4f9984(0x1c2)],_0x50b39f[_0x4f9984(0x18f)](_0x420d8d),_0x420d8d[_0x4f9984(0x204)]();const _0x35bae7=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x35bae7[_0x4f9984(0x210)](_0x420d8d,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1614c1[_0x4f9984(0x18d)](_0x35bae7[_0x4f9984(0x1e1)]),_0x1614c1['dataset']['elementType']=_0x49c99c[_0x4f9984(0x1c4)],_0x1614c1[_0x4f9984(0x171)][_0x4f9984(0x1fe)]=_0x49c99c[_0x4f9984(0x1b3)],_0x1614c1[_0x4f9984(0x171)][_0x4f9984(0x19e)]=_0x49c99c[_0x4f9984(0x1c2)],_0x1614c1[_0x4f9984(0x171)][_0x4f9984(0x1ba)]=_0x64de57,_0x1614c1[_0x4f9984(0x1fa)]('click',paletteElementClick),_0x5d8f1b['appendChild'](_0x1614c1);});}function draw(){const _0xfa0049=_0x3511eb;background(0xf0),strokeWeight(0x1);const _0x4f2ff0=0x258*SCALE_FACTOR,_0x5e71e0=0x1c2*SCALE_FACTOR,_0x225201=0x32*SCALE_FACTOR;stroke('lightgray');function _0x1de53a(_0x491dc1,_0x464b44,_0x41140c,_0x5aa2b9){line(_0x491dc1,_0x464b44,_0x41140c,_0x5aa2b9);}for(let _0x60613b=0x0;_0x60613b<=_0x5e71e0;_0x60613b+=_0x225201){_0x1de53a(0x0,_0x60613b,_0x4f2ff0,_0x60613b);}for(let _0x398d3a=0x0;_0x398d3a<=_0x4f2ff0;_0x398d3a+=_0x225201){_0x1de53a(_0x398d3a,0x0,_0x398d3a,_0x5e71e0);}for(let _0x465850 of elements){typeof _0x465850[_0xfa0049(0x1ee)]===_0xfa0049(0x173)&&_0x465850[_0xfa0049(0x1ee)](),_0x465850[_0xfa0049(0x19a)]();}stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),_0x1de53a(0x4b*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x64*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x1de53a(0x64*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x64*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x1de53a(0x64*SCALE_FACTOR,0x64*SCALE_FACTOR,0x73*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x1de53a(0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x1de53a(0xfa*SCALE_FACTOR,0x64*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1de53a(0xfa*SCALE_FACTOR,0x32*SCALE_FACTOR,0x118*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1de53a(0x140*SCALE_FACTOR,0x32*SCALE_FACTOR,0x15e*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x1de53a(0x15e*SCALE_FACTOR,0x32*SCALE_FACTOR,0x15e*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x15e*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x1de53a(0xfa*SCALE_FACTOR,0x64*SCALE_FACTOR,0x118*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x1de53a(0x140*SCALE_FACTOR,0x64*SCALE_FACTOR,0x190*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x190*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x1de53a(0x190*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x1de53a(0x1c2*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xa0*SCALE_FACTOR),_0x1de53a(0x1c2*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x1de53a(0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x1de53a(0x10e*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x1de53a(0x190*SCALE_FACTOR,0x64*SCALE_FACTOR,0x190*SCALE_FACTOR,0x82*SCALE_FACTOR),_0x1de53a(0x190*SCALE_FACTOR,0xe6*SCALE_FACTOR,0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR),circle(0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),circle(0x15e*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x1de53a(0x15e*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x15e*SCALE_FACTOR,0x13b*SCALE_FACTOR),_0x1de53a(0x15e*SCALE_FACTOR,0x13b*SCALE_FACTOR,0x140*SCALE_FACTOR,0x13b*SCALE_FACTOR),_0x1de53a(0x118*SCALE_FACTOR,0x13b*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x13b*SCALE_FACTOR),_0x1de53a(0xc8*SCALE_FACTOR,0x13b*SCALE_FACTOR,0xc8*SCALE_FACTOR,0xfa*SCALE_FACTOR),circle(0xc8*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x1de53a(0xe6*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x1e*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x1de53a(0xaa*SCALE_FACTOR,0xfa*SCALE_FACTOR,0xaa*SCALE_FACTOR,0xc5*SCALE_FACTOR),circle(0xaa*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),circle(0xaa*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x1de53a(0xaa*SCALE_FACTOR,0xa2*SCALE_FACTOR,0xaa*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x1de53a(0xdc*SCALE_FACTOR,0x78*SCALE_FACTOR,0xdc*SCALE_FACTOR,0xfa*SCALE_FACTOR),circle(0xdc*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0xfa0049(0x19a)](),pop()),drawMessageBox(),drawCounterBox(),drawDistanceBox(),drawCalculateButton();}function drawMessageBox(){const _0x45ccd7=_0x3511eb;messageBox['classList'][_0x45ccd7(0x1ce)](_0x45ccd7(0x1e7))&&(push(),fill(_0x45ccd7(0x1a4)),stroke(_0x45ccd7(0x200)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0x45ccd7(0x17b)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x16eb7b=_0x3511eb;push(),fill(_0x16eb7b(0x1bf)),stroke('orange'),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox['textContent'],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function _0x5e85(_0x54f0cf,_0x3b822f){const _0x252927=_0x2529();return _0x5e85=function(_0x5e85d2,_0xf5c482){_0x5e85d2=_0x5e85d2-0x167;let _0x5366f5=_0x252927[_0x5e85d2];return _0x5366f5;},_0x5e85(_0x54f0cf,_0x3b822f);}function drawDistanceBox(){const _0x36218c=_0x3511eb;push(),fill(_0x36218c(0x1a8)),stroke('blue'),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x36218c(0x17b)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x16aa0c=_0x3511eb;if(isCalculateButtonVisible){push(),fill('#4CAF50'),noStroke(),rectMode(CORNER);let _0x56c3bf=0x96*SCALE_FACTOR,_0x3dfc18=height-0x32*SCALE_FACTOR,_0x7f509a=0xc8*SCALE_FACTOR,_0x46ab95=0x32*SCALE_FACTOR;rect(_0x56c3bf,_0x3dfc18,_0x7f509a,_0x46ab95,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x16aa0c(0x18e),_0x56c3bf+_0x7f509a/0x2,_0x3dfc18+_0x46ab95/0x2),pop();}}function paletteElementClick(_0x4ccdb3){const _0x433ca5=_0x3511eb,_0x219ad3=_0x4ccdb3[_0x433ca5(0x170)];if(!_0x219ad3){console[_0x433ca5(0x208)](_0x433ca5(0x214));return;}const _0x52abfe=_0x219ad3[_0x433ca5(0x171)][_0x433ca5(0x1c6)],_0x2aa43f=_0x219ad3['dataset']['elementLabel'],_0x429de7=_0x219ad3[_0x433ca5(0x171)][_0x433ca5(0x19e)],_0x52d9bc=parseInt(_0x219ad3[_0x433ca5(0x171)]['paletteIndex']);if(!_0x52abfe||!_0x2aa43f||!_0x429de7||isNaN(_0x52d9bc)){console[_0x433ca5(0x208)](_0x433ca5(0x1d2),_0x219ad3[_0x433ca5(0x171)]);return;}canvasElementInstance=createPaletteElementInstance(_0x52abfe,_0x2aa43f,_0x429de7,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x52d9bc]),paletteElementsData[_0x433ca5(0x1eb)](_0x52d9bc,0x1);const _0x4a4b9d=document[_0x433ca5(0x1ad)](_0x433ca5(0x1f1));_0x4a4b9d['innerHTML']='',createPalette();}function createPaletteElementInstance(_0x52b6c9,_0x29162f,_0x41e1ef,_0x336e95,_0x66532e,_0x2a8ed7){const _0x1b25f9=_0x3511eb;let _0x4b0c20;switch(_0x52b6c9){case'AutotransformerLaboratory':_0x4b0c20=new AutotransformerLaboratory(_0x336e95,_0x66532e,_0x29162f);break;case'Resistor':_0x4b0c20=new Resistor(_0x336e95,_0x66532e,_0x29162f);_0x29162f==='Rk'&&(_0x4b0c20[_0x1b25f9(0x1df)]='20');break;case'SwitchSPDT':_0x4b0c20=new SwitchSPDT(_0x336e95,_0x66532e,_0x29162f);break;case _0x1b25f9(0x1e4):_0x4b0c20=new Switch(_0x336e95,_0x66532e,_0x29162f);break;case'CustomAmmeter':_0x4b0c20=new CustomAmmeter(_0x336e95,_0x66532e,_0x29162f);break;case'Phasemeter':_0x4b0c20=new Phasemeter(_0x336e95,_0x66532e,_0x29162f);break;case _0x1b25f9(0x182):_0x4b0c20=new Node(_0x336e95,_0x66532e,_0x29162f);break;case _0x1b25f9(0x187):_0x4b0c20=new Induction(_0x336e95,_0x66532e,_0x29162f);break;case'Capacity':_0x4b0c20=new Capacity(_0x336e95,_0x66532e,_0x29162f);break;case _0x1b25f9(0x177):_0x4b0c20=new Frequency(_0x336e95,_0x66532e,_0x29162f);break;default:return null;}return _0x4b0c20['orientation']=parseInt(_0x41e1ef),_0x4b0c20[_0x1b25f9(0x1e2)]=_0x2a8ed7,_0x4b0c20;}function generateNewData(){const _0x1f4216=_0x3511eb,_0x1aaf66=[];for(let _0x5197c1=0x1e;_0x5197c1<=0x64;_0x5197c1+=0x5){_0x1aaf66[_0x1f4216(0x16c)](_0x5197c1);}const _0x1716f1=[];for(let _0x213dc4=0xa;_0x213dc4<=0x64;_0x213dc4+=0xa){_0x1716f1[_0x1f4216(0x16c)](_0x213dc4);}const _0xef626f=[];for(let _0x2b0ac8=0x1;_0x2b0ac8<=0x14;_0x2b0ac8+=0x1){_0xef626f['push'](_0x2b0ac8);}const _0x4305ec=[];for(let _0x536597=0x5;_0x536597<=0x64;_0x536597+=0x5){_0x4305ec[_0x1f4216(0x16c)](_0x536597);}const _0x18294e=[];for(let _0x26eaee=0x190;_0x26eaee<=0x258;_0x26eaee+=0xa){_0x18294e['push'](_0x26eaee);}let _0x294798=_0x1716f1[Math[_0x1f4216(0x1e8)](Math[_0x1f4216(0x203)]()*_0x1716f1[_0x1f4216(0x1b0)])],_0x5a7364=_0xef626f[Math[_0x1f4216(0x1e8)](Math[_0x1f4216(0x203)]()*_0xef626f['length'])],_0x1579e6=_0x1aaf66[Math['floor'](Math[_0x1f4216(0x203)]()*_0x1aaf66[_0x1f4216(0x1b0)])],_0x386167=_0x4305ec[Math[_0x1f4216(0x1e8)](Math[_0x1f4216(0x203)]()*_0x4305ec[_0x1f4216(0x1b0)])],_0x1dc3d2=_0x18294e[Math[_0x1f4216(0x1e8)](Math['random']()*_0x18294e[_0x1f4216(0x1b0)])],_0x560d09={'R1':findElementByLabel('R1'),'Rk':findElementByLabel('Rk'),'AT':findElementByLabel(_0x1f4216(0x1aa)),'C1':findElementByLabel('C1'),'L1':findElementByLabel('L1')};_0x560d09['R1']['resistance']=String(_0x294798),_0x560d09['Rk'][_0x1f4216(0x1df)]=String(_0x5a7364),_0x560d09['AT']['voltage']=String(_0x1579e6),_0x560d09['C1'][_0x1f4216(0x186)]=String(_0x386167),_0x560d09['L1'][_0x1f4216(0x1ab)]=String(_0x1dc3d2),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x5404b1=_0x3511eb;console[_0x5404b1(0x209)]('mousePressed\x20function\x20called');if(isCalculateButtonVisible){let _0x50613b=0x96*SCALE_FACTOR,_0x142768=height-0x32*SCALE_FACTOR,_0x48eefd=0xc8*SCALE_FACTOR,_0x48e7cc=0x32*SCALE_FACTOR;if(mouseX>_0x50613b&&mouseX<_0x50613b+_0x48eefd&&mouseY>_0x142768&&mouseY<_0x142768+_0x48e7cc){console[_0x5404b1(0x209)](_0x5404b1(0x1a2)),generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x4f2e34=null;for(let _0x130cdf=elements['length']-0x1;_0x130cdf>=0x0;_0x130cdf--){let _0x46b53f=elements[_0x130cdf];if(_0x46b53f instanceof Node||_0x46b53f instanceof StaticTextDisplay)continue;let _0x26635c;if(_0x46b53f instanceof VoltageSource||_0x46b53f instanceof CustomAmmeter||_0x46b53f instanceof AutotransformerLaboratory||_0x46b53f instanceof Induction||_0x46b53f instanceof Capacity||_0x46b53f instanceof Phasemeter||_0x46b53f instanceof Frequency){_0x26635c=dist(mouseX,mouseY,_0x46b53f['x'],_0x46b53f['y']);if(_0x26635c<_0x46b53f['r']*SCALE_FACTOR){_0x4f2e34=_0x46b53f;break;}}else{if(_0x46b53f instanceof Resistor||_0x46b53f instanceof Switch||_0x46b53f instanceof SwitchSPDT){if(mouseX>_0x46b53f['x']-_0x46b53f['w']/0x2*SCALE_FACTOR&&mouseX<_0x46b53f['x']+_0x46b53f['w']/0x2*SCALE_FACTOR&&mouseY>_0x46b53f['y']-_0x46b53f['h']/0x2*SCALE_FACTOR&&mouseY<_0x46b53f['y']+_0x46b53f['h']/0x2*SCALE_FACTOR){_0x4f2e34=_0x46b53f;break;}}}}if(_0x4f2e34){if(_0x4f2e34['placedElementData']&&_0x4f2e34[_0x5404b1(0x1e2)][_0x5404b1(0x1e0)]){let _0x652e73=millis();if(_0x652e73-lastMousePressTime<DOUBLE_CLICK_THRESHOLD){if(_0x4f2e34 instanceof SwitchSPDT)_0x4f2e34[_0x5404b1(0x1ea)]();else{if(_0x4f2e34 instanceof Switch)_0x4f2e34[_0x5404b1(0x1ea)]();else{if(_0x4f2e34 instanceof Resistor&&KirgofTest){let _0x5f1303=prompt(_0x5404b1(0x1a7)+_0x4f2e34[_0x5404b1(0x1b3)]+':',_0x4f2e34[_0x5404b1(0x1df)]||_0x5404b1(0x193));_0x5f1303!==null&&(_0x4f2e34[_0x5404b1(0x1df)]=_0x5f1303,calculateCircuit());}else{if(_0x4f2e34 instanceof AutotransformerLaboratory){let _0x1aba7a=prompt(_0x5404b1(0x1c8)+_0x4f2e34[_0x5404b1(0x1b3)]+':',_0x4f2e34['voltage']||'50');_0x1aba7a!==null&&(_0x4f2e34[_0x5404b1(0x1dd)]=_0x1aba7a,calculateCircuit());}else{if(_0x4f2e34 instanceof Induction&&KirgofTest){let _0x396387=prompt(_0x5404b1(0x16a)+_0x4f2e34[_0x5404b1(0x1b3)]+':',_0x4f2e34['induction']||'5');_0x396387!==null&&(_0x4f2e34[_0x5404b1(0x1ab)]=_0x396387,calculateCircuit());}else{if(_0x4f2e34 instanceof Capacity){let _0x2b2aba=prompt(_0x5404b1(0x184)+_0x4f2e34[_0x5404b1(0x1b3)]+':',_0x4f2e34['capacity']||'10');_0x2b2aba!==null&&(_0x4f2e34[_0x5404b1(0x186)]=_0x2b2aba,calculateCircuit());}else{if(_0x4f2e34 instanceof Frequency){let _0x293351=prompt(_0x5404b1(0x184)+_0x4f2e34[_0x5404b1(0x1b3)]+':',_0x4f2e34[_0x5404b1(0x19c)]||'50');_0x293351!==null&&(_0x4f2e34['frequency']=_0x293351,calculateCircuit());}}}}}}}}lastMousePressTime=_0x652e73;return;}draggedElement=_0x4f2e34,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y'],lastMousePressTime=currentTime;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,console[_0x5404b1(0x209)](_0x5404b1(0x20a),mouseX,'mouseY:',mouseY,_0x5404b1(0x1da),draggedElement['x'],_0x5404b1(0x168),draggedElement['y'],_0x5404b1(0x1cf),dragOffsetX,_0x5404b1(0x20c),dragOffsetY),dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x5404b1(0x16c)](draggedElement),canvasElementInstance=null,redraw()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x21c282=_0x3511eb;let _0x5ac250=canvasElementInstance||draggedElement;if(_0x5ac250){dragOffsetX=0x0,dragOffsetY=0x0;let _0x39d187=mouseX-dragOffsetX,_0x223384=mouseY-dragOffsetY;console[_0x21c282(0x209)](_0x21c282(0x194),mouseX,_0x21c282(0x1c9),mouseY,'dragOffsetX:',dragOffsetX,'dragOffsetY:',dragOffsetY,'newX:',_0x39d187,_0x21c282(0x1be),_0x223384);let _0x22f2b1=0x1e*SCALE_FACTOR,_0x3eb1d5=_0x22f2b1,_0x1ace74=_0x22f2b1,_0x10f723=width-_0x22f2b1,_0x15e41c=height-_0x22f2b1;_0x5ac250['x']=constrain(_0x39d187,_0x3eb1d5,_0x10f723),_0x5ac250['y']=constrain(_0x223384,_0x1ace74,_0x15e41c);if(_0x5ac250[_0x21c282(0x1e2)]){let _0x3c47ae=dist(_0x5ac250['x'],_0x5ac250['y'],_0x5ac250[_0x21c282(0x1e2)]['targetX'],_0x5ac250[_0x21c282(0x1e2)][_0x21c282(0x1ae)]),_0x392168=Math[_0x21c282(0x172)](0x0,Math[_0x21c282(0x1d9)](_0x3c47ae-SNAP_DISTANCE));distanceBox[_0x21c282(0x17b)]=_0x21c282(0x197)+_0x392168+_0x21c282(0x1b5);}else distanceBox[_0x21c282(0x17b)]=_0x21c282(0x1e3);}}function mouseReleased(){const _0x57a0a0=_0x3511eb;let _0x9f0352=null,_0xe9df03;if(canvasElementInstance)elements[_0x57a0a0(0x16c)](canvasElementInstance),_0x9f0352=canvasElementInstance[_0x57a0a0(0x1e2)],_0x9f0352&&(_0xe9df03=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x9f0352['targetX'],_0x9f0352['targetY']),_0xe9df03<=SNAP_DISTANCE&&!_0x9f0352[_0x57a0a0(0x1b9)]&&(canvasElementInstance['x']=_0x9f0352['targetX'],canvasElementInstance['y']=_0x9f0352[_0x57a0a0(0x1ae)],_0x9f0352[_0x57a0a0(0x1b9)]=!![],elementsPlacedCount++,_0x9f0352[_0x57a0a0(0x1e0)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x9f0352=draggedElement[_0x57a0a0(0x1e2)],_0xe9df03=_0x9f0352?dist(draggedElement['x'],draggedElement['y'],_0x9f0352[_0x57a0a0(0x1c0)],_0x9f0352[_0x57a0a0(0x1ae)]):undefined;if(_0x9f0352){if(_0xe9df03<=SNAP_DISTANCE&&!_0x9f0352[_0x57a0a0(0x1b9)])!_0x9f0352[_0x57a0a0(0x1b9)]&&(draggedElement['x']=_0x9f0352['targetX'],draggedElement['y']=_0x9f0352[_0x57a0a0(0x1ae)],_0x9f0352[_0x57a0a0(0x1b9)]=!![],elementsPlacedCount++,_0x9f0352[_0x57a0a0(0x1e0)]=!![]);else _0x9f0352[_0x57a0a0(0x1b9)]&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x9f0352[_0x57a0a0(0x1b9)]=![],elementsPlacedCount--,_0x9f0352[_0x57a0a0(0x1e0)]=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x57a0a0(0x17b)]='',redraw();}function updateCounterDisplay(){const _0x2f1c64=_0x3511eb;counterBox[_0x2f1c64(0x17b)]=_0x2f1c64(0x16b)+(elementsToPlaceCount-elementsPlacedCount),elementsToPlaceCount-elementsPlacedCount<=0x0?(counterBox[_0x2f1c64(0x17b)]=_0x2f1c64(0x178),isCalculateButtonVisible=!![],calculateCircuit()):isCalculateButtonVisible=![];}function showCorrectMessage(){const _0x4e0baa=_0x3511eb;messageBox['textContent']='Correctly\x20placed!',messageBox[_0x4e0baa(0x1ff)]['add']('show'),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x107aff=_0x4e0baa;messageBox[_0x107aff(0x1ff)]['remove']('show');},0x7d0);}function calculateCircuit(){const _0x34e6f1=_0x3511eb;console[_0x34e6f1(0x209)](_0x34e6f1(0x1b7));if(elementsToPlaceCount-elementsPlacedCount>0x0){alert(_0x34e6f1(0x1c7));return;}hideCalculationValues(),console['log']('calculateCircuit()\x20function\x20called');const _0x280936=findElementByLabel('R1'),_0x342e33=findElementByLabel('Rk'),_0x4f88ea=findElementByLabel('L1'),_0x50e467=findElementByLabel('C1'),_0x2ce8df=findElementByLabel('AT1'),_0xfab152=findElementByLabel('Hz'),_0x26d822=findElementByLabel(_0x34e6f1(0x207)),_0x4ec55c=findElementByLabel('φ');if(!_0x280936||!_0x342e33||!_0x4f88ea||!_0x50e467||!_0x2ce8df||!_0xfab152||!_0x26d822||!_0x4ec55c){console['error']('Не\x20всі\x20елементи\x20знайдені\x20на\x20схемі\x20для\x20розрахунку.');return;}const _0x42a1c9=parseFloat(_0x280936['resistance']),_0x54a9cb=parseFloat(_0x342e33['resistance']),_0x1b2cd9=parseFloat(_0x4f88ea[_0x34e6f1(0x1ab)]),_0x581662=parseFloat(_0x50e467[_0x34e6f1(0x186)]),_0x29d730=parseFloat(_0x2ce8df[_0x34e6f1(0x1dd)]),_0x4db948=parseFloat(_0xfab152[_0x34e6f1(0x19c)]),_0x4cb28c=_0x1b2cd9/0x3e8,_0x4b8185=_0x581662/0xf4240,_0xafbca7=0x2*Math['PI']*_0x4db948,_0x58e4c0=_0xafbca7*_0x4cb28c;let _0x1f0d8a=0x0;_0x4b8185!==0x0?_0x1f0d8a=0x1/(_0xafbca7*_0x4b8185):(console[_0x34e6f1(0x1b4)](_0x34e6f1(0x1c3)),_0x1f0d8a=0x0);const _0x3cc2c1=Math[_0x34e6f1(0x1fd)](Math['pow'](_0x42a1c9+_0x54a9cb,0x2)+Math[_0x34e6f1(0x1d1)](_0x58e4c0-_0x1f0d8a,0x2));let _0x4bcebd=0x0;_0x3cc2c1!==0x0?_0x4bcebd=_0x29d730/_0x3cc2c1:(console[_0x34e6f1(0x1b4)](_0x34e6f1(0x1a5)),_0x4bcebd=0x0);const _0x251734=_0x4bcebd*_0x42a1c9,_0x508c2c=_0x4bcebd*_0x1f0d8a,_0x3193fd=_0x4bcebd*_0x54a9cb,_0x2f6abf=_0x4bcebd*_0x58e4c0;let _0x11559d=Math['atan2'](_0x58e4c0-_0x1f0d8a,_0x42a1c9+_0x54a9cb),_0x357a4c=_0x11559d*(0xb4/Math['PI']);isNaN(_0x357a4c)&&(_0x357a4c=0x0);const _0x46609a=Math[_0x34e6f1(0x1fd)](Math[_0x34e6f1(0x1d1)](_0x3193fd,0x2)+Math[_0x34e6f1(0x1d1)](_0x2f6abf,0x2));displayCalculationValue(_0x280936,_0x251734[_0x34e6f1(0x16e)](0x2)+'\x20В','bottom'),staticVoltageDisplay[_0x34e6f1(0x1a9)](_0x34e6f1(0x196)+_0x46609a[_0x34e6f1(0x16e)](0x2)+'\x20В'),displayCalculationValue(_0x50e467,_0x508c2c[_0x34e6f1(0x16e)](0x2)+'\x20В','bottom'),displayCalculationValue(_0x4ec55c,_0x357a4c['toFixed'](0x2)+'°',_0x34e6f1(0x1ef)),displayCalculationValue(_0x26d822,_0x4bcebd['toFixed'](0x3)+'\x20А',_0x34e6f1(0x205)),oscilloscopeDisplay&&oscilloscopeDisplay[_0x34e6f1(0x1f0)](_0x4bcebd,_0x46609a,_0x4db948,_0x357a4c);}function findElementByLabel(_0x537ff1){const _0x122666=_0x3511eb;for(const _0x86c4bc of elements){if(_0x86c4bc[_0x122666(0x1b3)]===_0x537ff1)return _0x86c4bc;}return null;}function displayCalculationValue(_0x389624,_0x24b636,_0x79e022){const _0x8dfa1d=_0x3511eb;if(!_0x389624||typeof _0x389624['x']===_0x8dfa1d(0x1b2)||typeof _0x389624['y']===_0x8dfa1d(0x1b2)){console[_0x8dfa1d(0x208)](_0x8dfa1d(0x18b),_0x389624);return;}push(),translate(_0x389624['x'],_0x389624['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x79e022===_0x8dfa1d(0x205)?TOP:BOTTOM);let _0x166f3f=0x0;if(_0x389624 instanceof CustomAmmeter||_0x389624 instanceof Frequency)_0x166f3f=(_0x79e022===_0x8dfa1d(0x205)?_0x389624['r']+0xa:-_0x389624['r']-0x19)*SCALE_FACTOR;else{if(_0x389624 instanceof Phasemeter)_0x166f3f=(_0x79e022==='bottom'?_0x389624['r']+0xa:-_0x389624['r']-0x19)*SCALE_FACTOR;else{if(_0x389624 instanceof Resistor)_0x166f3f=(_0x79e022===_0x8dfa1d(0x1ef)?-_0x389624['h']/0x2-0xf:_0x389624['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x389624 instanceof AutotransformerLaboratory)_0x166f3f=(_0x79e022===_0x8dfa1d(0x1ef)?-_0x389624['h']/0x2-0x23:_0x389624['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x389624 instanceof Induction)_0x166f3f=(_0x79e022==='top'?-_0x389624['h']/0x2-0xf:_0x389624['h']/0x2+0x14)*SCALE_FACTOR;else _0x389624 instanceof Capacity&&(_0x166f3f=(_0x79e022===_0x8dfa1d(0x1ef)?-_0x389624['h']/0x2-0xf:_0x389624['h']/0x2+0x14)*SCALE_FACTOR);}}}}console[_0x8dfa1d(0x209)](_0x8dfa1d(0x181)+_0x389624[_0x8dfa1d(0x1b3)]+_0x8dfa1d(0x1d7)+_0x79e022+_0x8dfa1d(0x18c)+_0x166f3f+',\x20element.y:\x20'+_0x389624['y']+',\x20r:\x20'+_0x389624['r']+',\x20h:\x20'+_0x389624['h']),text(_0x24b636,0x0,_0x166f3f),pop(),_0x389624['calculationDisplayValue']=_0x24b636;}function hideCalculationValues(){const _0x4c2349=_0x3511eb;redraw(),elements[_0x4c2349(0x1a6)](_0x16cb2b=>{const _0x4727bb=_0x4c2349;_0x16cb2b[_0x4727bb(0x1bd)]=null;});}class CircuitElement{constructor(_0x3a2f5b,_0x4ec3b1){const _0x5a3d88=_0x3511eb;this['x']=_0x3a2f5b,this['y']=_0x4ec3b1,this[_0x5a3d88(0x1c2)]=0x1,this[_0x5a3d88(0x1bb)]=[],this[_0x5a3d88(0x20e)]=![],this[_0x5a3d88(0x1e2)]=null,this[_0x5a3d88(0x1bd)]=null;}[_0x3511eb(0x1ee)](){}['display'](){const _0x4ccf1c=_0x3511eb;push(),translate(this['x'],this['y']);let _0x56421b=0x0;switch(this['orientation']){case 0x2:_0x56421b=PI/0x2;break;case 0x3:_0x56421b=PI;break;case 0x4:_0x56421b=0x3*PI/0x2;break;default:_0x56421b=0x0;}rotate(_0x56421b),this[_0x4ccf1c(0x1bd)]!==null&&(fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),text(this[_0x4ccf1c(0x1bd)],-0x2*SCALE_FACTOR,0x2d*SCALE_FACTOR));}['postDisplay'](){rotate(0x0),pop();}['updateConnectors'](){const _0x398b9f=_0x3511eb;this[_0x398b9f(0x1bb)]['forEach'](_0xda6756=>{const _0x3b0f5a=_0x398b9f;_0xda6756['x']=this['x']+cos(this[_0x3b0f5a(0x1e5)]())*_0xda6756[_0x3b0f5a(0x213)]-sin(this['rotationAngle']())*_0xda6756[_0x3b0f5a(0x1f2)],_0xda6756['y']=this['y']+sin(this[_0x3b0f5a(0x1e5)]())*_0xda6756[_0x3b0f5a(0x213)]+cos(this['rotationAngle']())*_0xda6756[_0x3b0f5a(0x1f2)];});}[_0x3511eb(0x1e5)](){const _0x4a7210=_0x3511eb;switch(this[_0x4a7210(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x3f43d7,_0x30a3fe,_0x21d25e){const _0x4b6a0b=_0x3511eb;super(_0x3f43d7,_0x30a3fe),this['r']=0x14*SCALE_FACTOR,this[_0x4b6a0b(0x1b3)]=_0x21d25e,this['voltage']='12',this[_0x4b6a0b(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x4b6a0b(0x1bb)][_0x4b6a0b(0x1a6)](_0x447c01=>{const _0x1fb024=_0x4b6a0b;_0x447c01[_0x1fb024(0x213)]*=SCALE_FACTOR;}),this[_0x4b6a0b(0x1b6)]=![];}[_0x3511eb(0x18f)](_0x46db27){const _0x3605d7=_0x3511eb;_0x46db27[_0x3605d7(0x1f4)](0x1*SCALE_FACTOR),_0x46db27[_0x3605d7(0x18a)](0x0),_0x46db27[_0x3605d7(0x1a1)](0xff),_0x46db27[_0x3605d7(0x1e6)](0x0,0x0,this['r']*1.5),_0x46db27[_0x3605d7(0x1ac)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x46db27[_0x3605d7(0x1ac)](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x46db27[_0x3605d7(0x1ac)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x46db27['noStroke'](),_0x46db27[_0x3605d7(0x1a1)](0x0),_0x46db27[_0x3605d7(0x188)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x46db27[_0x3605d7(0x1a3)](this['label'],0x0,this['r']*1.3);}['display'](){const _0x2ee6a9=_0x3511eb;super[_0x2ee6a9(0x19a)]();let _0x2aa4eb=0x1*SCALE_FACTOR,_0x5b508c=0x2*_0x2aa4eb;this[_0x2ee6a9(0x1b6)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x5b508c),fill(0xff)):(stroke(0x0),strokeWeight(_0x2aa4eb),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x2ee6a9(0x1b6)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x2ee6a9(0x1b3)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this[_0x2ee6a9(0x1dd)]+'\x20В',this['r']*1.4,this['r']*0.9),super['postDisplay'](),this[_0x2ee6a9(0x1ca)]();}[_0x3511eb(0x1e5)](){const _0x276c03=_0x3511eb;switch(this[_0x276c03(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x24ead2,_0x49d411,_0x11fd51){const _0x53b9dd=_0x3511eb;super(_0x24ead2,_0x49d411),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this['label']=_0x11fd51,this['resistance']=_0x53b9dd(0x193),this['voltageDrop']=0x0,this[_0x53b9dd(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x53b9dd(0x1bb)][_0x53b9dd(0x1a6)](_0x5a6e1e=>{_0x5a6e1e['originalX']*=SCALE_FACTOR;});}[_0x3511eb(0x18f)](_0x58d29f){const _0x2b8797=_0x3511eb;_0x58d29f[_0x2b8797(0x1f4)](0x1*SCALE_FACTOR),_0x58d29f[_0x2b8797(0x18a)](0x0),_0x58d29f[_0x2b8797(0x1a1)](0xc8,0x96,0x64),_0x58d29f[_0x2b8797(0x211)](CENTER),_0x58d29f[_0x2b8797(0x1f3)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x58d29f[_0x2b8797(0x1e9)](),_0x58d29f[_0x2b8797(0x1a1)](0x0),_0x58d29f[_0x2b8797(0x188)](CENTER,CENTER),_0x58d29f[_0x2b8797(0x1f5)](0x8*SCALE_FACTOR),_0x58d29f[_0x2b8797(0x1a3)](this[_0x2b8797(0x1b3)],0x0,0x0);}[_0x3511eb(0x19a)](){const _0x24c6a3=_0x3511eb;super[_0x24c6a3(0x19a)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x24c6a3(0x1df)]+_0x24c6a3(0x174),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super[_0x24c6a3(0x1f9)](),this[_0x24c6a3(0x1ca)]();}['updateConnectors'](){const _0x2b3e99=_0x3511eb;this[_0x2b3e99(0x1bb)]['forEach'](_0xe39d50=>{const _0xf13d8f=_0x2b3e99;_0xe39d50['x']=this['x']+cos(this[_0xf13d8f(0x1e5)]())*_0xe39d50[_0xf13d8f(0x213)]-sin(this[_0xf13d8f(0x1e5)]())*_0xe39d50[_0xf13d8f(0x1f2)],_0xe39d50['y']=this['y']+sin(this[_0xf13d8f(0x1e5)]())*_0xe39d50[_0xf13d8f(0x213)]+cos(this[_0xf13d8f(0x1e5)]())*_0xe39d50[_0xf13d8f(0x1f2)];});}[_0x3511eb(0x1e5)](){const _0x327284=_0x3511eb;switch(this[_0x327284(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x1b4518,_0x6b31b4,_0x183518){const _0x28e4f9=_0x3511eb;super(_0x1b4518,_0x6b31b4),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math['max'](this['w'],this['h'])/0x2,this[_0x28e4f9(0x1b3)]=_0x183518,this[_0x28e4f9(0x186)]='10',this[_0x28e4f9(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x28e4f9(0x1a6)](_0x59ca15=>{_0x59ca15['originalX']*=SCALE_FACTOR;});}['displayPalette'](_0x382d40){const _0x150b55=_0x3511eb;_0x382d40[_0x150b55(0x1f4)](0x1*SCALE_FACTOR),_0x382d40['stroke'](0x0),_0x382d40[_0x150b55(0x1ac)](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x382d40[_0x150b55(0x1ac)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x382d40[_0x150b55(0x1ac)](this['w']/0x5,0x0,this['w'],0x0),_0x382d40[_0x150b55(0x1ac)](-this['w']/0x5,0x0,-this['w'],0x0),_0x382d40[_0x150b55(0x1e9)](),_0x382d40[_0x150b55(0x1a1)](0x0),_0x382d40[_0x150b55(0x188)](CENTER,CENTER),_0x382d40[_0x150b55(0x1f5)](0x8*SCALE_FACTOR),_0x382d40[_0x150b55(0x1a3)](this[_0x150b55(0x1b3)],-this['w']/0x2,-this['h']*0.5);}[_0x3511eb(0x19a)](){const _0x454f81=_0x3511eb;super[_0x454f81(0x19a)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,this['w'],0x0),line(-this['w']/0x5,0x0,-this['w'],0x0),line(-this['w']/0x2,this['h']/0x3,this['w']*0.8,-this['h']/0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x454f81(0x1b3)],-this['w']/0x2,-this['h']*0.75);const _0x52f6d0=this['w']*0.8,_0x57f88d=-this['h']/0x2;fill(0x0),triangle(_0x52f6d0,_0x57f88d,_0x52f6d0-this['w']*0.3,_0x57f88d+this['w']*0.1,_0x52f6d0-this['w']*0.1,_0x57f88d+this['w']*0.3),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x454f81(0x186)]+_0x454f81(0x1ec),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super['postDisplay'](),this[_0x454f81(0x1ca)]();}[_0x3511eb(0x1ca)](){const _0x930ebe=_0x3511eb;this[_0x930ebe(0x1bb)][_0x930ebe(0x1a6)](_0x59eba8=>{const _0x295501=_0x930ebe;_0x59eba8['x']=this['x']+cos(this[_0x295501(0x1e5)]())*_0x59eba8[_0x295501(0x213)]-sin(this[_0x295501(0x1e5)]())*_0x59eba8[_0x295501(0x1f2)],_0x59eba8['y']=this['y']+sin(this['rotationAngle']())*_0x59eba8[_0x295501(0x213)]+cos(this[_0x295501(0x1e5)]())*_0x59eba8['originalY'];});}[_0x3511eb(0x1e5)](){const _0x59851a=_0x3511eb;switch(this[_0x59851a(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x4b137a,_0xb34d65,_0x35d4a7){const _0x5d445a=_0x3511eb;super(_0x4b137a,_0xb34d65),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this[_0x5d445a(0x1b3)]=_0x35d4a7,this[_0x5d445a(0x19c)]='50',this[_0x5d445a(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x5d445a(0x1bb)][_0x5d445a(0x1a6)](_0x401a43=>{const _0x47f17c=_0x5d445a;_0x401a43[_0x47f17c(0x213)]*=SCALE_FACTOR;});}[_0x3511eb(0x18f)](_0x1bd5b0){const _0x684bdf=_0x3511eb;_0x1bd5b0[_0x684bdf(0x1f4)](0x1*SCALE_FACTOR),_0x1bd5b0['stroke'](0x0),_0x1bd5b0['fill'](0xdc),_0x1bd5b0[_0x684bdf(0x1e6)](0x0,0x0,this['r']*1.5),_0x1bd5b0[_0x684bdf(0x1e9)](),_0x1bd5b0[_0x684bdf(0x1a1)](0x0),_0x1bd5b0[_0x684bdf(0x188)](CENTER,CENTER),_0x1bd5b0[_0x684bdf(0x1f5)](0x8*SCALE_FACTOR),_0x1bd5b0['text'](this['label'],this['r']*0.6,this['r']*1.3);}['display'](){const _0x36bb75=_0x3511eb;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x36bb75(0x1b3)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x36bb75(0x19c)]+_0x36bb75(0x17c),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x36bb75(0x1f9)](),this['updateConnectors']();}[_0x3511eb(0x1ca)](){const _0x50f157=_0x3511eb;this[_0x50f157(0x1bb)][_0x50f157(0x1a6)](_0x4f3dc9=>{const _0x2ec288=_0x50f157;_0x4f3dc9['x']=this['x']+cos(this['rotationAngle']())*_0x4f3dc9['originalX']-sin(this[_0x2ec288(0x1e5)]())*_0x4f3dc9[_0x2ec288(0x1f2)],_0x4f3dc9['y']=this['y']+sin(this[_0x2ec288(0x1e5)]())*_0x4f3dc9[_0x2ec288(0x213)]+cos(this['rotationAngle']())*_0x4f3dc9[_0x2ec288(0x1f2)];});}[_0x3511eb(0x1e5)](){const _0x506a6c=_0x3511eb;switch(this[_0x506a6c(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x4d3bdd,_0x6debc,_0xcb1d95){const _0x59a898=_0x3511eb;super(_0x4d3bdd,_0x6debc),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x59a898(0x172)](this['w'],this['h'])/0x2,this[_0x59a898(0x1b3)]=_0xcb1d95,this[_0x59a898(0x1ab)]=_0x59a898(0x190),this[_0x59a898(0x1a0)]=0x0,this[_0x59a898(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x59a898(0x1bb)][_0x59a898(0x1a6)](_0x2f49d5=>{const _0x23b4c5=_0x59a898;_0x2f49d5[_0x23b4c5(0x213)]*=SCALE_FACTOR;});}[_0x3511eb(0x18f)](_0x883a9e){const _0x1a0309=_0x3511eb;_0x883a9e[_0x1a0309(0x1f4)](0x1*SCALE_FACTOR),_0x883a9e['stroke'](0x0);let _0x3f0886=this['h']*0.25,_0x46a46a=this['w']*0.6,_0xf80a49=-_0x46a46a/0x2,_0x287ca8=0x0,_0x2960d9=_0x46a46a/0x3;_0x883a9e[_0x1a0309(0x1b8)]();const _0xcf8e0f=0x3;for(let _0x1b0722=0x0;_0x1b0722<_0xcf8e0f;_0x1b0722++){let _0x1c3ecb=_0xf80a49+_0x1b0722*_0x2960d9;_0x883a9e[_0x1a0309(0x1d8)](_0x1c3ecb+_0x2960d9/0x2,_0x287ca8,_0x2960d9,_0x3f0886,PI,0x0);}_0x883a9e[_0x1a0309(0x1ac)](_0xf80a49,0x0,_0xf80a49-0xa,0x0),_0x883a9e[_0x1a0309(0x1ac)](_0x46a46a/0x2,0x0,_0x46a46a/0x2+0xa,0x0),_0x883a9e[_0x1a0309(0x1e9)](),_0x883a9e[_0x1a0309(0x1a1)](0x0),_0x883a9e[_0x1a0309(0x188)](CENTER,CENTER),_0x883a9e[_0x1a0309(0x1f5)](0x8*SCALE_FACTOR),_0x883a9e[_0x1a0309(0x1a3)](this[_0x1a0309(0x1b3)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x3511eb(0x19a)](){const _0x8a5bda=_0x3511eb;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0x439bfe=this['h']*0.25,_0x165b67=this['w']*0.6,_0x252475=-_0x165b67/0x2,_0x52a21f=0x0,_0x458b4a=_0x165b67/0x3;noFill();const _0x59f2d3=0x3;for(let _0x49c46e=0x0;_0x49c46e<_0x59f2d3;_0x49c46e++){let _0x4471b8=_0x252475+_0x49c46e*_0x458b4a;arc(_0x4471b8+_0x458b4a/0x2,_0x52a21f,_0x458b4a,_0x439bfe,PI,0x0);}line(_0x252475,0x0,_0x252475-_0x165b67/0x3,0x0),line(_0x165b67/0x2,0x0,_0x165b67*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x8a5bda(0x1b3)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x8a5bda(0x1ab)]+_0x8a5bda(0x180),0x0,this['h']/0xa)),super[_0x8a5bda(0x1f9)](),this[_0x8a5bda(0x1ca)]();}[_0x3511eb(0x1ca)](){const _0x4394f9=_0x3511eb;this[_0x4394f9(0x1bb)][_0x4394f9(0x1a6)](_0x190dde=>{const _0x15f8af=_0x4394f9;_0x190dde['x']=this['x']+cos(this['rotationAngle']())*_0x190dde[_0x15f8af(0x213)]-sin(this[_0x15f8af(0x1e5)]())*_0x190dde['originalY'],_0x190dde['y']=this['y']+sin(this[_0x15f8af(0x1e5)]())*_0x190dde[_0x15f8af(0x213)]+cos(this[_0x15f8af(0x1e5)]())*_0x190dde['originalY'];});}[_0x3511eb(0x1e5)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class CustomAmmeter extends CircuitElement{constructor(_0x36639e,_0x46899a,_0x1dc9a6){const _0x19ad61=_0x3511eb;super(_0x36639e,_0x46899a),this['r']=0x11*SCALE_FACTOR,this['label']=_0x1dc9a6,this[_0x19ad61(0x1cd)]=0x0,this[_0x19ad61(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x19ad61(0x1bb)][_0x19ad61(0x1a6)](_0x117c19=>{const _0x3eecbe=_0x19ad61;_0x117c19[_0x3eecbe(0x213)]*=SCALE_FACTOR;});}[_0x3511eb(0x18f)](_0x568e2f){const _0x4931c9=_0x3511eb;_0x568e2f[_0x4931c9(0x1f4)](0x1*SCALE_FACTOR),_0x568e2f[_0x4931c9(0x18a)](0x0),_0x568e2f[_0x4931c9(0x1a1)](0xdc),_0x568e2f[_0x4931c9(0x1e6)](0x0,0x0,this['r']*1.5),_0x568e2f['noStroke'](),_0x568e2f['fill'](0x0),_0x568e2f[_0x4931c9(0x188)](CENTER,CENTER),_0x568e2f['textSize'](0x8*SCALE_FACTOR),_0x568e2f[_0x4931c9(0x1a3)](this[_0x4931c9(0x1b3)],this['r']*0.6,this['r']*1.3);}['display'](){const _0x22744d=_0x3511eb;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x22744d(0x1b3)],0x0,0x0),super[_0x22744d(0x1f9)](),this[_0x22744d(0x1ca)]();}[_0x3511eb(0x1ca)](){this['connectors']['forEach'](_0x5b345b=>{const _0x5d3a61=_0x5e85;_0x5b345b['x']=this['x']+cos(this[_0x5d3a61(0x1e5)]())*_0x5b345b[_0x5d3a61(0x213)]-sin(this[_0x5d3a61(0x1e5)]())*_0x5b345b['originalY'],_0x5b345b['y']=this['y']+sin(this[_0x5d3a61(0x1e5)]())*_0x5b345b['originalX']+cos(this[_0x5d3a61(0x1e5)]())*_0x5b345b['originalY'];});}['rotationAngle'](){const _0x4c7e89=_0x3511eb;switch(this[_0x4c7e89(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x1e5971,_0x50b00a,_0x1bb8d7){const _0x1511aa=_0x3511eb;super(_0x1e5971,_0x50b00a),this['r']=0x11*SCALE_FACTOR,this[_0x1511aa(0x1b3)]=_0x1bb8d7,this[_0x1511aa(0x1f8)]=0x0,this[_0x1511aa(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x1511aa(0x1bb)][_0x1511aa(0x1a6)](_0xba0630=>{const _0x5ed405=_0x1511aa;_0xba0630[_0x5ed405(0x213)]*=SCALE_FACTOR;});}[_0x3511eb(0x18f)](_0x5556ea){const _0x27c199=_0x3511eb;_0x5556ea[_0x27c199(0x1f4)](0x1*SCALE_FACTOR),_0x5556ea[_0x27c199(0x18a)](0x0),_0x5556ea[_0x27c199(0x1a1)](0xdc),_0x5556ea['circle'](0x0,0x0,this['r']*0x1);const _0x52e2ea=0.8;_0x5556ea[_0x27c199(0x1ac)](-this['r']*_0x52e2ea,0x0,this['r']*_0x52e2ea,0x0),_0x5556ea[_0x27c199(0x1ac)](0x0,-this['r']*_0x52e2ea,0x0,this['r']*_0x52e2ea),_0x5556ea[_0x27c199(0x1ac)](0x0,-this['r']*_0x52e2ea,-this['r']*_0x52e2ea,-this['r']*_0x52e2ea),_0x5556ea[_0x27c199(0x1ac)](-this['r']*_0x52e2ea,-this['r']*_0x52e2ea,-this['r']*_0x52e2ea,0x0),_0x5556ea[_0x27c199(0x1a1)](0x0),_0x5556ea['circle'](0x0,this['r']*_0x52e2ea,this['r']*0.2),_0x5556ea['circle'](-this['r']*_0x52e2ea,0x0,this['r']*0.2),_0x5556ea['circle'](0x0,-this['r']*_0x52e2ea,this['r']*0.2),_0x5556ea['noStroke'](),_0x5556ea[_0x27c199(0x1a1)](0x0),_0x5556ea[_0x27c199(0x188)](CENTER,CENTER),_0x5556ea[_0x27c199(0x1f5)](0xa*SCALE_FACTOR),_0x5556ea['text'](this['label'],this['r']*_0x52e2ea,-this['r']*_0x52e2ea);}[_0x3511eb(0x19a)](){const _0x3d2adf=_0x3511eb;super[_0x3d2adf(0x19a)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this[_0x3d2adf(0x1b3)],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super[_0x3d2adf(0x1f9)](),this[_0x3d2adf(0x1ca)]();}['updateConnectors'](){const _0x57bcfb=_0x3511eb;this[_0x57bcfb(0x1bb)][_0x57bcfb(0x1a6)](_0x6cfecb=>{const _0x3149b0=_0x57bcfb;_0x6cfecb['x']=this['x']+cos(this[_0x3149b0(0x1e5)]())*_0x6cfecb[_0x3149b0(0x213)]-sin(this['rotationAngle']())*_0x6cfecb[_0x3149b0(0x1f2)],_0x6cfecb['y']=this['y']+sin(this[_0x3149b0(0x1e5)]())*_0x6cfecb[_0x3149b0(0x213)]+cos(this[_0x3149b0(0x1e5)]())*_0x6cfecb['originalY'];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x15c0f3,_0x5933fd,_0x1c633f=''){const _0x577b6e=_0x3511eb;super(_0x15c0f3,_0x5933fd),this['r']=0x14*SCALE_FACTOR,this[_0x577b6e(0x1b3)]=_0x1c633f,this[_0x577b6e(0x1f7)]=0x3,this[_0x577b6e(0x1bb)]=this['updateConnectorPositions']();}[_0x3511eb(0x175)](){const _0x54e262=_0x3511eb;let _0x3be262=[];switch(this['angleMode']){case 0x1:_0x3be262=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x3be262=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x3be262=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x3be262=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x3be262=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x3be262[_0x54e262(0x1a6)](_0x351cea=>{const _0x56cae6=_0x54e262;_0x351cea[_0x56cae6(0x213)]*=SCALE_FACTOR,_0x351cea[_0x56cae6(0x1f2)]*=SCALE_FACTOR;}),_0x3be262;}[_0x3511eb(0x18f)](_0x6a2f67){const _0x418af2=_0x3511eb;_0x6a2f67[_0x418af2(0x1f4)](1.5*SCALE_FACTOR),_0x6a2f67['stroke'](0x0);let _0x146cb0=this['r']*0.75;_0x6a2f67['line'](0x0,-_0x146cb0,0x0,_0x146cb0),_0x6a2f67['line'](-_0x146cb0,0x0,_0x146cb0,0x0);}[_0x3511eb(0x19a)](){const _0x15b4c9=_0x3511eb;super[_0x15b4c9(0x19a)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x4ac6bc=this['r']*1.5;switch(this[_0x15b4c9(0x1f7)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x4ac6bc,0x0,0x0),line(-_0x4ac6bc,0x0,_0x4ac6bc,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x15b4c9(0x1b3)],0x0,_0x4ac6bc+0x5*SCALE_FACTOR),super[_0x15b4c9(0x1f9)](),this[_0x15b4c9(0x1ca)]();}[_0x3511eb(0x1ee)](){const _0x188ff2=_0x3511eb;this[_0x188ff2(0x1f7)]=Math['round'](this['angle']),this['connectors']=this[_0x188ff2(0x175)]();}[_0x3511eb(0x1ca)](){const _0x201cc8=_0x3511eb;this[_0x201cc8(0x1bb)]['forEach'](_0xc2e4b4=>{const _0x53ad17=_0x201cc8;_0xc2e4b4['x']=this['x']+cos(this[_0x53ad17(0x1e5)]())*_0xc2e4b4[_0x53ad17(0x213)]-sin(this[_0x53ad17(0x1e5)]())*_0xc2e4b4['originalY'],_0xc2e4b4['y']=this['y']+sin(this[_0x53ad17(0x1e5)]())*_0xc2e4b4['originalX']+cos(this['rotationAngle']())*_0xc2e4b4[_0x53ad17(0x1f2)];});}[_0x3511eb(0x1e5)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x53be0f,_0x481dd5,_0x52ba1c){const _0x5bec59=_0x3511eb;super(_0x53be0f,_0x481dd5),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x5bec59(0x1b3)]=_0x52ba1c,this[_0x5bec59(0x189)]=0x2,this[_0x5bec59(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this['connectors'][_0x5bec59(0x1a6)](_0x58f061=>{const _0x5c02e7=_0x5bec59;_0x58f061['originalX']*=SCALE_FACTOR,_0x58f061[_0x5c02e7(0x1f2)]*=SCALE_FACTOR;});}['displayPalette'](_0x5c2e68){const _0x4ff8ce=_0x3511eb;_0x5c2e68[_0x4ff8ce(0x1f4)](1.5*SCALE_FACTOR),_0x5c2e68['stroke'](0x0),_0x5c2e68[_0x4ff8ce(0x1b8)](),_0x5c2e68[_0x4ff8ce(0x211)](CENTER),_0x5c2e68[_0x4ff8ce(0x1f3)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x5c2e68[_0x4ff8ce(0x1ac)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x5c2e68[_0x4ff8ce(0x1ac)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x5c2e68['line'](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x5c2e68[_0x4ff8ce(0x1ac)](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x5c2e68[_0x4ff8ce(0x1e9)](),_0x5c2e68[_0x4ff8ce(0x1a1)](0x0),_0x5c2e68['textAlign'](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x5c2e68[_0x4ff8ce(0x1a3)](this[_0x4ff8ce(0x1b3)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x3511eb(0x19a)](){const _0x4c1745=_0x3511eb;super['display'](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this[_0x4c1745(0x189)]===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this[_0x4c1745(0x189)]===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this[_0x4c1745(0x189)]===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4c1745(0x1b3)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x4c1745(0x1f9)](),this[_0x4c1745(0x1ca)]();}[_0x3511eb(0x1ea)](){const _0x1aba7d=_0x3511eb;this[_0x1aba7d(0x189)]=this[_0x1aba7d(0x189)]===0x1?0x2:0x1;if(this[_0x1aba7d(0x1b3)]===_0x1aba7d(0x1de)){let _0x54570c=findElementByLabel('E1');_0x54570c&&(_0x54570c[_0x1aba7d(0x1b6)]=this['state']===0x2);}else{if(this[_0x1aba7d(0x1b3)]===_0x1aba7d(0x1fc)){let _0x356d12=findElementByLabel('E2');_0x356d12&&(_0x356d12[_0x1aba7d(0x1b6)]=this[_0x1aba7d(0x189)]===0x1);}}redraw(),calculateCircuit();}[_0x3511eb(0x1ca)](){const _0x841f6a=_0x3511eb;this[_0x841f6a(0x1bb)][_0x841f6a(0x1a6)](_0x2c5e49=>{const _0x532e5e=_0x841f6a;_0x2c5e49['x']=this['x']+cos(this['rotationAngle']())*_0x2c5e49[_0x532e5e(0x213)]-sin(this[_0x532e5e(0x1e5)]())*_0x2c5e49[_0x532e5e(0x1f2)],_0x2c5e49['y']=this['y']+sin(this['rotationAngle']())*_0x2c5e49[_0x532e5e(0x213)]+cos(this[_0x532e5e(0x1e5)]())*_0x2c5e49[_0x532e5e(0x1f2)];});}[_0x3511eb(0x1e5)](){const _0x459ab0=_0x3511eb;switch(this[_0x459ab0(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x105592,_0x3d35d2,_0x855db1){const _0x1d93bb=_0x3511eb;super(_0x105592,_0x3d35d2),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x1d93bb(0x1b3)]=_0x855db1,this[_0x1d93bb(0x1b1)]=!![],this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x1d93bb(0x1bb)][_0x1d93bb(0x1a6)](_0x698910=>{const _0x37ba6c=_0x1d93bb;_0x698910[_0x37ba6c(0x213)]*=SCALE_FACTOR;});}['displayPalette'](_0x9f68da){const _0x5be2d9=_0x3511eb;_0x9f68da[_0x5be2d9(0x1f4)](1.5*SCALE_FACTOR),_0x9f68da[_0x5be2d9(0x18a)](0x0),_0x9f68da[_0x5be2d9(0x1ac)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x9f68da['line'](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x9f68da[_0x5be2d9(0x1ac)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x9f68da[_0x5be2d9(0x1b8)](),_0x9f68da[_0x5be2d9(0x211)](CENTER),_0x9f68da['rect'](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x9f68da[_0x5be2d9(0x1e9)](),_0x9f68da[_0x5be2d9(0x1a1)](0x0),_0x9f68da[_0x5be2d9(0x188)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x9f68da[_0x5be2d9(0x1a3)](this[_0x5be2d9(0x1b3)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x3511eb(0x19a)](){const _0x4c0b82=_0x3511eb;super[_0x4c0b82(0x19a)](),strokeWeight(1.5*SCALE_FACTOR),this[_0x4c0b82(0x1b1)]?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x4c0b82(0x1b1)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x4c0b82(0x1b3)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x4c0b82(0x1f9)](),this[_0x4c0b82(0x1ca)]();}[_0x3511eb(0x1ea)](){const _0x3d190e=_0x3511eb;if(this[_0x3d190e(0x1b3)]===_0x3d190e(0x1de)){let _0x8d5751=findElementByLabel('R1');_0x8d5751&&(this[_0x3d190e(0x1b1)]?(savedR1Resistance=_0x8d5751[_0x3d190e(0x1df)],_0x8d5751[_0x3d190e(0x1df)]='0'):(savedR1Resistance!==undefined?_0x8d5751[_0x3d190e(0x1df)]=savedR1Resistance:_0x8d5751[_0x3d190e(0x1df)]=_0x3d190e(0x193),savedR1Resistance=undefined));}else{if(this['label']==='SA2'){let _0x1008d5=findElementByLabel('L1');_0x1008d5&&(this[_0x3d190e(0x1b1)]?(savedL1Induction=_0x1008d5['induction'],_0x1008d5[_0x3d190e(0x1ab)]='0'):(savedL1Induction!==undefined?_0x1008d5['induction']=savedL1Induction:_0x1008d5[_0x3d190e(0x1df)]='5',savedL1Induction=undefined));let _0x41f30c=findElementByLabel('Rk');_0x41f30c&&(this[_0x3d190e(0x1b1)]?(savedRkResistance=_0x41f30c[_0x3d190e(0x1df)],_0x41f30c['resistance']='0'):(savedRkResistance!==undefined?_0x41f30c[_0x3d190e(0x1df)]=savedRkResistance:_0x41f30c['resistance']='10',savedRkResistance=undefined));}else{if(this[_0x3d190e(0x1b3)]===_0x3d190e(0x1c1)){let _0x54647a=findElementByLabel('C1');_0x54647a&&(this['isOpen']?(savedC1Capacity=_0x54647a[_0x3d190e(0x186)],_0x54647a[_0x3d190e(0x186)]='0'):(savedC1Capacity!==undefined?_0x54647a[_0x3d190e(0x186)]=savedC1Capacity:_0x54647a[_0x3d190e(0x186)]='10',savedC1Capacity=undefined));}}}this[_0x3d190e(0x1b1)]=!this[_0x3d190e(0x1b1)],redraw(),calculateCircuit();}[_0x3511eb(0x1ca)](){const _0x524749=_0x3511eb;this[_0x524749(0x1bb)][_0x524749(0x1a6)](_0x3af93c=>{const _0x381ab7=_0x524749;_0x3af93c['x']=this['x']+cos(this['rotationAngle']())*_0x3af93c[_0x381ab7(0x213)]-sin(this[_0x381ab7(0x1e5)]())*_0x3af93c[_0x381ab7(0x1f2)],_0x3af93c['y']=this['y']+sin(this['rotationAngle']())*_0x3af93c[_0x381ab7(0x213)]+cos(this[_0x381ab7(0x1e5)]())*_0x3af93c[_0x381ab7(0x1f2)];});}[_0x3511eb(0x1e5)](){const _0x5d6f94=_0x3511eb;switch(this[_0x5d6f94(0x1c2)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x290acd,_0x130480,_0x2c7ae5){const _0x2ccba7=_0x3511eb;this['x']=_0x290acd,this['y']=_0x130480,this[_0x2ccba7(0x1a3)]=_0x2c7ae5;}[_0x3511eb(0x1a9)](_0x525baf){const _0x40e525=_0x3511eb;this[_0x40e525(0x1a3)]=_0x525baf;}['display'](){const _0x1af780=_0x3511eb;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),text(this[_0x1af780(0x1a3)],0x0,0x0),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x43c7d8,_0x5eb2a7,_0x5b4c83){const _0x52b9a1=_0x3511eb;super(_0x43c7d8,_0x5eb2a7),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x52b9a1(0x172)](this['w'],this['h'])/0x2,this['label']=_0x5b4c83,this[_0x52b9a1(0x201)]=0.5,this[_0x52b9a1(0x1dd)]='50',this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}['display'](){const _0x20bf57=_0x3511eb;super['display'](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x43233a=this['h'],_0x5bc3a4=this['w'];let _0x3d70ec=_0x43233a*1.2,_0x2e6c5c=_0x5bc3a4*0.35,_0x269742=-_0x3d70ec/0x2,_0x56be45=_0x3d70ec/0x2,_0x5f18cc=-_0x5bc3a4*0.1;drawingContext[_0x20bf57(0x17d)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x5f18cc-_0x2e6c5c,-_0x43233a*1.4,_0x2e6c5c*0x2,2.8*_0x43233a),drawingContext[_0x20bf57(0x17d)]([]),noFill();const _0x4d0c3b=0x3,_0x58a039=_0x3d70ec/_0x4d0c3b;for(let _0x377e0c=0x0;_0x377e0c<_0x4d0c3b;_0x377e0c++){let _0x25fe78=_0x269742+_0x377e0c*_0x58a039;arc(_0x5f18cc-_0x43233a/0xa*2.2,_0x25fe78+_0x58a039/0x2,_0x2e6c5c,_0x58a039,-PI/0x2,PI/0x2);}line(_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x269742-_0x43233a/0xa,_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x269742),line(_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x269742-_0x43233a/0xa,_0x5f18cc-_0x2e6c5c*1.5,_0x269742-_0x43233a/0xa),line(_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x56be45,_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x56be45+_0x43233a*0.4),line(_0x5f18cc-_0x2e6c5c*1.5,_0x56be45+_0x43233a*0.4,_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x56be45+_0x43233a*0.4);let _0x3277fe=lerp(_0x269742,_0x56be45,this[_0x20bf57(0x201)]);line(_0x5f18cc+_0x2e6c5c/0x3,_0x3277fe,_0x5f18cc+_0x2e6c5c/0x4+0x19*SCALE_FACTOR,_0x3277fe),fill(0x0),triangle(_0x43233a/0x14,-_0x43233a/0x14,-_0x43233a/0xa,0x0,_0x43233a/0x14,_0x43233a/0x14),circle(_0x5f18cc-_0x2e6c5c/0x2-0x3,_0x56be45+_0x43233a*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x20bf57(0x185),-_0x5bc3a4/0xa,-_0x43233a*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x20bf57(0x1dd)]+'\x20В',-_0x5bc3a4/0xa,_0x43233a*1.6),super['postDisplay']();}['displayPalette'](_0x2d38c4){const _0x3dbf90=_0x3511eb;_0x2d38c4[_0x3dbf90(0x1f4)](0x1*SCALE_FACTOR),_0x2d38c4[_0x3dbf90(0x18a)](0x0);let _0x276a15=this['h']*0.6,_0x1c6e69=this['w']*0.25,_0x3aa257=-_0x276a15/0x2,_0x34523b=_0x276a15/0x2,_0x411b9d=-this['w']*0.1;_0x2d38c4[_0x3dbf90(0x195)][_0x3dbf90(0x17d)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x2d38c4[_0x3dbf90(0x1f3)](_0x411b9d-_0x1c6e69,_0x3aa257-_0x276a15/0x2,_0x1c6e69+0xf,_0x276a15*0x2),_0x2d38c4[_0x3dbf90(0x195)][_0x3dbf90(0x17d)]([]),_0x2d38c4[_0x3dbf90(0x1b8)]();const _0x58cf5e=0x3,_0x38b9ca=_0x276a15/_0x58cf5e;for(let _0x40e4ee=0x0;_0x40e4ee<_0x58cf5e;_0x40e4ee++){let _0x5087db=_0x3aa257+_0x40e4ee*_0x38b9ca;_0x2d38c4[_0x3dbf90(0x1d8)](_0x411b9d-0xf,_0x5087db+_0x38b9ca/0x2,_0x1c6e69,_0x38b9ca,-PI/0x2,PI/0x2);}_0x2d38c4[_0x3dbf90(0x1ac)](_0x411b9d-_0x1c6e69/0x2-0x3,_0x3aa257-0xa,_0x411b9d-_0x1c6e69/0x2-0x3,_0x3aa257),_0x2d38c4['line'](_0x411b9d-_0x1c6e69/0x2-0x3,_0x3aa257-0xa,_0x411b9d-_0x1c6e69*1.5,_0x3aa257-0xa),_0x2d38c4['line'](_0x411b9d-_0x1c6e69/0x2-0x3,_0x34523b,_0x411b9d-_0x1c6e69/0x2-0x3,_0x34523b+0xa),_0x2d38c4[_0x3dbf90(0x1ac)](_0x411b9d-_0x1c6e69*1.5,_0x34523b+0xa,_0x411b9d-_0x1c6e69/0x2-0x3,_0x34523b+0xa);let _0x71d7f5=lerp(_0x3aa257,_0x34523b,this[_0x3dbf90(0x201)]);_0x2d38c4[_0x3dbf90(0x1ac)](_0x411b9d+_0x1c6e69/0x4,_0x71d7f5,_0x411b9d+_0x1c6e69/0x4+0xc*SCALE_FACTOR,_0x71d7f5),_0x2d38c4['fill'](0x0),_0x2d38c4[_0x3dbf90(0x20b)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x2d38c4[_0x3dbf90(0x1a1)](0x0),_0x2d38c4['noStroke'](),_0x2d38c4[_0x3dbf90(0x1f5)](0xa*SCALE_FACTOR),_0x2d38c4['textAlign'](CENTER,BOTTOM),_0x2d38c4[_0x3dbf90(0x1a3)](_0x3dbf90(0x185),0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x299ce1,_0xd9b10c,_0x301fb9,_0x1174c0){const _0x2cc1c4=_0x3511eb;super(_0x299ce1,_0xd9b10c),this['width']=_0x301fb9,this[_0x2cc1c4(0x176)]=_0x1174c0,this[_0x2cc1c4(0x1d6)]=color(0x0,0xff,0x0),this[_0x2cc1c4(0x1c5)]=color(0x0,0x94,0xff),this['currentAmplitude']=0x0,this[_0x2cc1c4(0x17a)]=0x0,this[_0x2cc1c4(0x1d5)]=0x32,this[_0x2cc1c4(0x169)]=0x0;}[_0x3511eb(0x1f0)](_0x2cfa31,_0x125d03,_0x5205d0,_0x26dd95){const _0x3bc9a5=_0x3511eb;this[_0x3bc9a5(0x198)]=_0x2cfa31,this[_0x3bc9a5(0x17a)]=_0x125d03,this['frequencyHz']=_0x5205d0,this[_0x3bc9a5(0x169)]=_0x26dd95;}['display'](){const _0x2ee0c6=_0x3511eb;push(),translate(this['x'],this['y']),stroke(_0x2ee0c6(0x199)),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x2ee0c6(0x1dc)],this[_0x2ee0c6(0x176)]),drawingContext[_0x2ee0c6(0x17d)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this[_0x2ee0c6(0x176)]/0x2,this['width'],this[_0x2ee0c6(0x176)]/0x2),line(this[_0x2ee0c6(0x1dc)]/0x2,0x0,this[_0x2ee0c6(0x1dc)]/0x2,this[_0x2ee0c6(0x176)]),drawingContext['setLineDash']([]),stroke(this[_0x2ee0c6(0x1c5)]),fill(this[_0x2ee0c6(0x1c5)]),rect(0x0,this['height']*0.7,this['width']/0x3,this[_0x2ee0c6(0x176)]/0x8),stroke(this[_0x2ee0c6(0x1d6)]),fill(this[_0x2ee0c6(0x1d6)]),rect(0x0,this[_0x2ee0c6(0x176)]*0.85,this[_0x2ee0c6(0x1dc)]/0x3,this['height']/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x2ee0c6(0x1af),this['width']/0x6,this['height']*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x2ee0c6(0x167),this[_0x2ee0c6(0x1dc)]/0x6,this[_0x2ee0c6(0x176)]*0.97),(this[_0x2ee0c6(0x198)]>0x0||this[_0x2ee0c6(0x17a)]>0x0)&&this[_0x2ee0c6(0x179)](),pop();}[_0x3511eb(0x179)](){const _0x151939=_0x3511eb;push(),translate(0x14*SCALE_FACTOR,this[_0x151939(0x176)]/0x2);const _0x449aa1=0x96,_0x7b673b=0x2*PI/_0x449aa1,_0x1a0fc7=this['height']/0x4;stroke(this[_0x151939(0x1d6)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x4c1c52=this['phaseAngleDeg']*PI/0xb4;for(let _0x3a2bbf=0x0;_0x3a2bbf<=_0x449aa1;_0x3a2bbf++){const _0x130d0d=_0x3a2bbf*_0x7b673b,_0x88ef3c=sin(_0x130d0d+_0x4c1c52)*this[_0x151939(0x176)]*0.45;vertex(_0x3a2bbf*this[_0x151939(0x1dc)]/_0x449aa1-0x14*SCALE_FACTOR,-_0x88ef3c);}endShape(),stroke(this[_0x151939(0x1c5)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x2395a1=0x0;_0x2395a1<=_0x449aa1;_0x2395a1++){const _0x6480a=_0x2395a1*_0x7b673b,_0x306a6a=sin(_0x6480a)*this[_0x151939(0x176)]*0.45;vertex(_0x2395a1*this[_0x151939(0x1dc)]/_0x449aa1-0x14*SCALE_FACTOR,-_0x306a6a);}endShape(),pop();}}


    </script>

</body>
</html>