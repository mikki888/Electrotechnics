<!DOCTYPE html>
<html>
<head>
    <title>Circuit Schematic - Manual Wires by Coordinates</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: row; /* Ensure body is flex container */
        }
        canvas { display: block; }

        #palette-container {
            width: 300px !important;
            flex-basis: 300px !important; /* ADD flex-basis with !important */
            max-width: 300px !important; /* ADD max-width to prevent expansion */
            min-width: 300px !important; /* ADD min-width to prevent collapsing */
            background-color: #f0f0f0;
            padding: 30px !important;
            box-sizing: border-box;
            height: 750px;
            overflow-y: auto;
        }

        #palette {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .palette-element {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 7.5px;
            text-align: center;
            background-color: white;
            width: 75px;
            height: 75px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .calculation-value {
            font-size: 15px;
            color: blue;
        }

        /* Стилі для нового контейнера канвасу та кнопки */
        #canvas-container {
            display: flex;
            flex-direction: column; /* Вертикальне розташування елементів */
            align-items: center; /* Горизонтальне центрування елементів (кнопки) за потреби */
            /* width: auto;  Може бути не потрібно, залежить від бажаного макету */
            /* height: auto; */
        }


    </style>
</head>
<body>
    <div id="palette-container">
        <h2>Елементи схеми</h2>
        <div id="palette">
            <!-- Palette elements will be added here by JavaScript -->
        </div>
    </div>
    <!-- Новий контейнер для канвасу та кнопки -->

    <script>

const _0x46f958=_0x396a;(function(_0x4a66ac,_0x1e5a42){const _0x320469=_0x396a,_0x4c21ab=_0x4a66ac();while(!![]){try{const _0x166947=parseInt(_0x320469(0x1a6))/0x1*(-parseInt(_0x320469(0x1d3))/0x2)+-parseInt(_0x320469(0x1f1))/0x3+parseInt(_0x320469(0x1a2))/0x4+parseInt(_0x320469(0x20a))/0x5+parseInt(_0x320469(0x21a))/0x6*(parseInt(_0x320469(0x1b9))/0x7)+parseInt(_0x320469(0x1ab))/0x8+-parseInt(_0x320469(0x19e))/0x9*(parseInt(_0x320469(0x1ca))/0xa);if(_0x166947===_0x1e5a42)break;else _0x4c21ab['push'](_0x4c21ab['shift']());}catch(_0x618f92){_0x4c21ab['push'](_0x4c21ab['shift']());}}}(_0x8518,0x34d69));const isMobile=/Mobi|Android|iPhone|iPad|iPod/i[_0x46f958(0x1b4)](navigator['userAgent']),isLargeMobileScreen=window['innerWidth']>0x300,SCALE_FACTOR=isMobile&&isLargeMobileScreen?0x3:1.5;let elements=[],paletteElementsData=[{'type':_0x46f958(0x1d1),'label':_0x46f958(0x18d),'targetX':0x32*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x46f958(0x1d2),'label':'SA1','targetX':0x12c*SCALE_FACTOR,'targetY':0x32*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x46f958(0x1d2),'label':'SA2','targetX':0x1c2*SCALE_FACTOR,'targetY':0xb4*SCALE_FACTOR,'orientation':0x2,'placed':![],'isFixed':![]},{'type':'Switch','label':_0x46f958(0x223),'targetX':0x140*SCALE_FACTOR,'targetY':0x13b*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x46f958(0x204),'label':'Hz','targetX':0xaa*SCALE_FACTOR,'targetY':0xb4*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x46f958(0x19f),'label':'φ','targetX':0xdc*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x46f958(0x196),'label':'R1','targetX':0x12c*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':_0x46f958(0x196),'label':'Rk','targetX':0x190*SCALE_FACTOR,'targetY':0x96*SCALE_FACTOR,'orientation':0x2,'placed':![],'isFixed':![]},{'type':_0x46f958(0x193),'label':_0x46f958(0x1a5),'targetX':0x8a*SCALE_FACTOR,'targetY':0x64*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]},{'type':'Induction','label':'L1','targetX':0x190*SCALE_FACTOR,'targetY':0xc8*SCALE_FACTOR,'orientation':0x2,'placed':![],'isFixed':![]},{'type':_0x46f958(0x1b8),'label':'C1','targetX':0xfa*SCALE_FACTOR,'targetY':0xfa*SCALE_FACTOR,'orientation':0x1,'placed':![],'isFixed':![]}];function _0x396a(_0x29c627,_0xe24210){const _0x85185d=_0x8518();return _0x396a=function(_0x396ace,_0x15b17d){_0x396ace=_0x396ace-0x18b;let _0x2241dd=_0x85185d[_0x396ace];return _0x2241dd;},_0x396a(_0x29c627,_0xe24210);}var draggedElement=null;let paletteElementPrototype=null,canvasElementInstance=null,messageBox={'textContent':'','classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},messageTimeout,counterBox={'textContent':''},distanceBox={'textContent':''},calculateButton={'classList':{'contains':function(){return![];},'add':function(){},'remove':function(){}}},isCalculateButtonVisible=![],elementsToPlaceCount,elementsPlacedCount=0x0;const SNAP_DISTANCE=isMobile?0x50*SCALE_FACTOR:0x50*SCALE_FACTOR;let lastMousePressTime=0x0;const DOUBLE_CLICK_THRESHOLD=0x320;let savedR1Resistance,savedRkResistance,savedL1Induction,savedC1Capacity,resistorR1,resistorRk,inductionL1,capacityC1,switchSA1,switchSA2,switchSA3,switchSA4,switchSA5,voltageSourceE1,voltageSourceE2,ammeterPA1,ammeterPA2,ammeterPA3,phasemeterPh1,nodeNode1,nodeNode2,dragOffsetX=0x0,dragOffsetY=0x0,KirgofTest=![],staticVoltageDisplay;function setup(){const _0x4653d1=_0x46f958;createCanvas(0x258*SCALE_FACTOR,0x1e0*SCALE_FACTOR),elements=[],createPalette(),messageBox=messageBox,counterBox=counterBox,distanceBox=distanceBox,calculateButton=calculateButton,elementsToPlaceCount=paletteElementsData[_0x4653d1(0x1eb)],staticVoltageDisplay=new StaticTextDisplay(0x14a*SCALE_FACTOR,0xc8*SCALE_FACTOR,''),elements[_0x4653d1(0x208)](staticVoltageDisplay),oscilloscopeDisplay=new Oscilloscope(0x1c2*SCALE_FACTOR,0x0*SCALE_FACTOR,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR),elements[_0x4653d1(0x208)](oscilloscopeDisplay);if(KirgofTest)placeAllElementsForTest(),elementsPlacedCount=elementsToPlaceCount;else{}updateCounterDisplay();}function placeAllElementsForTest(){const _0x425547=_0x46f958;let _0x20f68e={'SA2':null,'E2':null};paletteElementsData['forEach'](_0x35ba85=>{const _0x58bfbb=_0x396a;let _0x169be1=createPaletteElementInstance(_0x35ba85[_0x58bfbb(0x213)],_0x35ba85['label'],_0x35ba85[_0x58bfbb(0x1bd)],_0x35ba85['targetX'],_0x35ba85[_0x58bfbb(0x197)],_0x35ba85);_0x169be1['label']==='Rk'&&(_0x169be1[_0x58bfbb(0x198)]='20'),elements[_0x58bfbb(0x208)](_0x169be1),_0x35ba85[_0x58bfbb(0x1ea)]=!![],_0x35ba85[_0x58bfbb(0x19b)]=!![],_0x169be1[_0x58bfbb(0x211)]['placed']=!![],_0x169be1['placedElementData'][_0x58bfbb(0x19b)]=!![];}),paletteElementsData=[];const _0x35ed91=document[_0x425547(0x1af)](_0x425547(0x1d7));_0x35ed91[_0x425547(0x1bc)]='',createPalette();}function createPalette(){const _0x5d9dc4=_0x46f958,_0x2e322d=document[_0x5d9dc4(0x1af)](_0x5d9dc4(0x1d7));paletteElementsData['forEach']((_0x3043e6,_0x4748fd)=>{const _0x30c9e6=_0x5d9dc4,_0x3ae52d=document[_0x30c9e6(0x1b1)](_0x30c9e6(0x225));_0x3ae52d['classList']['add'](_0x30c9e6(0x1a7));let _0x31cd56=createGraphics(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x31cd56[_0x30c9e6(0x20b)](),_0x31cd56['push'](),_0x31cd56[_0x30c9e6(0x218)](0x19*SCALE_FACTOR,0x19*SCALE_FACTOR);let _0x394eda=createPaletteElementInstance(_0x3043e6[_0x30c9e6(0x213)],_0x3043e6[_0x30c9e6(0x1b0)],_0x3043e6['orientation'],0x0,0x0,_0x3043e6);_0x394eda[_0x30c9e6(0x1bd)]=_0x3043e6[_0x30c9e6(0x1bd)],_0x394eda['displayPalette'](_0x31cd56),_0x31cd56[_0x30c9e6(0x222)]();const _0x2f3369=createImage(0x32*SCALE_FACTOR,0x32*SCALE_FACTOR);_0x2f3369['copy'](_0x31cd56,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR,0x0,0x0,0x32*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x3ae52d[_0x30c9e6(0x1e9)](_0x2f3369[_0x30c9e6(0x1de)]),_0x3ae52d[_0x30c9e6(0x1d0)][_0x30c9e6(0x1f6)]=_0x3043e6[_0x30c9e6(0x213)],_0x3ae52d[_0x30c9e6(0x1d0)][_0x30c9e6(0x1c7)]=_0x3043e6['label'],_0x3ae52d['dataset'][_0x30c9e6(0x19d)]=_0x3043e6[_0x30c9e6(0x1bd)],_0x3ae52d[_0x30c9e6(0x1d0)][_0x30c9e6(0x1cc)]=_0x4748fd,_0x3ae52d['addEventListener'](_0x30c9e6(0x19a),paletteElementClick),_0x2e322d[_0x30c9e6(0x1e9)](_0x3ae52d);});}function draw(){const _0x4f9030=_0x46f958;background(0xf0),strokeWeight(0x1);const _0x5f1d74=0x258*SCALE_FACTOR,_0x2eac3f=0x1c2*SCALE_FACTOR,_0x5bc2b8=0x32*SCALE_FACTOR;stroke('lightgray');function _0x2ee11e(_0x1478be,_0x1e25d5,_0x247f7d,_0x2153e4){line(_0x1478be,_0x1e25d5,_0x247f7d,_0x2153e4);}for(let _0x27979f=0x0;_0x27979f<=_0x2eac3f;_0x27979f+=_0x5bc2b8){_0x2ee11e(0x0,_0x27979f,_0x5f1d74,_0x27979f);}for(let _0x3cfc6f=0x0;_0x3cfc6f<=_0x5f1d74;_0x3cfc6f+=_0x5bc2b8){_0x2ee11e(_0x3cfc6f,0x0,_0x3cfc6f,_0x2eac3f);}stroke(0x0),strokeWeight(1.5*SCALE_FACTOR),noFill(),_0x2ee11e(0x4b*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x64*SCALE_FACTOR,0xc8*SCALE_FACTOR),_0x2ee11e(0x64*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x64*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x2ee11e(0x64*SCALE_FACTOR,0x64*SCALE_FACTOR,0x78*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x2ee11e(0x9b*SCALE_FACTOR,0x64*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x2ee11e(0xfa*SCALE_FACTOR,0x64*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x2ee11e(0xfa*SCALE_FACTOR,0x32*SCALE_FACTOR,0x118*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x2ee11e(0x140*SCALE_FACTOR,0x32*SCALE_FACTOR,0x15e*SCALE_FACTOR,0x32*SCALE_FACTOR),_0x2ee11e(0x15e*SCALE_FACTOR,0x32*SCALE_FACTOR,0x15e*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x15e*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x2ee11e(0xfa*SCALE_FACTOR,0x64*SCALE_FACTOR,0x118*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x2ee11e(0x140*SCALE_FACTOR,0x64*SCALE_FACTOR,0x190*SCALE_FACTOR,0x64*SCALE_FACTOR),circle(0x190*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x2ee11e(0x190*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x2ee11e(0x1c2*SCALE_FACTOR,0x64*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xa0*SCALE_FACTOR),_0x2ee11e(0x1c2*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x2ee11e(0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x1c2*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x2ee11e(0x10e*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x2ee11e(0x190*SCALE_FACTOR,0x64*SCALE_FACTOR,0x190*SCALE_FACTOR,0x82*SCALE_FACTOR),_0x2ee11e(0x190*SCALE_FACTOR,0xe6*SCALE_FACTOR,0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR),circle(0x190*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),circle(0x168*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x2ee11e(0x168*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x168*SCALE_FACTOR,0x13b*SCALE_FACTOR),_0x2ee11e(0x168*SCALE_FACTOR,0x13b*SCALE_FACTOR,0x14a*SCALE_FACTOR,0x13b*SCALE_FACTOR),_0x2ee11e(0x12c*SCALE_FACTOR,0x13b*SCALE_FACTOR,0xc8*SCALE_FACTOR,0x13b*SCALE_FACTOR),_0x2ee11e(0xc8*SCALE_FACTOR,0x13b*SCALE_FACTOR,0xc8*SCALE_FACTOR,0xfa*SCALE_FACTOR),circle(0xc8*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x2ee11e(0xe6*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x1e*SCALE_FACTOR,0xfa*SCALE_FACTOR),_0x2ee11e(0xaa*SCALE_FACTOR,0xfa*SCALE_FACTOR,0xaa*SCALE_FACTOR,0xc5*SCALE_FACTOR),circle(0xaa*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR),circle(0xaa*SCALE_FACTOR,0x64*SCALE_FACTOR,0x3*SCALE_FACTOR),_0x2ee11e(0xaa*SCALE_FACTOR,0xa2*SCALE_FACTOR,0xaa*SCALE_FACTOR,0x64*SCALE_FACTOR),_0x2ee11e(0xdc*SCALE_FACTOR,0x78*SCALE_FACTOR,0xdc*SCALE_FACTOR,0xfa*SCALE_FACTOR),circle(0xdc*SCALE_FACTOR,0xfa*SCALE_FACTOR,0x3*SCALE_FACTOR);for(let _0x258649 of elements){typeof _0x258649[_0x4f9030(0x18f)]===_0x4f9030(0x1ac)&&_0x258649['update'](),_0x258649[_0x4f9030(0x18e)]();}canvasElementInstance&&(push(),translate(canvasElementInstance['x'],canvasElementInstance['y']),canvasElementInstance[_0x4f9030(0x18e)](),pop()),drawMessageBox(),drawCounterBox(),drawDistanceBox(),drawCalculateButton();}function drawMessageBox(){const _0x1be04d=_0x46f958;messageBox[_0x1be04d(0x1e5)][_0x1be04d(0x20d)](_0x1be04d(0x1c1))&&(push(),fill(_0x1be04d(0x190)),stroke(_0x1be04d(0x1e8)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x87*SCALE_FACTOR,0x96*SCALE_FACTOR,0x1e*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0x10*SCALE_FACTOR),text(messageBox[_0x1be04d(0x1cf)],0xdc*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x87*SCALE_FACTOR+0xf*SCALE_FACTOR),pop());}function drawCounterBox(){const _0x31e083=_0x46f958;push(),fill(_0x31e083(0x194)),stroke('orange'),strokeWeight(0x1),rectMode(CORNER),rect(0x82*SCALE_FACTOR,height-0x69*SCALE_FACTOR,0x10e*SCALE_FACTOR,0x19*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xf*SCALE_FACTOR),text(counterBox[_0x31e083(0x1cf)],0x82*SCALE_FACTOR+0xa*SCALE_FACTOR,height-0x69*SCALE_FACTOR+0xf*SCALE_FACTOR),pop();}function drawDistanceBox(){const _0x4ee308=_0x46f958;push(),fill('lightcyan'),stroke(_0x4ee308(0x1e7)),strokeWeight(0x1),rectMode(CORNER),rect(0x96*SCALE_FACTOR,height-0x49*SCALE_FACTOR,0x96*SCALE_FACTOR,0xf*SCALE_FACTOR,0x5*SCALE_FACTOR),noStroke(),fill(0x0),textAlign(LEFT,CENTER),textSize(0xc*SCALE_FACTOR),text(distanceBox[_0x4ee308(0x1cf)],0x96*SCALE_FACTOR+0x5*SCALE_FACTOR,height-0x49*SCALE_FACTOR+0xa*SCALE_FACTOR),pop();}function drawCalculateButton(){const _0x59fdde=_0x46f958;if(isCalculateButtonVisible){push(),fill(_0x59fdde(0x229)),noStroke(),rectMode(CORNER);let _0x48d493=0x96*SCALE_FACTOR,_0x4f0856=height-0x32*SCALE_FACTOR,_0x3809bb=0xc8*SCALE_FACTOR,_0x34dda3=0x32*SCALE_FACTOR;rect(_0x48d493,_0x4f0856,_0x3809bb,_0x34dda3,0x5*SCALE_FACTOR),fill(0xff),textAlign(CENTER,CENTER),textSize(0x19*SCALE_FACTOR),text(_0x59fdde(0x1c4),_0x48d493+_0x3809bb/0x2,_0x4f0856+_0x34dda3/0x2),pop();}}function paletteElementClick(_0x58ce63){const _0x129f54=_0x46f958,_0x5e3cfd=_0x58ce63[_0x129f54(0x21c)];if(!_0x5e3cfd){console[_0x129f54(0x1f3)](_0x129f54(0x1dd));return;}const _0x19d2ed=_0x5e3cfd[_0x129f54(0x1d0)]['elementType'],_0x4dae7b=_0x5e3cfd[_0x129f54(0x1d0)]['elementLabel'],_0x1be553=_0x5e3cfd[_0x129f54(0x1d0)][_0x129f54(0x19d)],_0x2f698f=parseInt(_0x5e3cfd[_0x129f54(0x1d0)][_0x129f54(0x1cc)]);if(!_0x19d2ed||!_0x4dae7b||!_0x1be553||isNaN(_0x2f698f)){console[_0x129f54(0x1f3)](_0x129f54(0x18c),_0x5e3cfd[_0x129f54(0x1d0)]);return;}canvasElementInstance=createPaletteElementInstance(_0x19d2ed,_0x4dae7b,_0x1be553,0x96*SCALE_FACTOR,0x64*SCALE_FACTOR,paletteElementsData[_0x2f698f]),paletteElementsData['splice'](_0x2f698f,0x1);const _0x21719f=document['getElementById'](_0x129f54(0x1d7));_0x21719f[_0x129f54(0x1bc)]='',createPalette();}function createPaletteElementInstance(_0x321577,_0x4c3e34,_0x48b2c2,_0x5378b3,_0x5002e2,_0xdbf112){const _0x454b72=_0x46f958;let _0x323fbc;switch(_0x321577){case _0x454b72(0x1d1):_0x323fbc=new AutotransformerLaboratory(_0x5378b3,_0x5002e2,_0x4c3e34);break;case'Resistor':_0x323fbc=new Resistor(_0x5378b3,_0x5002e2,_0x4c3e34);_0x4c3e34==='Rk'&&(_0x323fbc['resistance']='20');break;case _0x454b72(0x1cb):_0x323fbc=new SwitchSPDT(_0x5378b3,_0x5002e2,_0x4c3e34);break;case _0x454b72(0x1d2):_0x323fbc=new Switch(_0x5378b3,_0x5002e2,_0x4c3e34);break;case _0x454b72(0x193):_0x323fbc=new CustomAmmeter(_0x5378b3,_0x5002e2,_0x4c3e34);break;case _0x454b72(0x19f):_0x323fbc=new Phasemeter(_0x5378b3,_0x5002e2,_0x4c3e34);break;case _0x454b72(0x20c):_0x323fbc=new Node(_0x5378b3,_0x5002e2,_0x4c3e34);break;case'Induction':_0x323fbc=new Induction(_0x5378b3,_0x5002e2,_0x4c3e34);break;case _0x454b72(0x1b8):_0x323fbc=new Capacity(_0x5378b3,_0x5002e2,_0x4c3e34);break;case'Frequency':_0x323fbc=new Frequency(_0x5378b3,_0x5002e2,_0x4c3e34);break;default:return null;}return _0x323fbc[_0x454b72(0x1bd)]=parseInt(_0x48b2c2),_0x323fbc[_0x454b72(0x211)]=_0xdbf112,_0x323fbc;}function generateNewData(){const _0x11ee6a=_0x46f958,_0x511537=[];for(let _0x3df1e3=0x1e;_0x3df1e3<=0x64;_0x3df1e3+=0x5){_0x511537['push'](_0x3df1e3);}const _0x96a17c=[];for(let _0x4e8ffe=0xa;_0x4e8ffe<=0x64;_0x4e8ffe+=0xa){_0x96a17c[_0x11ee6a(0x208)](_0x4e8ffe);}const _0x137e96=[];for(let _0x23b665=0x1;_0x23b665<=0x14;_0x23b665+=0x1){_0x137e96['push'](_0x23b665);}const _0x1ca803=[];for(let _0x2e140f=0x5;_0x2e140f<=0x64;_0x2e140f+=0x5){_0x1ca803[_0x11ee6a(0x208)](_0x2e140f);}const _0x33148c=[];for(let _0x5027d4=0x190;_0x5027d4<=0x258;_0x5027d4+=0xa){_0x33148c[_0x11ee6a(0x208)](_0x5027d4);}let _0x238e3b=_0x96a17c[Math[_0x11ee6a(0x1fe)](Math['random']()*_0x96a17c[_0x11ee6a(0x1eb)])],_0x3c7203=_0x137e96[Math[_0x11ee6a(0x1fe)](Math[_0x11ee6a(0x212)]()*_0x137e96['length'])],_0x394d32=_0x511537[Math[_0x11ee6a(0x1fe)](Math['random']()*_0x511537[_0x11ee6a(0x1eb)])],_0x4239b3=_0x1ca803[Math[_0x11ee6a(0x1fe)](Math[_0x11ee6a(0x212)]()*_0x1ca803[_0x11ee6a(0x1eb)])],_0x13316c=_0x33148c[Math[_0x11ee6a(0x1fe)](Math['random']()*_0x33148c[_0x11ee6a(0x1eb)])],_0x768048={'R1':findElementByLabel('R1'),'Rk':findElementByLabel('Rk'),'AT':findElementByLabel('AT1'),'C1':findElementByLabel('C1'),'L1':findElementByLabel('L1'),'SA1':findElementByLabel(_0x11ee6a(0x1c5)),'SA2':findElementByLabel(_0x11ee6a(0x1e2)),'SA3':findElementByLabel(_0x11ee6a(0x223))};_0x768048[_0x11ee6a(0x1c5)][_0x11ee6a(0x214)]?_0x768048['R1'][_0x11ee6a(0x198)]=String(_0x238e3b):savedR1Resistance=String(_0x238e3b),_0x768048[_0x11ee6a(0x1e2)]['isOpen']?(_0x768048['Rk'][_0x11ee6a(0x198)]=String(_0x3c7203),_0x768048['L1']['induction']=String(_0x13316c)):(savedRkResistance=String(_0x3c7203),savedL1Induction=String(_0x13316c)),_0x768048[_0x11ee6a(0x223)][_0x11ee6a(0x214)]?_0x768048['C1'][_0x11ee6a(0x1aa)]=String(_0x4239b3):savedC1Capacity=String(_0x4239b3),_0x768048['AT'][_0x11ee6a(0x219)]=String(_0x394d32),hideCalculationValues(),calculateCircuit();}function mousePressed(){const _0x2f0811=_0x46f958;if(isCalculateButtonVisible){let _0x65dc8e=0x96*SCALE_FACTOR,_0x4f70a9=height-0x32*SCALE_FACTOR,_0x3b979c=0xc8*SCALE_FACTOR,_0x452120=0x32*SCALE_FACTOR;if(mouseX>_0x65dc8e&&mouseX<_0x65dc8e+_0x3b979c&&mouseY>_0x4f70a9&&mouseY<_0x4f70a9+_0x452120){generateNewData();return;}}if(mouseX>0x0&&mouseX<width&&mouseY>0x0&&mouseY<height){let _0x227cc5=null;for(let _0x3dbd57=elements[_0x2f0811(0x1eb)]-0x1;_0x3dbd57>=0x0;_0x3dbd57--){let _0xa262fd=elements[_0x3dbd57];if(_0xa262fd instanceof Node||_0xa262fd instanceof StaticTextDisplay)continue;let _0x3fc415;if(_0xa262fd instanceof VoltageSource||_0xa262fd instanceof CustomAmmeter||_0xa262fd instanceof AutotransformerLaboratory||_0xa262fd instanceof Induction||_0xa262fd instanceof Capacity||_0xa262fd instanceof Phasemeter||_0xa262fd instanceof Frequency){_0x3fc415=dist(mouseX,mouseY,_0xa262fd['x'],_0xa262fd['y']);if(_0x3fc415<_0xa262fd['r']*SCALE_FACTOR){_0x227cc5=_0xa262fd;break;}}else{if(_0xa262fd instanceof Resistor||_0xa262fd instanceof Switch||_0xa262fd instanceof SwitchSPDT){if(mouseX>_0xa262fd['x']-_0xa262fd['w']/0x2*SCALE_FACTOR&&mouseX<_0xa262fd['x']+_0xa262fd['w']/0x2*SCALE_FACTOR&&mouseY>_0xa262fd['y']-_0xa262fd['h']/0x2*SCALE_FACTOR&&mouseY<_0xa262fd['y']+_0xa262fd['h']/0x2*SCALE_FACTOR){_0x227cc5=_0xa262fd;break;}}}}if(_0x227cc5){if(_0x227cc5[_0x2f0811(0x211)]&&_0x227cc5[_0x2f0811(0x211)][_0x2f0811(0x19b)]){let _0xa0367b=millis();if(_0xa0367b-lastMousePressTime<DOUBLE_CLICK_THRESHOLD){if(_0x227cc5 instanceof SwitchSPDT)_0x227cc5[_0x2f0811(0x20e)]();else{if(_0x227cc5 instanceof Switch)_0x227cc5['toggleState']();else{if(_0x227cc5 instanceof Resistor&&KirgofTest){let _0x2547b4=prompt(_0x2f0811(0x1c0)+_0x227cc5['label']+':',_0x227cc5[_0x2f0811(0x198)]||_0x2f0811(0x210));_0x2547b4!==null&&(_0x227cc5['resistance']=_0x2547b4,calculateCircuit());}else{if(_0x227cc5 instanceof AutotransformerLaboratory){let _0x2cc2b6=prompt(_0x2f0811(0x1b5)+_0x227cc5[_0x2f0811(0x1b0)]+':',_0x227cc5[_0x2f0811(0x219)]||'50');_0x2cc2b6!==null&&(_0x227cc5[_0x2f0811(0x219)]=_0x2cc2b6,calculateCircuit());}else{if(_0x227cc5 instanceof Induction&&KirgofTest){let _0x221c39=prompt(_0x2f0811(0x1da)+_0x227cc5['label']+':',_0x227cc5[_0x2f0811(0x1ae)]||'5');_0x221c39!==null&&(_0x227cc5['induction']=_0x221c39,calculateCircuit());}else{if(_0x227cc5 instanceof Capacity){let _0x457b45=prompt(_0x2f0811(0x199)+_0x227cc5[_0x2f0811(0x1b0)]+':',_0x227cc5[_0x2f0811(0x1aa)]||'10');_0x457b45!==null&&(_0x227cc5[_0x2f0811(0x1aa)]=_0x457b45,calculateCircuit());}else{if(_0x227cc5 instanceof Frequency){let _0x31911d=prompt(_0x2f0811(0x199)+_0x227cc5['label']+':',_0x227cc5['frequency']||'50');_0x31911d!==null&&(_0x227cc5[_0x2f0811(0x1c3)]=_0x31911d,calculateCircuit());}}}}}}}}lastMousePressTime=_0xa0367b;return;}draggedElement=_0x227cc5,dragOffsetX=mouseX-draggedElement['x'],dragOffsetY=mouseY-draggedElement['y'],lastMousePressTime=currentTime;}else canvasElementInstance?(draggedElement=canvasElementInstance,draggedElement['x']=mouseX,draggedElement['y']=mouseY,dragOffsetX=0x0,dragOffsetY=0x0,elements[_0x2f0811(0x208)](draggedElement),canvasElementInstance=null,redraw()):draggedElement=null;}else draggedElement=null;}function mouseDragged(){const _0x1b2a78=_0x46f958;let _0x16fe5e=canvasElementInstance||draggedElement;if(_0x16fe5e){dragOffsetX=0x0,dragOffsetY=0x0;let _0x507afb=mouseX-dragOffsetX,_0x293ce5=mouseY-dragOffsetY,_0x14296f=0x1e*SCALE_FACTOR,_0x25d05c=_0x14296f,_0x5c4dcd=_0x14296f,_0x13e9b2=width-_0x14296f,_0x54358d=height-_0x14296f;_0x16fe5e['x']=constrain(_0x507afb,_0x25d05c,_0x13e9b2),_0x16fe5e['y']=constrain(_0x293ce5,_0x5c4dcd,_0x54358d);if(_0x16fe5e[_0x1b2a78(0x211)]){let _0xa30f3e=dist(_0x16fe5e['x'],_0x16fe5e['y'],_0x16fe5e[_0x1b2a78(0x211)][_0x1b2a78(0x1ce)],_0x16fe5e[_0x1b2a78(0x211)]['targetY']),_0x186093=Math[_0x1b2a78(0x1d6)](0x0,Math['round'](_0xa30f3e-SNAP_DISTANCE));distanceBox[_0x1b2a78(0x1cf)]=_0x1b2a78(0x1db)+_0x186093+_0x1b2a78(0x1bf);}else distanceBox['textContent']=_0x1b2a78(0x1b7);}}function mouseReleased(){const _0x142a55=_0x46f958;let _0x167c59=null,_0x153d89;if(canvasElementInstance)elements[_0x142a55(0x208)](canvasElementInstance),_0x167c59=canvasElementInstance['placedElementData'],_0x167c59&&(_0x153d89=dist(canvasElementInstance['x'],canvasElementInstance['y'],_0x167c59[_0x142a55(0x1ce)],_0x167c59[_0x142a55(0x197)]),_0x153d89<=SNAP_DISTANCE&&!_0x167c59[_0x142a55(0x1ea)]&&(canvasElementInstance['x']=_0x167c59[_0x142a55(0x1ce)],canvasElementInstance['y']=_0x167c59[_0x142a55(0x197)],_0x167c59['placed']=!![],elementsPlacedCount++,_0x167c59[_0x142a55(0x19b)]=!![])),canvasElementInstance=null;else{if(draggedElement!==null){_0x167c59=draggedElement[_0x142a55(0x211)],_0x153d89=_0x167c59?dist(draggedElement['x'],draggedElement['y'],_0x167c59[_0x142a55(0x1ce)],_0x167c59[_0x142a55(0x197)]):undefined;if(_0x167c59){if(_0x153d89<=SNAP_DISTANCE&&!_0x167c59[_0x142a55(0x1ea)])!_0x167c59[_0x142a55(0x1ea)]&&(draggedElement['x']=_0x167c59[_0x142a55(0x1ce)],draggedElement['y']=_0x167c59['targetY'],_0x167c59[_0x142a55(0x1ea)]=!![],elementsPlacedCount++,_0x167c59['isFixed']=!![]);else _0x167c59['placed']&&(!(draggedElement instanceof SwitchSPDT)&&!(draggedElement instanceof Switch)&&(_0x167c59[_0x142a55(0x1ea)]=![],elementsPlacedCount--,_0x167c59['isFixed']=![]));}draggedElement=null;}}updateCounterDisplay(),distanceBox[_0x142a55(0x1cf)]='',redraw();}function updateCounterDisplay(){const _0x51b635=_0x46f958;counterBox[_0x51b635(0x1cf)]=_0x51b635(0x19c)+(elementsToPlaceCount-elementsPlacedCount),elementsToPlaceCount-elementsPlacedCount<=0x0?(counterBox[_0x51b635(0x1cf)]=_0x51b635(0x1ed),isCalculateButtonVisible=!![],calculateCircuit()):isCalculateButtonVisible=![];}function showCorrectMessage(){const _0x5b863a=_0x46f958;messageBox['textContent']=_0x5b863a(0x1b2),messageBox['classList']['add'](_0x5b863a(0x1c1)),clearTimeout(messageTimeout),messageTimeout=setTimeout(()=>{const _0x4bbe37=_0x5b863a;messageBox[_0x4bbe37(0x1e5)][_0x4bbe37(0x22a)](_0x4bbe37(0x1c1));},0x7d0);}function calculateCircuit(){const _0x3e0242=_0x46f958;if(elementsToPlaceCount-elementsPlacedCount>0x0){alert(_0x3e0242(0x202));return;}hideCalculationValues();const _0x4119d4=findElementByLabel('R1'),_0x115cef=findElementByLabel('Rk'),_0x1f9935=findElementByLabel('L1'),_0x268e7a=findElementByLabel('C1'),_0x206298=findElementByLabel('AT1'),_0xae5e11=findElementByLabel('Hz'),_0x73706a=findElementByLabel('PA1'),_0x4667bb=findElementByLabel('φ');if(!_0x4119d4||!_0x115cef||!_0x1f9935||!_0x268e7a||!_0x206298||!_0xae5e11||!_0x73706a||!_0x4667bb){console[_0x3e0242(0x1f3)]('Не\x20всі\x20елементи\x20знайдені\x20на\x20схемі\x20для\x20розрахунку.');return;}const _0x55cbee=parseFloat(_0x4119d4['resistance']),_0xd6d2cf=parseFloat(_0x115cef[_0x3e0242(0x198)]),_0x307974=parseFloat(_0x1f9935[_0x3e0242(0x1ae)]),_0x1e3337=parseFloat(_0x268e7a['capacity']),_0x4c37cb=parseFloat(_0x206298[_0x3e0242(0x219)]),_0x1d9ae5=parseFloat(_0xae5e11[_0x3e0242(0x1c3)]),_0x464335=_0x307974/0x3e8,_0x33b754=_0x1e3337/0xf4240,_0x54229d=0x2*Math['PI']*_0x1d9ae5,_0x54a2d2=_0x54229d*_0x464335;let _0x5dd8a7=0x0;_0x33b754!==0x0?_0x5dd8a7=0x1/(_0x54229d*_0x33b754):(console[_0x3e0242(0x1c8)](_0x3e0242(0x205)),_0x5dd8a7=0x0);const _0x15eb0b=Math['sqrt'](Math[_0x3e0242(0x221)](_0x55cbee+_0xd6d2cf,0x2)+Math['pow'](_0x54a2d2-_0x5dd8a7,0x2));let _0x3f98a9=0x0;_0x15eb0b!==0x0?_0x3f98a9=_0x4c37cb/_0x15eb0b:(console[_0x3e0242(0x1c8)](_0x3e0242(0x1c9)),_0x3f98a9=0x0);const _0xaf55ca=_0x3f98a9*_0x55cbee,_0x280647=_0x3f98a9*_0x5dd8a7,_0x5528ff=_0x3f98a9*_0xd6d2cf,_0x9a418d=_0x3f98a9*_0x54a2d2;let _0x52f5c0=Math[_0x3e0242(0x1e1)](_0x54a2d2-_0x5dd8a7,_0x55cbee+_0xd6d2cf),_0x58c417=_0x52f5c0*(0xb4/Math['PI']);isNaN(_0x58c417)&&(_0x58c417=0x0);const _0x2bbcdc=Math[_0x3e0242(0x1fd)](Math[_0x3e0242(0x221)](_0x5528ff,0x2)+Math[_0x3e0242(0x221)](_0x9a418d,0x2));displayCalculationValue(_0x4119d4,_0x3e0242(0x1a0)+_0xaf55ca[_0x3e0242(0x1c2)](0x2)+'\x20В',_0x3e0242(0x1ad)),staticVoltageDisplay['setText']('Uк\x20=\x20'+_0x2bbcdc[_0x3e0242(0x1c2)](0x2)+'\x20В'),displayCalculationValue(_0x268e7a,_0x3e0242(0x227)+_0x280647[_0x3e0242(0x1c2)](0x2)+'\x20В','bottom'),displayCalculationValue(_0x4667bb,''+_0x58c417[_0x3e0242(0x1c2)](0x2)+'°',_0x3e0242(0x203)),displayCalculationValue(_0x73706a,''+_0x3f98a9[_0x3e0242(0x1c2)](0x3)+'\x20А','bottom'),oscilloscopeDisplay&&oscilloscopeDisplay[_0x3e0242(0x21b)](_0x3f98a9,_0x2bbcdc,_0x1d9ae5,_0x58c417);}function findElementByLabel(_0x174033){const _0x93cd2f=_0x46f958;for(const _0x5dea0a of elements){if(_0x5dea0a[_0x93cd2f(0x1b0)]===_0x174033)return _0x5dea0a;}return null;}function displayCalculationValue(_0x40273a,_0x876519,_0x1f6d2f){const _0x4cd1fb=_0x46f958;if(!_0x40273a||typeof _0x40273a['x']===_0x4cd1fb(0x1a1)||typeof _0x40273a['y']==='undefined'){console['error'](_0x4cd1fb(0x1f0),_0x40273a);return;}push(),translate(_0x40273a['x'],_0x40273a['y']),fill(0xff,0x0,0x0),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,_0x1f6d2f===_0x4cd1fb(0x1ad)?TOP:BOTTOM);let _0x4c4567=0x0;if(_0x40273a instanceof CustomAmmeter||_0x40273a instanceof Frequency)_0x4c4567=(_0x1f6d2f===_0x4cd1fb(0x1ad)?_0x40273a['r']+0xa:-_0x40273a['r']-0x19)*SCALE_FACTOR;else{if(_0x40273a instanceof Phasemeter)_0x4c4567=(_0x1f6d2f===_0x4cd1fb(0x1ad)?_0x40273a['r']+0xa:-_0x40273a['r']-0x19)*SCALE_FACTOR;else{if(_0x40273a instanceof Resistor)_0x4c4567=(_0x1f6d2f===_0x4cd1fb(0x203)?-_0x40273a['h']/0x2-0xf:_0x40273a['h']/0x2+0x14)*SCALE_FACTOR;else{if(_0x40273a instanceof AutotransformerLaboratory)_0x4c4567=(_0x1f6d2f===_0x4cd1fb(0x203)?-_0x40273a['h']/0x2-0x23:_0x40273a['h']/0x2+0x1e)*SCALE_FACTOR;else{if(_0x40273a instanceof Induction)_0x4c4567=(_0x1f6d2f===_0x4cd1fb(0x203)?-_0x40273a['h']/0x2-0xf:_0x40273a['h']/0x2+0x14)*SCALE_FACTOR;else _0x40273a instanceof Capacity&&(_0x4c4567=(_0x1f6d2f==='top'?-_0x40273a['h']/0x2-0xf:_0x40273a['h']/0x2+0x14)*SCALE_FACTOR);}}}}text(_0x876519,0x0,_0x4c4567),pop(),_0x40273a[_0x4cd1fb(0x1b6)]=_0x876519;}function hideCalculationValues(){const _0x2b1990=_0x46f958;redraw(),elements[_0x2b1990(0x206)](_0x44a7e4=>{const _0x4ce273=_0x2b1990;_0x44a7e4[_0x4ce273(0x1b6)]=null;});}class CircuitElement{constructor(_0x28667b,_0x4b95e6){const _0x12fa85=_0x46f958;this['x']=_0x28667b,this['y']=_0x4b95e6,this['orientation']=0x1,this['connectors']=[],this[_0x12fa85(0x226)]=![],this[_0x12fa85(0x211)]=null,this['calculationDisplayValue']=null;}['update'](){}[_0x46f958(0x18e)](){const _0x5993ec=_0x46f958;push(),translate(this['x'],this['y']);let _0x1dc443=0x0;switch(this[_0x5993ec(0x1bd)]){case 0x2:_0x1dc443=PI/0x2;break;case 0x3:_0x1dc443=PI;break;case 0x4:_0x1dc443=0x3*PI/0x2;break;default:_0x1dc443=0x0;}rotate(_0x1dc443);if(this['calculationDisplayValue']!==null){stroke(_0x5993ec(0x209)),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x32323e=textWidth(this['calculationDisplayValue']);rectMode(CENTER);let _0x5e4cdf=-0x2*SCALE_FACTOR,_0x408faa=0x2d*SCALE_FACTOR,_0x2eee91=0x2*SCALE_FACTOR,_0x5c29ad=0x2*SCALE_FACTOR;rect(_0x5e4cdf,_0x408faa,_0x32323e+_0x2eee91*0x2,0x14*SCALE_FACTOR+_0x5c29ad*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x5993ec(0x1b6)],_0x5e4cdf,_0x408faa);}}[_0x46f958(0x1ec)](){rotate(0x0),pop();}[_0x46f958(0x1d9)](){const _0x493cc9=_0x46f958;this[_0x493cc9(0x1bb)][_0x493cc9(0x206)](_0x3cd2f5=>{const _0xca37b3=_0x493cc9;_0x3cd2f5['x']=this['x']+cos(this[_0xca37b3(0x215)]())*_0x3cd2f5[_0xca37b3(0x200)]-sin(this[_0xca37b3(0x215)]())*_0x3cd2f5[_0xca37b3(0x201)],_0x3cd2f5['y']=this['y']+sin(this[_0xca37b3(0x215)]())*_0x3cd2f5['originalX']+cos(this[_0xca37b3(0x215)]())*_0x3cd2f5[_0xca37b3(0x201)];});}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:rotationAngle=0x3*PI/0x2;break;default:rotationAngle=0x0;}}}class VoltageSource extends CircuitElement{constructor(_0x22f319,_0x17e8a4,_0x12af12){const _0x1ad5e0=_0x46f958;super(_0x22f319,_0x17e8a4),this['r']=0x14*SCALE_FACTOR,this[_0x1ad5e0(0x1b0)]=_0x12af12,this[_0x1ad5e0(0x219)]='12',this[_0x1ad5e0(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x1ad5e0(0x206)](_0x3d9adf=>{const _0x3881c0=_0x1ad5e0;_0x3d9adf[_0x3881c0(0x200)]*=SCALE_FACTOR;}),this[_0x1ad5e0(0x191)]=![];}['displayPalette'](_0x4e4dcc){const _0x4f5cde=_0x46f958;_0x4e4dcc[_0x4f5cde(0x1cd)](0x1*SCALE_FACTOR),_0x4e4dcc[_0x4f5cde(0x1f4)](0x0),_0x4e4dcc['fill'](0xff),_0x4e4dcc[_0x4f5cde(0x1f7)](0x0,0x0,this['r']*1.5),_0x4e4dcc[_0x4f5cde(0x21f)](0x0,this['r']*0.75,0x0,-this['r']*0.75),_0x4e4dcc['line'](0x0,-this['r']*0.75,this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x4e4dcc[_0x4f5cde(0x21f)](0x0,-this['r']*0.75,-this['r']*0.3*0.75,-this['r']*0.7*0.75),_0x4e4dcc[_0x4f5cde(0x1f8)](),_0x4e4dcc[_0x4f5cde(0x1a9)](0x0),_0x4e4dcc[_0x4f5cde(0x217)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x4e4dcc[_0x4f5cde(0x1d4)](this[_0x4f5cde(0x1b0)],0x0,this['r']*1.3);}['display'](){const _0x517692=_0x46f958;super[_0x517692(0x18e)]();let _0x3cebf5=0x1*SCALE_FACTOR,_0x42dba4=0x2*_0x3cebf5;this[_0x517692(0x191)]?(stroke(0x0,0xff,0x0),strokeWeight(_0x42dba4),fill(0xff)):(stroke(0x0),strokeWeight(_0x3cebf5),fill(0xff)),circle(0x0,0x0,this['r']*0x2),line(0x0,this['r'],0x0,-this['r']),line(0x0,-this['r'],this['r']*0.3,-this['r']*0.7),line(0x0,-this['r'],-this['r']*0.3,-this['r']*0.7),rotate(0x0),this[_0x517692(0x191)]?(noStroke(),fill(0x49,0x62,0x3e)):(noStroke(),fill(0x0)),textAlign(CENTER,CENTER),textSize(0x10*SCALE_FACTOR),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(this[_0x517692(0x1b0)],this['r']*1.4,-this['r']*0.5),noStroke(),fill(0x0),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',this['r']*1.4,this['r']*0.9),super[_0x517692(0x1ec)](),this['updateConnectors']();}['rotationAngle'](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Resistor extends CircuitElement{constructor(_0x5ccdee,_0x27182c,_0x4aa060){const _0x4022fa=_0x46f958;super(_0x5ccdee,_0x27182c),this['w']=0x28*SCALE_FACTOR,this['h']=0x14*SCALE_FACTOR,this[_0x4022fa(0x1b0)]=_0x4aa060,this[_0x4022fa(0x198)]='100',this['voltageDrop']=0x0,this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors']['forEach'](_0x5e7208=>{const _0x3917b5=_0x4022fa;_0x5e7208[_0x3917b5(0x200)]*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0x295c80){const _0x74855e=_0x46f958;_0x295c80[_0x74855e(0x1cd)](0x1*SCALE_FACTOR),_0x295c80[_0x74855e(0x1f4)](0x0),_0x295c80[_0x74855e(0x1a9)](0xc8,0x96,0x64),_0x295c80[_0x74855e(0x1c6)](CENTER),_0x295c80[_0x74855e(0x1ee)](0x0,0x0,this['w']*0.7,this['h']*0.7,0x5*SCALE_FACTOR),_0x295c80['noStroke'](),_0x295c80['fill'](0x0),_0x295c80[_0x74855e(0x217)](CENTER,CENTER),_0x295c80[_0x74855e(0x1fb)](0x8*SCALE_FACTOR),_0x295c80['text'](this[_0x74855e(0x1b0)],0x0,0x0);}[_0x46f958(0x18e)](){const _0x4b6fb6=_0x46f958;super[_0x4b6fb6(0x18e)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xc8,0x96,0x64),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h'],0x5*SCALE_FACTOR),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x4b6fb6(0x1b0)],0x0,0x0),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['resistance']+_0x4b6fb6(0x1e3),0x0,this['h']/0x2+0x2*SCALE_FACTOR)),super[_0x4b6fb6(0x1ec)](),this[_0x4b6fb6(0x1d9)]();}['updateConnectors'](){const _0x59472c=_0x46f958;this[_0x59472c(0x1bb)][_0x59472c(0x206)](_0x42fbf1=>{const _0x2afe67=_0x59472c;_0x42fbf1['x']=this['x']+cos(this['rotationAngle']())*_0x42fbf1[_0x2afe67(0x200)]-sin(this['rotationAngle']())*_0x42fbf1[_0x2afe67(0x201)],_0x42fbf1['y']=this['y']+sin(this['rotationAngle']())*_0x42fbf1[_0x2afe67(0x200)]+cos(this['rotationAngle']())*_0x42fbf1['originalY'];});}[_0x46f958(0x215)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}class Capacity extends CircuitElement{constructor(_0x51b84c,_0x358539,_0x35fe7b){const _0x488327=_0x46f958;super(_0x51b84c,_0x358539),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=Math[_0x488327(0x1d6)](this['w'],this['h'])/0x2,this[_0x488327(0x1b0)]=_0x35fe7b,this[_0x488327(0x1aa)]='10',this[_0x488327(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x488327(0x1bb)][_0x488327(0x206)](_0x574965=>{const _0x135f3e=_0x488327;_0x574965[_0x135f3e(0x200)]*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0x558732){const _0x2a7806=_0x46f958;_0x558732['strokeWeight'](0x1*SCALE_FACTOR),_0x558732[_0x2a7806(0x1f4)](0x0),_0x558732['line'](-this['w']/0x5,this['h']/0x2*0.7,-this['w']/0x5,-this['h']/0x2*0.7),_0x558732[_0x2a7806(0x21f)](this['w']/0x5,this['h']/0x2*0.7,this['w']/0x5,-this['h']/0x2*0.7),_0x558732[_0x2a7806(0x21f)](this['w']/0x5,0x0,this['w'],0x0),_0x558732[_0x2a7806(0x21f)](-this['w']/0x5,0x0,-this['w'],0x0),_0x558732[_0x2a7806(0x1f8)](),_0x558732[_0x2a7806(0x1a9)](0x0),_0x558732[_0x2a7806(0x217)](CENTER,CENTER),_0x558732[_0x2a7806(0x1fb)](0x8*SCALE_FACTOR),_0x558732[_0x2a7806(0x1d4)](this[_0x2a7806(0x1b0)],-this['w']/0x2,-this['h']*0.5);}[_0x46f958(0x18e)](){const _0x20013b=_0x46f958;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),line(-this['w']/0x5,this['h']/0x2,-this['w']/0x5,-this['h']/0x2),line(this['w']/0x5,this['h']/0x2,this['w']/0x5,-this['h']/0x2),strokeWeight(0x1*SCALE_FACTOR),line(this['w']/0x5,0x0,this['w'],0x0),line(-this['w']/0x5,0x0,-this['w'],0x0),line(-this['w']/0x2,this['h']/0x3,this['w']*0.8,-this['h']/0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x20013b(0x1b0)],-this['w']/0x2,-this['h']*0.75);const _0x37cf44=this['w']*0.8,_0x3ca53f=-this['h']/0x2;fill(0x0),triangle(_0x37cf44,_0x3ca53f,_0x37cf44-this['w']*0.3,_0x3ca53f+this['w']*0.1,_0x37cf44-this['w']*0.1,_0x3ca53f+this['w']*0.3),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x20013b(0x1aa)]+_0x20013b(0x1fa),0x0,this['h']/0x2+0x2*SCALE_FACTOR),super[_0x20013b(0x1ec)](),this['updateConnectors']();}[_0x46f958(0x1d9)](){const _0xd4b94b=_0x46f958;this[_0xd4b94b(0x1bb)]['forEach'](_0x1d03a6=>{const _0xb164cd=_0xd4b94b;_0x1d03a6['x']=this['x']+cos(this[_0xb164cd(0x215)]())*_0x1d03a6[_0xb164cd(0x200)]-sin(this[_0xb164cd(0x215)]())*_0x1d03a6['originalY'],_0x1d03a6['y']=this['y']+sin(this[_0xb164cd(0x215)]())*_0x1d03a6[_0xb164cd(0x200)]+cos(this['rotationAngle']())*_0x1d03a6[_0xb164cd(0x201)];});}[_0x46f958(0x215)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Frequency extends CircuitElement{constructor(_0x4ec3c2,_0x5abd80,_0xccad65){const _0x3e4826=_0x46f958;super(_0x4ec3c2,_0x5abd80),this['w']=0x14*SCALE_FACTOR,this['h']=0x1e*SCALE_FACTOR,this['r']=0x11*SCALE_FACTOR,this['label']=_0xccad65,this['frequency']='50',this[_0x3e4826(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x3e4826(0x1bb)][_0x3e4826(0x206)](_0x254311=>{_0x254311['originalX']*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0x4191e1){const _0x5c3361=_0x46f958;_0x4191e1[_0x5c3361(0x1cd)](0x1*SCALE_FACTOR),_0x4191e1[_0x5c3361(0x1f4)](0x0),_0x4191e1[_0x5c3361(0x1a9)](0xdc),_0x4191e1['circle'](0x0,0x0,this['r']*1.5),_0x4191e1[_0x5c3361(0x1f8)](),_0x4191e1['fill'](0x0),_0x4191e1['textAlign'](CENTER,CENTER),_0x4191e1[_0x5c3361(0x1fb)](0x8*SCALE_FACTOR),_0x4191e1[_0x5c3361(0x1d4)](this[_0x5c3361(0x1b0)],this['r']*0.6,this['r']*1.3);}['display'](){const _0x575ebe=_0x46f958;super['display'](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x575ebe(0x1b0)],0x0,0x0),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,TOP),text(this[_0x575ebe(0x1c3)]+_0x575ebe(0x1a4),0x0,this['r']+0x3*SCALE_FACTOR),super[_0x575ebe(0x1ec)](),this[_0x575ebe(0x1d9)]();}['updateConnectors'](){const _0x123f7d=_0x46f958;this[_0x123f7d(0x1bb)][_0x123f7d(0x206)](_0x469d00=>{const _0x39cb30=_0x123f7d;_0x469d00['x']=this['x']+cos(this[_0x39cb30(0x215)]())*_0x469d00[_0x39cb30(0x200)]-sin(this[_0x39cb30(0x215)]())*_0x469d00[_0x39cb30(0x201)],_0x469d00['y']=this['y']+sin(this[_0x39cb30(0x215)]())*_0x469d00[_0x39cb30(0x200)]+cos(this[_0x39cb30(0x215)]())*_0x469d00[_0x39cb30(0x201)];});}[_0x46f958(0x215)](){const _0x5a300f=_0x46f958;switch(this[_0x5a300f(0x1bd)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Induction extends CircuitElement{constructor(_0x5cbd5d,_0x44bfb0,_0x2ba2f5){const _0x3d6df9=_0x46f958;super(_0x5cbd5d,_0x44bfb0),this['w']=0x3c*SCALE_FACTOR,this['h']=0x3c*SCALE_FACTOR,this['r']=Math[_0x3d6df9(0x1d6)](this['w'],this['h'])/0x2,this['label']=_0x2ba2f5,this[_0x3d6df9(0x1ae)]=_0x3d6df9(0x1b3),this[_0x3d6df9(0x224)]=0x0,this[_0x3d6df9(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x3d6df9(0x206)](_0x26a955=>{const _0x4f92bb=_0x3d6df9;_0x26a955[_0x4f92bb(0x200)]*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0xfe6f0d){const _0x306d3b=_0x46f958;_0xfe6f0d[_0x306d3b(0x1cd)](0x1*SCALE_FACTOR),_0xfe6f0d[_0x306d3b(0x1f4)](0x0);let _0x586211=this['h']*0.25,_0x19a280=this['w']*0.6,_0x399322=-_0x19a280/0x2,_0x56de1d=0x0,_0x43aeaa=_0x19a280/0x3;_0xfe6f0d[_0x306d3b(0x18b)]();const _0x2bf913=0x3;for(let _0x33ae92=0x0;_0x33ae92<_0x2bf913;_0x33ae92++){let _0x3f9699=_0x399322+_0x33ae92*_0x43aeaa;_0xfe6f0d[_0x306d3b(0x195)](_0x3f9699+_0x43aeaa/0x2,_0x56de1d,_0x43aeaa,_0x586211,PI,0x0);}_0xfe6f0d[_0x306d3b(0x21f)](_0x399322,0x0,_0x399322-0xa,0x0),_0xfe6f0d[_0x306d3b(0x21f)](_0x19a280/0x2,0x0,_0x19a280/0x2+0xa,0x0),_0xfe6f0d[_0x306d3b(0x1f8)](),_0xfe6f0d[_0x306d3b(0x1a9)](0x0),_0xfe6f0d[_0x306d3b(0x217)](CENTER,CENTER),_0xfe6f0d[_0x306d3b(0x1fb)](0x8*SCALE_FACTOR),_0xfe6f0d[_0x306d3b(0x1d4)](this[_0x306d3b(0x1b0)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR);}[_0x46f958(0x18e)](){const _0xd54024=_0x46f958;super[_0xd54024(0x18e)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0);let _0xf0290=this['h']*0.25,_0x4bbb0d=this['w']*0.6,_0xf8731d=-_0x4bbb0d/0x2,_0x4280c9=0x0,_0x413b03=_0x4bbb0d/0x3;noFill();const _0x3b4fff=0x3;for(let _0x354bbc=0x0;_0x354bbc<_0x3b4fff;_0x354bbc++){let _0x19cedf=_0xf8731d+_0x354bbc*_0x413b03;arc(_0x19cedf+_0x413b03/0x2,_0x4280c9,_0x413b03,_0xf0290,PI,0x0);}line(_0xf8731d,0x0,_0xf8731d-_0x4bbb0d/0x3,0x0),line(_0x4bbb0d/0x2,0x0,_0x4bbb0d*0.9,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0xd54024(0x1b0)],0xf*SCALE_FACTOR,-0xf*SCALE_FACTOR),KirgofTest&&(textSize(0xa*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['induction']+_0xd54024(0x1f5),0x0,this['h']/0xa)),super[_0xd54024(0x1ec)](),this[_0xd54024(0x1d9)]();}[_0x46f958(0x1d9)](){const _0x127ecc=_0x46f958;this[_0x127ecc(0x1bb)]['forEach'](_0x3a84a5=>{const _0x53614c=_0x127ecc;_0x3a84a5['x']=this['x']+cos(this[_0x53614c(0x215)]())*_0x3a84a5['originalX']-sin(this['rotationAngle']())*_0x3a84a5[_0x53614c(0x201)],_0x3a84a5['y']=this['y']+sin(this['rotationAngle']())*_0x3a84a5[_0x53614c(0x200)]+cos(this[_0x53614c(0x215)]())*_0x3a84a5[_0x53614c(0x201)];});}[_0x46f958(0x215)](){const _0x1731d6=_0x46f958;switch(this[_0x1731d6(0x1bd)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*SCALE_FACTOR;default:return 0x0;}}}function _0x8518(){const _0x8980a=['setLineDash','max','palette','currentAmplitude','updateConnectors','Введіть\x20індуктивність\x20для\x20','Відстань\x20до\x20точки:\x20','voltageAmplitude','paletteElement\x20is\x20null\x20in\x20paletteElementClick!','canvas','angle','current','atan2','SA2','\x20Ом','tapPosition','classList','phaseAngleDeg','blue','green','appendChild','placed','length','postDisplay','Схему\x20зібрано!','rect','angleMode','Invalid\x20element\x20or\x20element\x20position\x20for\x20display:','744675vTRKfz','displayPalette','error','stroke','\x20\x20мГн','elementType','circle','noStroke','waveformColorVoltage','\x20мкФ','textSize','state','sqrt','floor','triangle','originalX','originalY','Схема\x20не\x20зібрана.\x20Спочатку\x20розмістіть\x20усі\x20елементи.','top','Frequency','Ємність\x20конденсатора\x20\x20кола\x20дорівнює\x20нулю.','forEach','round','push','lightgray','1325050AFEhgT','clear','Node','contains','toggleState','waveformColorCurrent','100','placedElementData','random','type','isOpen','rotationAngle','phase','textAlign','translate','voltage','6pyJhca','updateWaveform','currentTarget','height','Напруга','line','drawWaveforms','pow','pop','SA3','voltageDrop','div','isDragging','Uc\x20','drawingContext','#4CAF50','remove','noFill','Missing\x20dataset\x20attribute\x20in\x20paletteElementClick!','AT1','display','update','lightgreen','isActive','setText','CustomAmmeter','lightyellow','arc','Resistor','targetY','resistance','Введіть\x20ємність\x20для\x20','click','isFixed','Потрібно\x20поставити\x20елементів:\x20','elementOrientation','369432sOpHeJ','Phasemeter','Ur\x20','undefined','1384760EISdkU','updateConnectorPositions','\x20Гц','PA1','37507uXAhMS','palette-element','frequencyHz','fill','capacity','2118712wAVzhb','function','bottom','induction','getElementById','label','createElement','Correctly\x20placed!','440','test','Введіть\x20напругу\x20для\x20','calculationDisplayValue','Цільова\x20точка\x20не\x20знайдена','Capacity','2956037eerhny','width','connectors','innerHTML','orientation','Л\x20А\x20Т\x20Р','\x20px','Введіть\x20опір\x20для\x20','show','toFixed','frequency','Дослідні\x20дані','SA1','rectMode','elementLabel','warn','Повний\x20опір\x20кола\x20дорівнює\x20нулю,\x20струм\x20неможливо\x20обчислити.','130TyimmX','SwitchSPDT','paletteIndex','strokeWeight','targetX','textContent','dataset','AutotransformerLaboratory','Switch','16Luipgt','text'];_0x8518=function(){return _0x8980a;};return _0x8518();}class CustomAmmeter extends CircuitElement{constructor(_0x5da7c4,_0x23cf04,_0x5e685f){const _0x5edabf=_0x46f958;super(_0x5da7c4,_0x23cf04),this['r']=0x11*SCALE_FACTOR,this[_0x5edabf(0x1b0)]=_0x5e685f,this[_0x5edabf(0x1e0)]=0x0,this[_0x5edabf(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this[_0x5edabf(0x1bb)][_0x5edabf(0x206)](_0x143a8e=>{_0x143a8e['originalX']*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0x57fa5f){const _0x16f3e0=_0x46f958;_0x57fa5f[_0x16f3e0(0x1cd)](0x1*SCALE_FACTOR),_0x57fa5f['stroke'](0x0),_0x57fa5f[_0x16f3e0(0x1a9)](0xdc),_0x57fa5f[_0x16f3e0(0x1f7)](0x0,0x0,this['r']*1.5),_0x57fa5f[_0x16f3e0(0x1f8)](),_0x57fa5f[_0x16f3e0(0x1a9)](0x0),_0x57fa5f[_0x16f3e0(0x217)](CENTER,CENTER),_0x57fa5f[_0x16f3e0(0x1fb)](0x8*SCALE_FACTOR),_0x57fa5f[_0x16f3e0(0x1d4)](this[_0x16f3e0(0x1b0)],this['r']*0.6,this['r']*1.3);}['display'](){const _0x3e5bd8=_0x46f958;super[_0x3e5bd8(0x18e)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0xc*SCALE_FACTOR),text(this[_0x3e5bd8(0x1b0)],0x0,0x0),super[_0x3e5bd8(0x1ec)](),this[_0x3e5bd8(0x1d9)]();}['updateConnectors'](){const _0x1771c3=_0x46f958;this[_0x1771c3(0x1bb)][_0x1771c3(0x206)](_0x1341f8=>{const _0x3a1784=_0x1771c3;_0x1341f8['x']=this['x']+cos(this['rotationAngle']())*_0x1341f8[_0x3a1784(0x200)]-sin(this['rotationAngle']())*_0x1341f8[_0x3a1784(0x201)],_0x1341f8['y']=this['y']+sin(this['rotationAngle']())*_0x1341f8[_0x3a1784(0x200)]+cos(this[_0x3a1784(0x215)]())*_0x1341f8[_0x3a1784(0x201)];});}[_0x46f958(0x215)](){const _0x4d6e7b=_0x46f958;switch(this[_0x4d6e7b(0x1bd)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Phasemeter extends CircuitElement{constructor(_0x18adef,_0x531bf1,_0xcdc47e){const _0x58e9fe=_0x46f958;super(_0x18adef,_0x531bf1),this['r']=0x11*SCALE_FACTOR,this[_0x58e9fe(0x1b0)]=_0xcdc47e,this[_0x58e9fe(0x216)]=0x0,this[_0x58e9fe(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0,'element':this}],this['connectors'][_0x58e9fe(0x206)](_0x2cea3d=>{const _0x2d7020=_0x58e9fe;_0x2cea3d[_0x2d7020(0x200)]*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0x3b3878){const _0x4f6cb9=_0x46f958;_0x3b3878[_0x4f6cb9(0x1cd)](0x1*SCALE_FACTOR),_0x3b3878['stroke'](0x0),_0x3b3878['fill'](0xdc),_0x3b3878[_0x4f6cb9(0x1f7)](0x0,0x0,this['r']*0x1);const _0x4b49b4=0.8;_0x3b3878['line'](-this['r']*_0x4b49b4,0x0,this['r']*_0x4b49b4,0x0),_0x3b3878[_0x4f6cb9(0x21f)](0x0,-this['r']*_0x4b49b4,0x0,this['r']*_0x4b49b4),_0x3b3878[_0x4f6cb9(0x21f)](0x0,-this['r']*_0x4b49b4,-this['r']*_0x4b49b4,-this['r']*_0x4b49b4),_0x3b3878[_0x4f6cb9(0x21f)](-this['r']*_0x4b49b4,-this['r']*_0x4b49b4,-this['r']*_0x4b49b4,0x0),_0x3b3878[_0x4f6cb9(0x1a9)](0x0),_0x3b3878[_0x4f6cb9(0x1f7)](0x0,this['r']*_0x4b49b4,this['r']*0.2),_0x3b3878[_0x4f6cb9(0x1f7)](-this['r']*_0x4b49b4,0x0,this['r']*0.2),_0x3b3878[_0x4f6cb9(0x1f7)](0x0,-this['r']*_0x4b49b4,this['r']*0.2),_0x3b3878[_0x4f6cb9(0x1f8)](),_0x3b3878[_0x4f6cb9(0x1a9)](0x0),_0x3b3878[_0x4f6cb9(0x217)](CENTER,CENTER),_0x3b3878[_0x4f6cb9(0x1fb)](0xa*SCALE_FACTOR),_0x3b3878['text'](this[_0x4f6cb9(0x1b0)],this['r']*_0x4b49b4,-this['r']*_0x4b49b4);}[_0x46f958(0x18e)](){const _0x19a9df=_0x46f958;super[_0x19a9df(0x18e)](),strokeWeight(0x1*SCALE_FACTOR),stroke(0x0),fill(0xdc),circle(0x0,0x0,this['r']*0x2),line(-this['r']*1.3,0x0,this['r']*1.8,0x0),line(0x0,-this['r']*1.5,0x0,this['r']*1.5),line(0x0,-this['r']*1.5,-this['r']*1.3,-this['r']*1.5),line(-this['r']*1.3,-this['r']*1.5,-this['r']*1.3,0x0),fill(0x0),circle(0x0,this['r']*1.5,this['r']*0.2),circle(-this['r']*1.3,0x0,this['r']*0.2),circle(0x0,-this['r']*1.5,this['r']*0.2),circle(this['r']*1.8,0x0,this['r']*0.2),noStroke(),fill(0x0),textAlign(CENTER,CENTER),textSize(0x14*SCALE_FACTOR),text(this[_0x19a9df(0x1b0)],this['r']*1.1,-this['r']*1.1),textSize(0x10*SCALE_FACTOR),textStyle(ITALIC),text('I*',-this['r']*1.2,this['r']*0x1),text('I',this['r']*1.3,this['r']*0x1),text('U*',-this['r']*0.5,-this['r']*2.1),text('U',-this['r']*0.7,this['r']*1.6),textStyle(NORMAL),super['postDisplay'](),this[_0x19a9df(0x1d9)]();}[_0x46f958(0x1d9)](){const _0x91fa44=_0x46f958;this['connectors'][_0x91fa44(0x206)](_0x51fc3b=>{const _0x579bd3=_0x91fa44;_0x51fc3b['x']=this['x']+cos(this[_0x579bd3(0x215)]())*_0x51fc3b[_0x579bd3(0x200)]-sin(this[_0x579bd3(0x215)]())*_0x51fc3b['originalY'],_0x51fc3b['y']=this['y']+sin(this[_0x579bd3(0x215)]())*_0x51fc3b[_0x579bd3(0x200)]+cos(this[_0x579bd3(0x215)]())*_0x51fc3b[_0x579bd3(0x201)];});}[_0x46f958(0x215)](){switch(this['orientation']){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Node extends CircuitElement{constructor(_0x4e257d,_0x23d31a,_0x15b252=''){const _0x5523fe=_0x46f958;super(_0x4e257d,_0x23d31a),this['r']=0x14*SCALE_FACTOR,this[_0x5523fe(0x1b0)]=_0x15b252,this[_0x5523fe(0x1ef)]=0x3,this['connectors']=this[_0x5523fe(0x1a3)]();}['updateConnectorPositions'](){const _0x3df4d6=_0x46f958;let _0x4f7877=[];switch(this[_0x3df4d6(0x1ef)]){case 0x1:_0x4f7877=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0}];break;case 0x2:_0x4f7877=[{'index':0x0,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2},{'index':0x2,'x':0x0,'y':0x0,'originalY':this['r']+0x2}];break;case 0x3:_0x4f7877=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;case 0x4:_0x4f7877=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0},{'index':0x1,'x':0x0,'y':0x0,'originalY':this['r']+0x2},{'index':0x2,'x':0x0,'y':0x0,'originalX':0x0,'originalY':-this['r']-0x2}];break;default:_0x4f7877=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':this['r']+0x2},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['r']+0x2,'originalY':0x0},{'index':0x2,'x':0x0,'y':0x0,'originalX':-this['r']-0x2,'originalY':0x0}];break;}return _0x4f7877[_0x3df4d6(0x206)](_0x1dce44=>{const _0x4f82fb=_0x3df4d6;_0x1dce44[_0x4f82fb(0x200)]*=SCALE_FACTOR,_0x1dce44[_0x4f82fb(0x201)]*=SCALE_FACTOR;}),_0x4f7877;}[_0x46f958(0x1f2)](_0x2259c5){const _0x55d485=_0x46f958;_0x2259c5[_0x55d485(0x1cd)](1.5*SCALE_FACTOR),_0x2259c5[_0x55d485(0x1f4)](0x0);let _0x8c853e=this['r']*0.75;_0x2259c5['line'](0x0,-_0x8c853e,0x0,_0x8c853e),_0x2259c5['line'](-_0x8c853e,0x0,_0x8c853e,0x0);}[_0x46f958(0x18e)](){const _0x122fee=_0x46f958;super[_0x122fee(0x18e)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);let _0x4d40fe=this['r']*1.5;switch(this[_0x122fee(0x1ef)]){case 0x1:rotate(PI);break;case 0x2:rotate(PI/0x2);break;case 0x3:break;case 0x4:rotate(-PI/0x2);break;}line(0x0,-_0x4d40fe,0x0,0x0),line(-_0x4d40fe,0x0,_0x4d40fe,0x0),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this['label'],0x0,_0x4d40fe+0x5*SCALE_FACTOR),super[_0x122fee(0x1ec)](),this[_0x122fee(0x1d9)]();}['update'](){const _0x38e150=_0x46f958;this[_0x38e150(0x1ef)]=Math[_0x38e150(0x207)](this[_0x38e150(0x1df)]),this[_0x38e150(0x1bb)]=this['updateConnectorPositions']();}['updateConnectors'](){const _0xfecf04=_0x46f958;this[_0xfecf04(0x1bb)][_0xfecf04(0x206)](_0x322692=>{const _0x3cab1a=_0xfecf04;_0x322692['x']=this['x']+cos(this[_0x3cab1a(0x215)]())*_0x322692[_0x3cab1a(0x200)]-sin(this[_0x3cab1a(0x215)]())*_0x322692[_0x3cab1a(0x201)],_0x322692['y']=this['y']+sin(this[_0x3cab1a(0x215)]())*_0x322692[_0x3cab1a(0x200)]+cos(this[_0x3cab1a(0x215)]())*_0x322692[_0x3cab1a(0x201)];});}[_0x46f958(0x215)](){return 0x0;}}class SwitchSPDT extends CircuitElement{constructor(_0x16aa6d,_0xd1beb8,_0x1ba2e1){const _0x16133a=_0x46f958;super(_0x16aa6d,_0xd1beb8),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x16133a(0x1b0)]=_0x1ba2e1,this[_0x16133a(0x1fc)]=0x2,this[_0x16133a(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':-this['h']/0x4,'element':this},{'index':0x2,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':this['h']/0x4,'element':this}],this[_0x16133a(0x1bb)]['forEach'](_0x2ac245=>{const _0x27daa4=_0x16133a;_0x2ac245[_0x27daa4(0x200)]*=SCALE_FACTOR,_0x2ac245[_0x27daa4(0x201)]*=SCALE_FACTOR;});}['displayPalette'](_0x2833cc){const _0x3921d2=_0x46f958;_0x2833cc['strokeWeight'](1.5*SCALE_FACTOR),_0x2833cc[_0x3921d2(0x1f4)](0x0),_0x2833cc[_0x3921d2(0x18b)](),_0x2833cc[_0x3921d2(0x1c6)](CENTER),_0x2833cc[_0x3921d2(0x1ee)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x2833cc[_0x3921d2(0x21f)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x2833cc[_0x3921d2(0x21f)](this['w']/0x4*0.7,-this['h']/0x4*0.7,this['w']/0x2*0.7,-this['h']/0x4*0.7),_0x2833cc[_0x3921d2(0x21f)](this['w']/0x4*0.7,this['h']/0x4*0.7,this['w']/0x2*0.7,this['h']/0x4*0.7),_0x2833cc['line'](-this['w']/0x4*0.7,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x2833cc[_0x3921d2(0x1f8)](),_0x2833cc[_0x3921d2(0x1a9)](0x0),_0x2833cc[_0x3921d2(0x217)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x2833cc['text'](this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}[_0x46f958(0x18e)](){const _0x2c73d1=_0x46f958;super[_0x2c73d1(0x18e)](),strokeWeight(1.5*SCALE_FACTOR),noFill(),rectMode(CENTER),stroke(0x0),rect(0x0,0x0,this['w'],this['h']),stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),this[_0x2c73d1(0x1fc)]===0x1?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,-this['h']/0x4,this['w']/0x2,-this['h']/0x4),this['state']===0x2?stroke(0x0,0xff,0x0):stroke(0x0),line(this['w']/0x4,this['h']/0x4,this['w']/0x2,this['h']/0x4),stroke(0x0,0xff,0x0),this[_0x2c73d1(0x1fc)]===0x1?line(-this['w']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,this['h']/0x4),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x2c73d1(0x1b0)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x2c73d1(0x1ec)](),this[_0x2c73d1(0x1d9)]();}[_0x46f958(0x20e)](){const _0x517250=_0x46f958;this[_0x517250(0x1fc)]=this[_0x517250(0x1fc)]===0x1?0x2:0x1;if(this[_0x517250(0x1b0)]==='SA1'){let _0x50258b=findElementByLabel('E1');_0x50258b&&(_0x50258b[_0x517250(0x191)]=this['state']===0x2);}else{if(this['label']===_0x517250(0x1e2)){let _0x510288=findElementByLabel('E2');_0x510288&&(_0x510288[_0x517250(0x191)]=this['state']===0x1);}}redraw(),calculateCircuit();}['updateConnectors'](){const _0x493894=_0x46f958;this[_0x493894(0x1bb)][_0x493894(0x206)](_0x55b688=>{const _0x47c403=_0x493894;_0x55b688['x']=this['x']+cos(this['rotationAngle']())*_0x55b688['originalX']-sin(this[_0x47c403(0x215)]())*_0x55b688['originalY'],_0x55b688['y']=this['y']+sin(this['rotationAngle']())*_0x55b688[_0x47c403(0x200)]+cos(this['rotationAngle']())*_0x55b688[_0x47c403(0x201)];});}['rotationAngle'](){const _0x51258d=_0x46f958;switch(this[_0x51258d(0x1bd)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class Switch extends CircuitElement{constructor(_0x2e5bfd,_0x188175,_0xd2fb81){const _0x2e5df4=_0x46f958;super(_0x2e5bfd,_0x188175),this['w']=0x28*SCALE_FACTOR,this['h']=0x28*SCALE_FACTOR,this[_0x2e5df4(0x1b0)]=_0xd2fb81,this['isOpen']=!![],this['connectors']=[{'index':0x0,'x':0x0,'y':0x0,'originalX':-this['w']/0x2-0x2,'originalY':0x0,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':this['w']/0x2+0x2,'originalY':0x0,'element':this}],this[_0x2e5df4(0x1bb)][_0x2e5df4(0x206)](_0x9e35db=>{_0x9e35db['originalX']*=SCALE_FACTOR;});}[_0x46f958(0x1f2)](_0x596391){const _0x25dc70=_0x46f958;_0x596391[_0x25dc70(0x1cd)](1.5*SCALE_FACTOR),_0x596391[_0x25dc70(0x1f4)](0x0),_0x596391[_0x25dc70(0x21f)](-this['w']/0x2*0.7,0x0,-this['w']/0x4*0.7,0x0),_0x596391[_0x25dc70(0x21f)](this['w']/0x4*0.7,0x0,this['w']/0x2*0.7,0x0),_0x596391[_0x25dc70(0x21f)](0x0,0x0,this['w']/0x4*0.7,-this['h']/0x4*0.7),_0x596391[_0x25dc70(0x18b)](),_0x596391[_0x25dc70(0x1c6)](CENTER),_0x596391[_0x25dc70(0x1ee)](0x0,0x0,this['w']*0.7,this['h']*0.7),_0x596391[_0x25dc70(0x1f8)](),_0x596391[_0x25dc70(0x1a9)](0x0),_0x596391[_0x25dc70(0x217)](CENTER,BOTTOM),textSize(0x8*SCALE_FACTOR),_0x596391['text'](this['label'],0x0,-this['h']/0x2-0x2*SCALE_FACTOR);}['display'](){const _0x12900f=_0x46f958;super[_0x12900f(0x18e)](),strokeWeight(1.5*SCALE_FACTOR),this['isOpen']?stroke(0x0):stroke(0x0,0xff,0x0),line(-this['w']/0x2,0x0,-this['w']/0x4,0x0),line(this['w']/0x4,0x0,this['w']/0x2,0x0),this[_0x12900f(0x214)]?line(-this['h']/0x4,0x0,this['w']/0x4,-this['h']/0x4):line(-this['w']/0x4,0x0,this['w']/0x4,0x0),noFill(),rectMode(CENTER),rect(0x0,0x0,this['w'],this['h']),rotate(0x0),noStroke(),fill(0x0),textAlign(CENTER,BOTTOM),textSize(0xc*SCALE_FACTOR),text(this[_0x12900f(0x1b0)],0x0,-this['h']/0x2-0x2*SCALE_FACTOR),super[_0x12900f(0x1ec)](),this[_0x12900f(0x1d9)]();}['toggleState'](){const _0x3ac37b=_0x46f958;if(this[_0x3ac37b(0x1b0)]===_0x3ac37b(0x1c5)){let _0x569be2=findElementByLabel('R1');_0x569be2&&(this[_0x3ac37b(0x214)]?(savedR1Resistance=_0x569be2[_0x3ac37b(0x198)],_0x569be2['resistance']='0'):(savedR1Resistance!==undefined?_0x569be2[_0x3ac37b(0x198)]=savedR1Resistance:_0x569be2[_0x3ac37b(0x198)]=_0x3ac37b(0x210),savedR1Resistance=undefined));}else{if(this[_0x3ac37b(0x1b0)]===_0x3ac37b(0x1e2)){let _0x4d9fc3=findElementByLabel('L1');_0x4d9fc3&&(this['isOpen']?(savedL1Induction=_0x4d9fc3[_0x3ac37b(0x1ae)],_0x4d9fc3['induction']='0'):(savedL1Induction!==undefined?_0x4d9fc3[_0x3ac37b(0x1ae)]=savedL1Induction:_0x4d9fc3[_0x3ac37b(0x198)]='5',savedL1Induction=undefined));let _0x2916c4=findElementByLabel('Rk');_0x2916c4&&(this[_0x3ac37b(0x214)]?(savedRkResistance=_0x2916c4[_0x3ac37b(0x198)],_0x2916c4[_0x3ac37b(0x198)]='0'):(savedRkResistance!==undefined?_0x2916c4[_0x3ac37b(0x198)]=savedRkResistance:_0x2916c4[_0x3ac37b(0x198)]='10',savedRkResistance=undefined));}else{if(this[_0x3ac37b(0x1b0)]===_0x3ac37b(0x223)){let _0x1c1189=findElementByLabel('C1');_0x1c1189&&(this[_0x3ac37b(0x214)]?(savedC1Capacity=_0x1c1189[_0x3ac37b(0x1aa)],_0x1c1189[_0x3ac37b(0x1aa)]='0'):(savedC1Capacity!==undefined?_0x1c1189[_0x3ac37b(0x1aa)]=savedC1Capacity:_0x1c1189[_0x3ac37b(0x1aa)]='10',savedC1Capacity=undefined));}}}this[_0x3ac37b(0x214)]=!this[_0x3ac37b(0x214)],redraw(),calculateCircuit();}['updateConnectors'](){const _0x1c2766=_0x46f958;this[_0x1c2766(0x1bb)][_0x1c2766(0x206)](_0x3acdf3=>{const _0x17cda7=_0x1c2766;_0x3acdf3['x']=this['x']+cos(this[_0x17cda7(0x215)]())*_0x3acdf3[_0x17cda7(0x200)]-sin(this[_0x17cda7(0x215)]())*_0x3acdf3['originalY'],_0x3acdf3['y']=this['y']+sin(this[_0x17cda7(0x215)]())*_0x3acdf3[_0x17cda7(0x200)]+cos(this['rotationAngle']())*_0x3acdf3[_0x17cda7(0x201)];});}['rotationAngle'](){const _0x1d194f=_0x46f958;switch(this[_0x1d194f(0x1bd)]){case 0x2:return PI/0x2;case 0x3:return PI;case 0x4:return 0x3*PI/0x2;default:return 0x0;}}}class StaticTextDisplay{constructor(_0x247088,_0x224121,_0x6910d1){const _0x3ec281=_0x46f958;this['x']=_0x247088,this['y']=_0x224121,this[_0x3ec281(0x1d4)]=_0x6910d1;}[_0x46f958(0x192)](_0x354e69){const _0x37e94e=_0x46f958;this[_0x37e94e(0x1d4)]=_0x354e69;}['display'](){const _0x44ce9c=_0x46f958;push(),translate(this['x'],this['y']),fill(0x56,0xbd,0x2a),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,CENTER),stroke('lightgray'),fill('240'),textSize(0xf*SCALE_FACTOR);let _0x292129=textWidth(this[_0x44ce9c(0x1d4)]);rectMode(CENTER);let _0x3692c5=0x0,_0x4c17a7=0x0,_0x102605=0x2*SCALE_FACTOR,_0x1e00ab=0x2*SCALE_FACTOR;this['text']&&rect(_0x3692c5,_0x4c17a7,_0x292129+_0x102605*0x2,0x14*SCALE_FACTOR+_0x1e00ab*0x2,0x2*SCALE_FACTOR),noStroke(),fill(0x56,0xbd,0x2a),textAlign(CENTER,CENTER),text(this[_0x44ce9c(0x1d4)],_0x3692c5,_0x4c17a7),pop();}}class AutotransformerLaboratory extends CircuitElement{constructor(_0x84eca6,_0xc2bf79,_0x3cf22e){const _0x31c6e0=_0x46f958;super(_0x84eca6,_0xc2bf79),this['h']=0x32*SCALE_FACTOR,this['w']=0x3c*SCALE_FACTOR,this['r']=Math[_0x31c6e0(0x1d6)](this['w'],this['h'])/0x2,this[_0x31c6e0(0x1b0)]=_0x3cf22e,this['tapPosition']=0.5,this[_0x31c6e0(0x219)]='50',this[_0x31c6e0(0x1bb)]=[{'index':0x0,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(-this['h']/0x2-0x2)*SCALE_FACTOR,'element':this},{'index':0x1,'x':0x0,'y':0x0,'originalX':0x0,'originalY':(this['h']/0x2+0x2)*SCALE_FACTOR,'element':this}];}['display'](){const _0x308fa5=_0x46f958;super[_0x308fa5(0x18e)](),strokeWeight(1.5*SCALE_FACTOR),stroke(0x0);const _0x447296=this['h'],_0x1968ed=this['w'];let _0x2b8967=_0x447296*1.2,_0x27660e=_0x1968ed*0.35,_0x1884a0=-_0x2b8967/0x2,_0x25581f=_0x2b8967/0x2,_0x446469=-_0x1968ed*0.1;drawingContext['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),rect(_0x446469-_0x27660e,-_0x447296*1.4,_0x27660e*0x2,2.8*_0x447296),drawingContext[_0x308fa5(0x1d5)]([]),noFill();const _0x297747=0x3,_0x3f355f=_0x2b8967/_0x297747;for(let _0x4f4e3d=0x0;_0x4f4e3d<_0x297747;_0x4f4e3d++){let _0x2dd332=_0x1884a0+_0x4f4e3d*_0x3f355f;arc(_0x446469-_0x447296/0xa*2.2,_0x2dd332+_0x3f355f/0x2,_0x27660e,_0x3f355f,-PI/0x2,PI/0x2);}line(_0x446469-_0x27660e/0x2-0x3,_0x1884a0-_0x447296/0xa,_0x446469-_0x27660e/0x2-0x3,_0x1884a0),line(_0x446469-_0x27660e/0x2-0x3,_0x1884a0-_0x447296/0xa,_0x446469-_0x27660e*1.5,_0x1884a0-_0x447296/0xa),line(_0x446469-_0x27660e/0x2-0x3,_0x25581f,_0x446469-_0x27660e/0x2-0x3,_0x25581f+_0x447296*0.4),line(_0x446469-_0x27660e*1.5,_0x25581f+_0x447296*0.4,_0x446469-_0x27660e/0x2-0x3,_0x25581f+_0x447296*0.4);let _0x514232=lerp(_0x1884a0,_0x25581f,this[_0x308fa5(0x1e4)]);line(_0x446469+_0x27660e/0x3,_0x514232,_0x446469+_0x27660e/0x4+0x19*SCALE_FACTOR,_0x514232),fill(0x0),triangle(_0x447296/0x14,-_0x447296/0x14,-_0x447296/0xa,0x0,_0x447296/0x14,_0x447296/0x14),circle(_0x446469-_0x27660e/0x2-0x3,_0x25581f+_0x447296*0.4,0x3*SCALE_FACTOR),fill(0x0),noStroke(),textSize(0xc*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x308fa5(0x1be),-_0x1968ed/0xa,-_0x447296*1.7),textSize(0xf*SCALE_FACTOR),textAlign(CENTER,TOP),text(this['voltage']+'\x20В',-_0x1968ed/0xa,_0x447296*1.6),super[_0x308fa5(0x1ec)]();}['displayPalette'](_0x3f4090){const _0x1eb045=_0x46f958;_0x3f4090[_0x1eb045(0x1cd)](0x1*SCALE_FACTOR),_0x3f4090[_0x1eb045(0x1f4)](0x0);let _0x481ae8=this['h']*0.6,_0x14e490=this['w']*0.25,_0x141b52=-_0x481ae8/0x2,_0x50dbcb=_0x481ae8/0x2,_0x4374b6=-this['w']*0.1;_0x3f4090[_0x1eb045(0x228)]['setLineDash']([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),_0x3f4090['rect'](_0x4374b6-_0x14e490,_0x141b52-_0x481ae8/0x2,_0x14e490+0xf,_0x481ae8*0x2),_0x3f4090['drawingContext'][_0x1eb045(0x1d5)]([]),_0x3f4090[_0x1eb045(0x18b)]();const _0x769988=0x3,_0x59e9db=_0x481ae8/_0x769988;for(let _0x516f1a=0x0;_0x516f1a<_0x769988;_0x516f1a++){let _0x376e92=_0x141b52+_0x516f1a*_0x59e9db;_0x3f4090[_0x1eb045(0x195)](_0x4374b6-0xf,_0x376e92+_0x59e9db/0x2,_0x14e490,_0x59e9db,-PI/0x2,PI/0x2);}_0x3f4090['line'](_0x4374b6-_0x14e490/0x2-0x3,_0x141b52-0xa,_0x4374b6-_0x14e490/0x2-0x3,_0x141b52),_0x3f4090[_0x1eb045(0x21f)](_0x4374b6-_0x14e490/0x2-0x3,_0x141b52-0xa,_0x4374b6-_0x14e490*1.5,_0x141b52-0xa),_0x3f4090[_0x1eb045(0x21f)](_0x4374b6-_0x14e490/0x2-0x3,_0x50dbcb,_0x4374b6-_0x14e490/0x2-0x3,_0x50dbcb+0xa),_0x3f4090[_0x1eb045(0x21f)](_0x4374b6-_0x14e490*1.5,_0x50dbcb+0xa,_0x4374b6-_0x14e490/0x2-0x3,_0x50dbcb+0xa);let _0x4f9857=lerp(_0x141b52,_0x50dbcb,this[_0x1eb045(0x1e4)]);_0x3f4090[_0x1eb045(0x21f)](_0x4374b6+_0x14e490/0x4,_0x4f9857,_0x4374b6+_0x14e490/0x4+0xc*SCALE_FACTOR,_0x4f9857),_0x3f4090['fill'](0x0),_0x3f4090[_0x1eb045(0x1ff)](0x0,-0x3,-0xa,0x0,0x0,0x3),_0x3f4090['fill'](0x0),_0x3f4090['noStroke'](),_0x3f4090['textSize'](0xa*SCALE_FACTOR),_0x3f4090['textAlign'](CENTER,BOTTOM),_0x3f4090[_0x1eb045(0x1d4)]('Л\x20А\x20Т\x20Р',0x0,-this['h']*0.7);}}class Oscilloscope extends CircuitElement{constructor(_0x5d8bd2,_0x34c821,_0x4248bb,_0x49d7a6){const _0xb905a5=_0x46f958;super(_0x5d8bd2,_0x34c821),this[_0xb905a5(0x1ba)]=_0x4248bb,this['height']=_0x49d7a6,this[_0xb905a5(0x20f)]=color(0x0,0xff,0x0),this[_0xb905a5(0x1f9)]=color(0x0,0x94,0xff),this['currentAmplitude']=0x0,this[_0xb905a5(0x1dc)]=0x0,this[_0xb905a5(0x1a8)]=0x32,this['phaseAngleDeg']=0x0;}[_0x46f958(0x21b)](_0x19776f,_0x599677,_0x581d88,_0x5af869){const _0x3ae3b9=_0x46f958;this[_0x3ae3b9(0x1d8)]=_0x19776f,this[_0x3ae3b9(0x1dc)]=_0x599677,this[_0x3ae3b9(0x1a8)]=_0x581d88,this[_0x3ae3b9(0x1e6)]=_0x5af869;}[_0x46f958(0x18e)](){const _0x1356bc=_0x46f958;push(),translate(this['x'],this['y']),stroke('lightgray'),strokeWeight(0x1*SCALE_FACTOR),fill(0xf0),rect(0x0,0x0,this[_0x1356bc(0x1ba)],this[_0x1356bc(0x21d)]),drawingContext[_0x1356bc(0x1d5)]([0x5*SCALE_FACTOR,0x5*SCALE_FACTOR]),line(0x0,this['height']/0x2,this[_0x1356bc(0x1ba)],this[_0x1356bc(0x21d)]/0x2),line(this[_0x1356bc(0x1ba)]/0x2,0x0,this['width']/0x2,this['height']),drawingContext[_0x1356bc(0x1d5)]([]),stroke(this['waveformColorVoltage']),fill(this['waveformColorVoltage']),rect(0x0,this[_0x1356bc(0x21d)]*0.7,this[_0x1356bc(0x1ba)]/0x3,this[_0x1356bc(0x21d)]/0x8),stroke(this[_0x1356bc(0x20f)]),fill(this[_0x1356bc(0x20f)]),rect(0x0,this[_0x1356bc(0x21d)]*0.85,this[_0x1356bc(0x1ba)]/0x3,this[_0x1356bc(0x21d)]/0x8),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text(_0x1356bc(0x21e),this[_0x1356bc(0x1ba)]/0x6,this[_0x1356bc(0x21d)]*0.82),fill(0xff),noStroke(),textSize(0xa*SCALE_FACTOR),textAlign(CENTER,BOTTOM),text('Струм',this[_0x1356bc(0x1ba)]/0x6,this['height']*0.97),(this[_0x1356bc(0x1d8)]>0x0||this[_0x1356bc(0x1dc)]>0x0)&&this[_0x1356bc(0x220)](),pop();}['drawWaveforms'](){const _0x113236=_0x46f958;push(),translate(0x14*SCALE_FACTOR,this['height']/0x2);const _0x4e9f96=0x96,_0x269658=0x3*PI/_0x4e9f96,_0xa6714c=this[_0x113236(0x21d)]/0x4;stroke(this[_0x113236(0x20f)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();const _0x59ec0e=this['phaseAngleDeg']*PI/0xb4;for(let _0x184092=0x0;_0x184092<=_0x4e9f96;_0x184092++){const _0x1663a0=_0x184092*_0x269658,_0x4e9805=sin(_0x1663a0-_0x59ec0e)*this[_0x113236(0x21d)]*0.25;vertex(_0x184092*this['width']/_0x4e9f96-0x14*SCALE_FACTOR,-_0x4e9805);}endShape(),stroke(this[_0x113236(0x1f9)]),strokeWeight(0x2*SCALE_FACTOR),noFill(),beginShape();for(let _0x57d4b1=0x0;_0x57d4b1<=_0x4e9f96;_0x57d4b1++){const _0x3e3edc=_0x57d4b1*_0x269658,_0xc7c713=sin(_0x3e3edc)*this[_0x113236(0x21d)]*0.45;vertex(_0x57d4b1*this[_0x113236(0x1ba)]/_0x4e9f96-0x14*SCALE_FACTOR,-_0xc7c713);}endShape(),pop();}}


        </script>

</body>
</html>